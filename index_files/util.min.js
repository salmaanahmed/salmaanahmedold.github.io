var _slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}define("util/validators/validate",["santa-editor-utils"],function(e){"use strict";return e.validators}),define("util/validators/validationExpressions",[],function(){"use strict";return Object.freeze({validUrlReg:/^(?:(?:ftps?:|https?:)?\/\/)?(?:(?:[\u0400-\uA69F\w][\u0400-\uA69F\w-]*)?[\u0400-\uA69F\w]\.)+(?:[\u0400-\uA69Fa-z]+|\d{1,3})(?::[\d]{1,5})?(?:[/?#].*)?\S$/i,validFullUrl:/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/,validUrlEmbed:/^(https:\/\/)(?:(?:[\u0400-\uA69F\w][\u0400-\uA69F\w-]*)?[\u0400-\uA69F\w]\.)+(?:[\u0400-\uA69Fa-z]+|\d{1,3})(?::[\d]{1,5})?(?:[/?#].*)?\S$/,invalidUrlCharacters:/[^A-Za-z0-9-]/g,validYouTubeLongUrlReg:/(?:youtube\.com\/watch[^\s]*[\?&]v=)([\w-]+)/,validYouTubeShortUrlReg:/(?:youtu\.be\/)([\w-]+)/,validVimeoUrlReg:/vimeo\.com\/(\d+)$/,validDailymotionUrlReg:/dailymotion\.com\/(?:video|playlist)\/([^_/]+)/,validFacebookUrlReg:/facebook\.com\/.+\/videos\/[A-Za-z0-9._%-]*/,validVideoUrlReg:/^(http:|https:|)\/\/(player.|www.)?(dailymotion\.com|facebook\.com|vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(.+\/videos\/|video\/|embed\/|watch\?v=|v\/|^\/)?([A-Za-z0-9._%-]*)(\&\S+)?/,validEmailReg:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,validPinItUrl:/^https:\/\/?www\.pinterest\.com\/pin\/\d+\/*$/,validatePinterestUrl:/^(https?:\/\/)?www\.pinterest\.com\/[^&%$#*?\\_=+.!<>|]+\/?$/,validTwitterUser:/^@?[a-zA-Z0-9_%]{1,15}$/,validNumericValueReg:/^[0-9]+(\.[0-9]+)?$/,validFacebookPageId:/[^\w\.]/,validDisqusId:/^[a-zA-Z0-9_-]+$/,validPhoneReg:/^[^A-Za-z]+$/,validInternationalPhoneReg:/^\+((?:9[679]|8[035789]|6[789]|5[90]|42|3[578]|2[1-689])|9[0-58]|8[1246]|6[0-6]|5[1-8]|4[013-9]|3[0-469]|2[70]|7|1)(?:\W*\d){0,13}\d$/,validElementName:/^[A-Za-z][A-Za-z0-9\-\_\:\.]*$/,validVariableName:/^[a-zA-Z_$][\w$]*$/,validEventName:/^[a-zA-Z0-9]+$/,validEmoji:/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/})}),define("util/bi/events.json",[],function(){return{REMOVE_COMPONENT_SECOND_STEP_CLICK:{evid:280,src:38,endpoint:"editor",fields:{app_id:"string",app_site_id:"string",instance_id:"string",is_last_tpa:"number",component_id:"string",component_type:"string",removal_method:"string"}},OPEN_MARKET_CLICK:{evid:164,src:38,endpoint:"editor",fields:{is_first:"boolean",num_pending_apps:"number",referral_info_category:"string",referral_info:"string"}},COMPONENT_REMOVED:{evid:170,fields:{app_id:"guid",app_site_id:"guid",component_id:"string",widget_id:"string",component_type:"string",instance_id:"guid",is_last_tpa:"bool",removal_method:"string"}}}}),define("util/bi/errors.json",[],function(){return{TRANSLATION_ERROR:{errorCode:200,errorName:"TRANSLATION_ERROR",desc:"error translating text with parameters",severity:"warning",params:{p1:"key",p2:"translated"}}}}),define("util/bi/bi",["lodash","util/bi/events.json","util/bi/errors.json"],function(e,t,i){"use strict";return{events:t,errors:i,registerEvents:e.noop}}),define("util/translation/translate",["json!langs","lodash","util/bi/bi","santa-editor-utils","coreUtilsLib","coreBi","experiment","ab-translate"],function(t,i,n,e,r,o,a,s){"use strict";var l=Array.prototype.slice,u=[],c=function(){u.push(l.call(arguments))},d=e.url.getParameterByName("isqa"),p=function(){var t=function(){};d?t=function(e){var t="http://itayjiraapp.appspot.com/api/v1/santa/missingkey?key="+encodeURIComponent(e),i=new window.XMLHttpRequest;i.open("GET",t,!0),i.onreadystatechange=function(){4===i.readyState&&200!==i.status&&304!==i.status&&r.log.info("failed to report missing key:"+e)},i.send(null)}:n&&(t=function(e){return c(n.errors.TRANSLATION_ERROR,{key:e})});var i={};return function(e){return i[e]||(i[e]=!0,t(e)),"!"+e+"!"}}();var g=i.fromPairs(i.map(s.default(a.getRunningExperiments(),t),function(e,t){return[t.toLowerCase(),e]}));function f(e){if(!e)return null;var i,t=e.toLowerCase(),n=g[t];if(n){if(1<arguments.length){var r=l.call(arguments,1);return i=r,n.replace(/\{(\d+)}/g,function(e,t){return void 0===i[t]?e:i[t]})}return n}return p(e)}function m(e){var t=f(e);return window.reverseTranslations[t]=e,t}function h(e){t.isUsingFallback&&e.dsActions.bi.error(o.errors.IS_USING_FALLBACK),c=e.dsActions.bi.error,u.forEach(function(e){c.apply(null,e)}),u.length=0}return window.reverseTranslations={},f.init=h,f.addLangs=function(e){i.assign(g,e)},m.init=h,d?m:f}),define("util/link/link",["lodash","util/translation/translate","santa-editor-utils"],function(a,n,r){"use strict";var s={NO_LINK:"NoLink",PAGE_LINK:"PageLink",ANCHOR_LINK:"AnchorLink",EXTERNAL_LINK:"ExternalLink",DOCUMENT_LINK:"DocumentLink",PHONE_LINK:"PhoneLink",WHATSAPP_LINK:"WhatsAppLink",ADDRESS_LINK:"AddressLink",EMAIL_LINK:"EmailLink",LOGIN_TO_WIX_LINK:"LoginToWixLink",DYNAMIC_PAGE_LINK:"DynamicPageLink",EDGE_ANCHOR_LINK:"EdgeAnchorLinks",POPUP_LINK:"PopupLink",FORM_SUBMIT_BUTTON_LINK:"FormSubmitButtonLink"};function o(e){return e.replace("#","")}function l(t){var e=a.flatMap(t.mainMenu.getMenu(!0),function(e){return[e].concat(_toConsumableArray(e.items))}),i=t.dsRead.pages.getPagesData(),r=a.keyBy(i,function(e){return e.id}),n=a.reduce(a.filter(e,function(e){return a.get(e,"link.type")===s.PAGE_LINK}),function(e,t){var i,n=(i=t.link.pageId,a.startsWith(i,"#")?i.substring(1):i);return r[n]&&(e.push(r[n]),delete r[n]),e},[]),o=a.filter(r,function(e){return!t.dsRead.tpa.isPageMarkedAsHideFromMenu(e.tpaApplicationId,e.tpaPageId)});return a.concat(n,o)}return{LinkTypes:s,getLinkPanelProps:function(e,t){var n,i=(n=e,a.map(n.components.get.byType("wysiwyg.common.components.anchor.viewer.Anchor"),function(e){var t=n.components.data.get(e),i=n.components.getPage(e).id;return{anchorName:t.name,pageId:"#"+i,anchorDataId:"#"+t.id,y:n.components.layout.get(e).y}})),r={bi:{selectedComponentType:e.selection.getSelectedComponentType()},data:{pages:l(e),anchors:i,currentPageId:e.dsRead.pages.getPrimaryPageId(),popups:e.pages.popupPages.getDataListOrdered()},createDefaultData:e.dsRead.data.createItem};return t=a.merge(r,t),a.has(t,"visibleSections.PhoneLink")||a.set(t,"visibleSections.PhoneLink",!0),t},getAnchorLinkName:function(e,t){if("SCROLL_TO_TOP"===t.anchorDataId||"SCROLL_TO_BOTTOM"===t.anchorDataId)return t.anchorName;var i=a.has(t.pageId,"id")?t.pageId.id:t.pageId,n=a.isPlainObject(t.anchorDataId)?t.anchorDataId:e.data.getById(o(t.anchorDataId),i);return n?n.name:function(e,t){if(t){var i=a.isPlainObject(t)?t:e.dsRead.pages.data.get(o(t));if(i)return i.title||""}return""}(e,t.pageId)},getLinkValueAsString:function(e,t,i){return r.getLinkValueAsString(e,t,i,n)}}}),define("util/url/UrlBuilder",["lodash"],function(t){"use strict";function e(e,t){this._base=e,this.params=t||{}}return e.prototype.base=function(e){return this._base=e,this},e.prototype.param=function(e,t){return this.params[e]=t,this},e.prototype.ifParam=function(e,t,i){return e?this.param(t,i):this},e.prototype.paramsObj=function(e){return this.params=t.assign(this.params,e),this},e.prototype.url=function(){var e=t(this.params).toPairs().invokeMap("join","=").join("&");return e&&(e="?"+e),this._base+e},e}),define("util/jsUtils/jsUtils",[],function(){"use strict";function r(e){if(Array.isArray(e))return e;if("string"==typeof e)return e.split(".");throw new Error("pathElements passed to setDeepPath/getDeepPath must be an Array or a String!")}return{setDeepPath:function(e,t,i){t=r(t);for(var n=void 0;1<t.length;){if(void 0===e[n=t.shift()]&&(e[n]={},void 0===e[n]))return;e=e[n]}return e[n=t.shift()]=i,e[n]},getDeepPath:function(e,t){for(t=r(t);t.length;){if(!e)return;e=e[t.shift()]}return e}}}),define("util/utils/guid",["lodash"],function(n){"use strict";var r=void 0,o=0;function e(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}return{generateNewPageId:function e(t){var i=new Array(4).join().replace(/(.|$)/g,function(){return(36*Math.random()|0).toString(36)});return n.includes(t,i)?e(t):i},getUniqueId:function(e,t){e=e||"",t=t||"";var i=Date.now();return i===r?o++:(r=i,o=0),e+t+Number(r).toString(36)+(o||"")},getGUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e)}}}),define("util/utils/string",["coreUtilsLib"],function(e){"use strict";return{capitalize:e.stringUtils.capitalize,startsWith:e.stringUtils.startsWith,isNullOrEmpty:e.stringUtils.isNullOrEmpty,removeHtmlTagsFromString:function(e){return e.replace(/<[^<]*>/g,"")},removeBreakLinesFromString:function(e){return e.replace(/[\n\r]/g," ")},removeNonSupportedCharacters:function(e){return e.replace(/[\u2028-\u2029]/g,"")},isTrue:e.stringUtils.isTrue}}),define("util/utils/functionUtils",["lodash"],function(a){"use strict";return{cacheFunction:function(i,n,r){var o=void 0;return r=r||{},a.isFunction(n)||(o=n),function(){var e=o||n.apply(this,arguments),t=void 0;return a.has(r,e)||(t=i.apply(this,arguments),a.set(r,e,t)),t||a.get(r,e)}}}}),define("util/utils/cookie",["lodash","coreUtilsLib"],function(o,a){"use strict";return{parseCookieString:a.cookieUtils.parseCookieString,setCookie:a.cookieUtils.setCookie,getCookie:a.cookieUtils.getCookie,deleteCookie:a.cookieUtils.deleteCookie,setUserPetriOverrideCookie:function(e,t){var i="old"===t?"new":"old",n=a.cookieUtils.getCookie("petri_ovr");n?o.includes(n,"specs."+e)?n=n.replace("specs."+e+"#"+i,"specs."+e+"#"+t):n+="|specs."+e+"#"+t:n="specs."+e+"#"+t;var r=new Date((new Date).setYear((new Date).getFullYear()+1));a.cookieUtils.setCookie("petri_ovr",n,r,"wix.com")}}}),define("util/utils/classNames",[],function(){"use strict";return{inheritClassName:function(e,t){return(t||"")+(e.className?" "+e.className:"")}}}),define("util/outerClick/outerClick",["lodash","react","reactDOM","prop-types","create-react-class"],function(o,e,t,i,n){"use strict";return n({displayName:"outerClick",propTypes:{onOuterClick:i.func.isRequired,children:i.node},componentDidMount:function(){var n=this.props.onOuterClick,r=t.findDOMNode(this);this.onOuterClick=function(e){for(var t=[],i=e.target;i;)t.push(i),i=i.parentNode||i.parentElement;o.includes(t,r)||n(e)},window.document.addEventListener("mousedown",this.onOuterClick,!0)},componentWillUnmount:function(){window.document.removeEventListener("mousedown",this.onOuterClick,!0)},render:function(){return e.Children.only(this.props.children)}})}),define("util/props/propTypesFilterMixin",["lodash"],function(t){"use strict";return{filteredProps:function(){return t.omit(this.props,t.keys(this.constructor.propTypes))},getContentProps:function(){var e=this.filteredProps();return e.headerTitle=e.title,t.omit(e,"title")}}}),define("util/translation/translationUtil",["lodash","util/translation/translate","util/bi/bi"],function(a,e,s){"use strict";var t=function(){var o=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).translate||e;return{translate:o,translateTemplate:function(t,e,i,n){var r=n?t:o(t);if(a.every(e,function(e,t){return a.includes(r,t)}))try{r=a.template(r)(e)}catch(e){a.isFunction(i)&&i(s.errors.TRANSLATION_ERROR,{key:t,translated:r})}return r}}},i=t();return i.create=t,i}),define("util/translation/translationMixin",["util/translation/translationUtil","prop-types","lodash"],function(e,t,o){"use strict";var i=function(){var r=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).translationUtil||e;return{propTypes:{shouldTranslate:t.bool},getDefaultProps:function(){return{shouldTranslate:!0}},translateIfNeeded:function(e){return this.props.shouldTranslate?r.translate(e):e},translateTemplate:function(e,t,i){var n=o.isFunction(this.props.biError)?this.props.biError:o.get(i,"dsActions.bi.error");return r.translateTemplate(e,t,n,!this.props.shouldTranslate)}}},n=i();return n.create=i,n}),define("util/postMessage/postMessageMixin",["lodash"],function(e){"use strict";return{componentWillMount:function(){this.handlers={}},componentWillUnmount:function(){e.forEach(this.handlers,e.bind(function(e,t){this.clearPastMessageHandlerNamed(t)},this))},setPostMessageHandler:function(e,t){this.setPostMessageHandlerNamed("default",e,t)},setPostMessageHandlerNamed:function(e,i,n){this.handlers.hasOwnProperty(e)&&this.clearPastMessageHandlerNamed(e);var t=function(e){var t=void 0;try{"string"==typeof e.data&&(t=JSON.parse(e.data))}catch(e){return}t&&(t.id===i||null===i&&void 0===t.id)&&n(t)};window.addEventListener("message",t,!1),this.handlers[e]=t},clearPastMessageHandlerNamed:function(e){this.handlers[e]&&(window.removeEventListener("message",this.handlers[e],!1),delete this.handlers[e])}}}),define("util/mixins/draggableMixin",["reactDOM","zepto","lodash","santa-editor-utils"],function(o,a,s,e){"use strict";var l=e.elementUtils,u=e.math,t=e.animationFrameUtils,c=a(window.document),i=t.request,n=t.cancel;function r(){c.off(".draggable");var e=this.draggable;n(e.pendingFrameRequest),e.pendingFrameRequest=0,a(e.element).css({transition:""}),this.isBeingDragged&&(this.isBeingDragged=!1,this.onDragEnd&&this.onDragEnd({left:e.nodePosition.x,top:e.nodePosition.y})),e.element=void 0}return{getInitialState:function(){return this.isBeingDragged=!1,{isCustomPosition:!(this.draggable={})}},startDrag:function(e,t,i){var n=this.draggable;n.limits={x:[],y:[],lockedX:!1,lockedY:!1},n.element=a(s.isObject(i)&&o.findDOMNode(i)||o.findDOMNode(this)),"string"!=typeof t&&s.assign(n.limits,t);var r=n.element.offset();n.nodePosition={y:r.top-window.pageYOffset,x:r.left-window.pageXOffset},n.relPosition={x:e.pageX-window.pageXOffset-n.nodePosition.x,y:e.pageY-window.pageYOffset-n.nodePosition.y},n.nodeSizes={height:n.element.height(),width:n.element.width()},n.event={},c.on({"mousemove.draggable":this.onDrag,"mouseup.draggable":this.endDrag}),a(n.element).css({transition:"none"})},onDrag:function(e){this.isBeingDragged||(this.isBeingDragged=!0,this.onDragStart&&this.onDragStart());var t=this.draggable;return t.event.pageX=e.pageX,t.event.pageY=e.pageY,t.pendingFrameRequest||(t.pendingFrameRequest=i(function(){this.setState({isCustomPosition:!0});var e=this.draggable;e.pendingFrameRequest=0;var t=e.limits,i=e.event.pageX-window.pageXOffset-e.relPosition.x;i=t.lockedX?u.ensureWithinLimits(i,e.nodePosition.x,e.nodePosition.x):u.ensureWithinLimits(i,t.x[0],t.x[1]-e.nodeSizes.width);var n=e.event.pageY-window.pageYOffset-e.relPosition.y;n=t.lockedY?u.ensureWithinLimits(n,e.nodePosition.y,e.nodePosition.y):u.ensureWithinLimits(n,t.y[0],t.y[1]-e.nodeSizes.height),e.nodePosition.x=i,e.nodePosition.y=n;var r={left:e.nodePosition.x,top:e.nodePosition.y};this.whileDrag?this.whileDrag(r):l.setOffset(e.element,r.top,r.left)}.bind(this))),!1},endDrag:function(){r.call(this)},componentWillUnmount:function(){this.draggable.element&&r.call(this)}}}),define("util/serviceTopology/serviceTopology",[],function(){"use strict";return window.serviceTopology}),define("util/media/media",["lodash","staticAssets","util/serviceTopology/serviceTopology","util/translation/translate","santa-editor-utils","platformUtils","constants"],function(r,e,o,a,s,t,i){"use strict";var n=t.backgroundUtils,l=e.staticAssetsMap,u=/\.pdf$/i;function c(e){return r.concat(e.components.get.byType(i.COMP_TYPES.SITE_BUTTON),e.components.get.byType(i.COMP_TYPES.DOCUMENT_MEDIA))}return{getMediaUrl:function(e,t){var i=s.url.joinURL(o.scriptsDomainUrl,"services","santa-resources","resources","editor"),n=l[e]||l[t]||t||e;return n&&"/"===n[0]&&(n=n.substr(1)),[i,n].join("/")},getVideoIfAvailable:function(e,t){var i="!"+t+"!",n=a(t);return!r.includes(["NO_VIDEO",i],n)&&n},isPdfAlreadyMarkedIndexable:function(t,e){var i=c(t).map(function(e){return t.components.data.get(e).link});return r.some(i,{docId:e,indexable:!0})},isFilePDF:function(e){return u.test(e||"")},setLinksAsIndexableForDoc:function(t,i){var e=c(t).map(function(e){return{pointer:e,data:t.components.data.get(e)}});r.forEach(e,function(e){r.get(e.data.link,"docId")!==i||e.data.link.indexable||(e.data.link.indexable=!0,t.components.data.update(e.pointer,e.data))})},fixMediaTitleLength:n.fixMediaTitleLength}}),define("util/headerScrollTypes/headerScrollTypesData.json",[],function(){return[{isDefault:!0,value:{fixedPosition:!1,scrollType:"stays_on_top"},desktop:{label:"desktop_headerscroll_panel_scrolls_site_label",sources:{paused:"desktop-header-scroll-paused.gif",playing:"desktop-header-scroll.gif",selectedPaused:"desktop-header-scroll-selected-paused.gif",selectedPlaying:"desktop-header-scroll-selected.gif"}},mobile:{label:"mobile_headerscroll_panel_scrolls_site_label",sources:{paused:"mobile-header-scroll-paused.gif",playing:"mobile-header-scroll.gif",selectedPaused:"mobile-header-scroll-selected-paused.gif",selectedPlaying:"mobile-header-scroll-selected.gif"}}},{value:{fixedPosition:!0,scrollType:"freezes"},desktop:{label:"desktop_headerscroll_panel_freezes_label",sources:{paused:"desktop-header-fixed-paused.gif",playing:"desktop-header-fixed.gif",selectedPaused:"desktop-header-fixed-selected-paused.gif",selectedPlaying:"desktop-header-fixed-selected.gif"}},mobile:{label:"mobile_headerscroll_panel_freezes_label",sources:{paused:"mobile-header-fixed-paused.gif",playing:"mobile-header-fixed.gif",selectedPaused:"mobile-header-fixed-selected-paused.gif",selectedPlaying:"mobile-header-fixed-selected.gif"}}},{value:{fixedPosition:!0,animationName:"HeaderHideToTop",scrollType:"disappears"},desktop:{behaviorName:"AnimateAfterScroll",label:"desktop_headerscroll_panel_disappears_label",sources:{paused:"desktop-header-hide-on-scroll-paused.gif",playing:"desktop-header-hide-on-scroll.gif",selectedPaused:"desktop-header-hide-on-scroll-selected-paused.gif",selectedPlaying:"desktop-header-hide-on-scroll-selected.gif"}},mobile:{behaviorName:"ScrubAnimation",label:"mobile_headerscroll_panel_disappears_label",sources:{paused:"mobile-header-hide-on-scroll-paused.gif",playing:"mobile-header-hide-on-scroll.gif",selectedPaused:"mobile-header-hide-on-scroll-selected-paused.gif",selectedPlaying:"mobile-header-hide-on-scroll-selected.gif"}}},{value:{fixedPosition:!0,animationName:"HeaderFadeOut",scrollType:"fade_out"},desktop:{behaviorName:"AnimateAfterScroll",label:"desktop_headerscroll_panel_fades_out_label",sources:{paused:"desktop-header-fade-on-scroll-paused.gif",playing:"desktop-header-fade-on-scroll.gif",selectedPaused:"desktop-header-fade-on-scroll-selected-paused.gif",selectedPlaying:"desktop-header-fade-on-scroll-selected.gif"}},mobile:{behaviorName:"ScrubAnimation",label:"mobile_headerscroll_panel_fades_out_label",sources:{paused:"mobile-header-fade-on-scroll-paused.gif",playing:"mobile-header-fade-on-scroll.gif",selectedPaused:"mobile-header-fade-on-scroll-selected-paused.gif",selectedPlaying:"mobile-header-fade-on-scroll-selected.gif"}}}]}),define("util/headerScrollTypes/headerScrollTypes",["lodash","util/media/media","util/headerScrollTypes/headerScrollTypesData.json"],function(l,t,e){"use strict";var u=function(e){return"MOBILE"===e?"mobile":"desktop"},i=function(e,t){return e[u(t)].behaviorName},n=function(e){return t.getMediaUrl("compPanels/headerContainer/"+e)},r=l.map(e,function(e){return e.desktop.sources=l.mapValues(e.desktop.sources,n),e.mobile.sources=l.mapValues(e.mobile.sources,n),e});return{headerScrollTypesModel:r,getBehaviorName:i,getDefaultHeaderType:function(){return l.find(r,{isDefault:!0})},getSelectedHeaderType:function(o){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],a=arguments[2],s=l.find(e,{type:"scrub",viewMode:a}),t=l.map(r,function(e){var t=i(e,a);return l.assign(e.value,{behaviorName:t}),e});return l.find(t,function(e){var t=e.value.fixedPosition===o.fixedPosition;if(s){var i=s.name===l.get(e,[u(a),"behaviorName"]),n=l.head(l.get(s,["params","animations"],[])),r=l.get(n,"name")===e.value.animationName;return t&&i&&n&&r}return t})},getHeaderTypeThumbnailImage:function(e,t,i,n){var r=l.isEqual(e.value.scrollType,i),o=void 0;o=l.isEqual(e.value.scrollType,t)?r||!i?"selectedPlaying":"selectedPaused":r?"playing":"paused";return e[u(n)].sources[o]}}}),define("util/browser/browserUtil",["lodash","util/translation/translate","constants","coreUtilsLib"],function(t,i,n,e){"use strict";var r=e.browserDetection(o());function o(){return window.navigator&&window.navigator.userAgent}function a(){return!!r.os.mac}function s(){return!!r.browser.ie}function l(){return!!r.browser.safari}function u(){var e=t.head(t.split(r.browser.version,"."));return l()&&"9"===e?"safari9":s()&&"11"===e?"ie11":void 0}return{setTabTitle:function(e){window.document.title=e},isMacintosh:a,isChrome:function(){return!!r.browser.chrome},isIE:s,isEdge:function(){return!!r.browser.edge},isSafari:l,isDeprecatedBrowser:function(){return!!u()},getDeprecatedBrowser:u,getUserAgent:o,getDevicePixelRatio:function(){return window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI},isSpecialKeyPressed:function(e){return a()?e.metaKey:e.ctrlKey},getKeyboardSpecialKey:function(){return{label:a()?"⌘":"Ctrl",value:a()?"command":"ctrl"}},getEditorTitleBySiteName:function(e){return i(n.TAB_TITLE_KEYS.EDITOR)+" - "+e},getAltSpecialKey:function(){return{label:a()?"⌥":"Alt",value:a()?"option":"alt"}}}}),define("util/imageService/imageTransform",["lodash","util/browser/browserUtil","santa-editor-utils","util/serviceTopology/serviceTopology","image-client-api"],function(c,d,p,g,f){"use strict";function m(e,t,i,n){return i.width=parseInt(i.width,10),i.height=parseInt(i.height,10),f.getData(e,t,i,n)}return{getData:m,getFromImageData:function(e,t,i,n,r,o){n=n||f.fittingTypes.SCALE_TO_FILL;var a=e.quality||{},s=a.devicePixelRatio||d.getDevicePixelRatio(),l=g.staticMediaUrl||"",u=m(n,c.assign(c.pick(e,["width","height","crop"]),{id:e.uri}),{width:t,height:i,htmlTag:o||"img",pixelAspectRatio:s,alignment:r||f.alignTypes.CENTER},a);return p.url.isExternalUrl(u.uri)||(u.uri=p.url.joinURL(l,u.uri)),u},fittingTypes:f.fittingTypes,alignTypes:f.alignTypes,getImageScale:function(e,t,i){return e.width>=t&&e.height>=i?f.fittingTypes.SCALE_TO_FILL:f.fittingTypes.SCALE_TO_FIT},init:function(){f.populateGlobalFeatureSupport()}}}),define("util/imageService/imageEffects",["coreUtilsLib"],function(e){"use strict";return{getFilter:e.svgFilters.getFilter,getMask:e.svgMask.getMask}}),define("util/video/youtubeVideoUtils",["lodash","coreUtilsLib"],function(o,a){"use strict";function s(e){var t=/(?:youtube\.com\/watch[^\s]*[\?&]v=)([\w-]+)/g.exec(e)||/(?:youtu\.be\/)([\w-]+)/g.exec(e);if(t&&t.length&&t[1])return t[1]}return{verifyVideoUrl:function(t,i,e){var n=s(t);if(n){var r="https://www.googleapis.com/youtube/v3/videos?key=AIzaSyC-CGohESUF9bCBy1jFRQYFOR-iwbsCYPg&part=snippet&id="+n;a.requestsUtil.fetchJson(r).then(function(e){if(o.isEmpty(e.items))return Promise.reject();i(t)}).catch(e)}else e()},getVideoUrl:function(e){return"http://www.youtube.com/watch?v="+e},getVideoIdFromUrl:s}}),define("util/video/vimeoVideoUtils",["coreUtilsLib"],function(s){"use strict";function l(e){var t=/vimeo\.com\/(\d+)$/gi.exec(e);if(t&&t.length&&t[1])return t[1]}return{verifyVideoUrl:function(e,t,i){var n,r,o,a=l(e);a||i(),n="https://vimeo.com/api/v2/video/"+a+".json",r=t,o=i,s.requestsUtil.fetchJson(n).then(r).catch(o)},getVideoUrl:function(e){return"https://vimeo.com/"+e},getVideoIdFromUrl:l}}),define("util/video/dailymotionVideoUtils",["coreUtilsLib"],function(s){"use strict";function l(e){var t=/dailymotion\.com\/(?:video|playlist)\/([^_/]+)/gi.exec(e);if(t&&t.length&&t[1])return t[1]}return{verifyVideoUrl:function(e,t,i){var n,r,o,a=l(e);a||i(),n="https://api.dailymotion.com/video/"+a,r=t,o=i,s.requestsUtil.fetchJson(n).then(r).catch(o)},getVideoUrl:function(e){return"http://dailymotion.com/"+e},getVideoIdFromUrl:l}}),define("util/video/facebookVideoUtils",["coreUtilsLib"],function(s){"use strict";function l(e){var t=/facebook\.com\/(.+\/videos\/[A-Za-z0-9._%-]*)/gi.exec(e);if(t&&t.length&&t[1])return t[1]}return{verifyVideoUrl:function(e,t,i){var n,r,o,a=l(e);a||i(),n="//www.facebook.com/plugins/video.php?href=https://www.facebook.com/"+a,r=t,o=i,s.requestsUtil.fetchJson(n).then(r).catch(o)},getVideoUrl:function(e){return"//www.facebook.com/"+e},getVideoIdFromUrl:l}}),define("util/video/videoUtils",["lodash","util/video/youtubeVideoUtils","util/video/vimeoVideoUtils","util/video/dailymotionVideoUtils","util/video/facebookVideoUtils"],function(a,e,t,i,n){"use strict";var s={YOUTUBE:e,VIMEO:t,DAILYMOTION:i,FACEBOOK:n};function l(e,t){return s[e.toUpperCase()]&&s[e][t]}function o(r){var o=void 0;return a.forEach(s,function(e,t){var i=l(t,"getVideoIdFromUrl"),n=i&&i(r);if(!a.isEmpty(n))return!(o={videoType:t,videoId:n})}),o}return{verifyVideoUrl:function(e,t,i){var n=o(e);if(n&&n.videoType&&n.videoId){var r=l(n.videoType,"verifyVideoUrl");r?r(e,t,i):i()}else i()},getVideoUrl:function(e){if(e&&e.videoType&&e.videoId){var t=l(e.videoType,"getVideoUrl");return t&&t(e.videoId)||""}return""},getVideoDataFromUrl:o,videoTypes:{YOUTUBE:"YOUTUBE",VIMEO:"VIMEO",DAILYMOTION:"DAILYMOTION",FACEBOOK:"FACEBOOK"}}}),define("util/vectorImage/vectorImageUtils",["lodash","constants","util/imageService/imageTransform"],function(d,e,p){"use strict";var g=e.UI.LEGACY_FIT_DISPLAY_MODE,t=e.VECTOR_IMAGE_DEFAULTS,f=t.VECTOR_SHAPE_DEFAULT_STYLE,m=t.VECTOR_SHAPE_COLOR_DEFAULT;return{replaceVectorImage:function(r,o,a,s,l,u){var e=d.get(a,["svgId"]),c=r.media.vectorImage.getSvgInfoFromCache(e);r.media.vectorImage.fetchSvg(l,d.noop),r.dsActions.waitForChangesApplied(function(){var e=d.assign({},a,{svgId:l,title:s}),t=d.get(r.media.vectorImage.getSvgInfoFromCache(l),"svgType"),i=r.components.design.get(o),n=d.assign({},i,function(e,t,i){var n=d.assign(d.omit(t,"svgType"),d.get(e,"overrideColors")),r=d.get(e,["shapeStyle"]),o=d.get(r,["opacity"],f.opacity),a=n.color1&&!n.color2?n.color1:m.color1,s=void 0;switch(i){case"shape":s={overrideColors:{color1:a},shapeStyle:d.defaults(r,f)};break;case"tint":s={overrideColors:{color1:a},shapeStyle:{opacity:o}};break;case"color":s={overrideColors:null,shapeStyle:{opacity:o}};break;case"ugc":s={overrideColors:null,shapeStyle:{opacity:o}}}return s}(i,c,t));r.components.data.update(o,e,!0),r.components.design.update(o,n,!0),r.dsActions.waitForChangesApplied(function(){!function(e,t){var i=e.components.properties.get(t),n=p.fittingTypes;if(i.displayMode===n.SCALE_TO_FIT||i.displayMode===g){var r=e.media.vectorImage.getSvgOriginalAspectRatio(t);e.components.layout.resetCompLayoutToAspectRatio(t,r,!0),e.components.properties.update(t,{displayMode:n.SCALE_TO_FIT},!0)}}(r,o),r.history.add("Change Vector Image"),d.isFunction(u)&&u(s,l)})})}}}),define("util/videoPlayer/dailymotion",["lodash"],function(t){"use strict";var i=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?$/;return{verifier:function(e){return t.isString(e)&&i.test(e)},getEmbeddedUrl:function(e){return"//www.dailymotion.com/embed/video/"+e.match(i)[1]+"?controls=1&sharing-enable=0&ui-logo=0&ui-start-screen-info=0"},getUrlFromId:function(e){return"http://dailymotion.com/video/"+e}}}),define("util/videoPlayer/facebook",["lodash"],function(t){"use strict";var i=/facebook\.com\/([^/?].+\/)?video(s|\.php)[/?].*$/;return{verifier:function(e){return t.isString(e)&&i.test(e)},getEmbeddedUrl:function(e){return"//www.facebook.com/plugins/video.php?href=https://www.facebook.com/"+/facebook\.com\/(.+\/videos\/[A-Za-z0-9._%-]*)/gi.exec(e)[1]+"&width=288&height=162"}}}),define("util/videoPlayer/file",["lodash"],function(t){"use strict";var i=/\.(mp4|og[gv]|webm|mov|m4v)($|\?)/i;return{verifier:function(e){return t.isString(e)?i.test(e):!!t.isArray(e)&&e.some(function(e){return i.test(e)})}}}),define("util/videoPlayer/twitch",["lodash"],function(t){"use strict";var i=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,n=/(?:www\.|go\.)?twitch\.tv\/([a-z0-9_]+)($|\?)/;return{verifier:function(e){return t.isString(e)&&(i.test(e)||n.test(e))},getEmbeddedUrl:function(e){var t=n.test(e);return"https://player.twitch.tv/?"+(t?"channel":"video")+"="+(t?e.match(n)[1]:e.match(i)[1])+"&muted=true&autoplay=false"},getUrlFromId:function(e){return"https://www.twitch.tv/videos/"+e}}}),define("util/videoPlayer/vimeo",["lodash"],function(t){"use strict";var i=/vimeo\.com\/(\d+)/;return{verifier:function(e){return t.isString(e)&&i.test(e)},getEmbeddedUrl:function(e){return"//player.vimeo.com/video/"+e.match(i)[1]},getUrlFromId:function(e){return"https://vimeo.com/"+e}}}),define("util/videoPlayer/youtube",["lodash"],function(t){"use strict";var i=/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})/;return{verifier:function(e){return t.isString(e)&&i.test(e)},getEmbeddedUrl:function(e){return"//www.youtube.com/embed/"+e.match(i)[1]+"?wmode=transparent&theme=light&controls=0&autohide=0&loop=1&showinfo=0&autoplay=0"},getUrlFromId:function(e){return"http://www.youtube.com/watch?v="+e}}}),define("util/videoPlayer/videoPlayerUtils",["lodash","constants","util/videoPlayer/dailymotion","util/videoPlayer/facebook","util/videoPlayer/file","util/videoPlayer/twitch","util/videoPlayer/vimeo","util/videoPlayer/youtube"],function(e,t,i,n,r,o,a,s){"use strict";var l,u=t.VIDEO_PLAYER_TYPES,c=(_defineProperty(l={},u.DAILYMOTION,{verifier:i.verifier,getEmbeddedUrl:i.getEmbeddedUrl,getUrlFromId:i.getUrlFromId}),_defineProperty(l,u.FACEBOOK,{verifier:n.verifier,getEmbeddedUrl:n.getEmbeddedUrl,getUrlFromId:function(){return null}}),_defineProperty(l,u.FILE,{verifier:r.verifier,getEmbeddedUrl:function(){return null},getUrlFromId:function(){return null}}),_defineProperty(l,u.TWITCH,{verifier:o.verifier,getEmbeddedUrl:o.getEmbeddedUrl,getUrlFromId:o.getUrlFromId}),_defineProperty(l,u.VIMEO,{verifier:a.verifier,getEmbeddedUrl:a.getEmbeddedUrl,getUrlFromId:a.getUrlFromId}),_defineProperty(l,u.YOUTUBE,{verifier:s.verifier,getEmbeddedUrl:s.getEmbeddedUrl,getUrlFromId:s.getUrlFromId}),l),d=function(t){return e.findKey(c,function(e){return e.verifier(t)})};return{getTypeFromUrl:d,getEmbeddedUrl:function(e,t){return c[e].getEmbeddedUrl(t)},getUrlFromId:function(e,t){return c[e].getUrlFromId(t)},verifyUrl:function(e){return Boolean(d(e))}}}),define("util/mixins/selectionMixin",["lodash"],function(i){"use strict";return{getInitialState:function(){return{checkedItems:{}}},clearSelection:function(){this.setState({checkedItems:{}})},toggle:function(e){var t=this.state.checkedItems;t[e]=!t[e],this.setState({checkedItems:t})},toggleAll:function(e){if(0===this.getSelectedIds().length){var t=i.transform(e,function(e,t){e[t]=!0},{});this.setState({checkedItems:t})}else this.setState({checkedItems:{}})},isSelected:function(e){return!!this.state.checkedItems[e]},getSelectedIds:function(){return i(this.state.checkedItems).pickBy().keys().value()}}}),define("util/mixins/blockOuterScrollMixin",[],function(){"use strict";return{blockOuterScroll:function(e){var t=e.currentTarget,i=e.currentTarget.scrollHeight-e.currentTarget.offsetHeight,n=e.deltaY%3?e.deltaY:10*e.deltaY;t.scrollTop+n<=0?(t.scrollTop=0,e.preventDefault()):t.scrollTop+n>=i&&(t.scrollTop=i,e.preventDefault()),e.stopPropagation()}}}),define("util/mixins/addPanelHoverMixin",[],function(){"use strict";var o=void 0,a=void 0;return{enter:function(e,t,i,n,r){o=null,window.clearTimeout(a),a=window.setTimeout(function(){o||n&&n.call(this,t,i)}.bind(this),r?300:100)},leave:function(e,t){o=t}}}),define("util/utils/verticalScrollIntoView",["zepto"],function(i){"use strict";var n=void 0,r=void 0;return function(e,t){n=i(e),r=i(t),(o()||a())&&(o()?r.scrollTop(s()):a()&&r.scrollTop(l()-r.height()))};function o(){return s()<e()}function a(){return l()>e()+r.height()}function e(){return r.scrollTop()}function s(){return n.position().top}function l(){return s()+n.height()}}),define("util/mixins/imagesContainerMixin",["reactDOM","zepto"],function(a,s){"use strict";return{afterImagesLoad:function(e,t){if(t=t||s(a.findDOMNode(this))){var i=t.find("img"),n=i.length,r=0;i.each(function(){s(this)[0].complete?(r++,o()):s(this).on("load",function(){r++,o()})})}function o(){n===r&&e()}}}}),define("util/mixins/storageMixin",["lodash"],function(i){"use strict";return{storage:{data:{},clear:function(e){delete this.data[e]},clearAll:function(){this.data={}},get:function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},getAll:function(){return this.data},set:function(e,t){"string"==typeof e?this.data[e]=t:"object"===(void 0===e?"undefined":_typeof(e))&&i.assign(this.data,e)}}}}),define("util/mixins/componentUpdatesMixin",["lodash"],function(n){"use strict";return{registerToComponentDidUpdate:function(e){this.componentDidUpdateListeners=this.componentDidUpdateListeners||[],n.includes(this.componentDidUpdateListeners,e)||this.componentDidUpdateListeners.push(e)},unregisterToComponentDidUpdate:function(e){this.componentDidUpdateListeners=n.without(this.componentDidUpdateListeners,e)||[]},componentDidUpdate:function(t,i){n.forEach(this.componentDidUpdateListeners,n.bind(function(e){e(t,i,this.state)},this))}}}),define("util/translation/languages",["lodash","util/translation/translate","experiment","santa-editor-utils"],function(e,t,i,n){"use strict";var r=["da","de","en","es","fr","it","ja","ko","nl","no","pl","pt","ru","sv","tr"],o=["da","de","en","es","fr","it","ja","ko","nl","no","pl","pt","ru","sv","tr"],a=["da","de","en","es","fr","it","ja","kr","nl","no","pl","pt","ru","sv","tr"],s=["da","de","en","es","fr","it","ja","nl","no","pl","pt","ru","sv","tr"],l=["da","de","en","es","fr","it","jp","ko","nl","no","pl","pt","ru","sv","tr"],u=["da","de","en","es","fr","it","ja","ko","nl","no","pl","pt","ru","sv","tr"];i.isOpen("se_dropDownHebrew")&&r.push("he");var c=e.map(r,function(e){return{value:e,label:t("Supported_Languages_"+e.toUpperCase())}});function d(){return n.editorModel.languageCode}return{getLanguagesList:function(){return c},getTwitterLanguages:function(){return o},getFacebookLanguages:function(){return a},getITunesLanguages:function(){return l},getPaypalLanguages:function(){return s},getGoogleMapsLanguages:function(){return u},getLanguageKeyByLang:function(e){return"LANGS_"+e},getLanguageCode:d,getLocalizedLink:function(e,t){var i=d(),n=t||"//www.",r=void 0;return r="en"===i?t?"www":"//www.":t?i:"//"+i+".",e=e.replace(n,r)}}}),define("util/data/dataUtils",["lodash"],function(i){"use strict";return{getDataItemIds:function(e,t){return i(t).concat(e.components.getChildren(t,!0)).map(e.components.data.get).reject(i.isNull).map("id").value()}}}),define("util/compIcon/svgForComp",[],function(){"use strict";var t={default:"default","wysiwyg.viewer.components.WRichText":"text","wysiwyg.viewer.components.MediaRichText":"text","wysiwyg.viewer.components.WPhoto":"wPhoto","wysiwyg.viewer.components.MatrixGallery":"galleries","wysiwyg.viewer.components.SlideShowGallery":"slideShow","wysiwyg.viewer.components.SliderGallery":"galleries","wysiwyg.viewer.components.PaginatedGridGallery":"galleries","tpa.viewer.components.Honeycomb":"galleries","tpa.viewer.components.Thumbnails":"galleries","tpa.viewer.components.Collage":"galleries","wysiwyg.viewer.components.tpapps.TPA3DCarousel":"galleries","wysiwyg.viewer.components.tpapps.TPA3DGallery":"galleries","tpa.viewer.components.Freestyle":"galleries","wysiwyg.viewer.components.Video":"video","wysiwyg.viewer.components.MediaPlayer":"video","wysiwyg.viewer.components.SoundCloudWidget":"soundCloud","wysiwyg.viewer.components.AudioPlayer":"audioPlayer","mobile.core.components.Container":"container","wysiwyg.viewer.components.VerticalLine":"verticalLine","wysiwyg.viewer.components.FiveGridLine":"horizontalLine","wysiwyg.viewer.components.ClipArt":"WPhoto","wysiwyg.viewer.components.SiteButton":"button","wysiwyg.common.components.imagebutton.viewer.ImageButton":"imageButton","wysiwyg.viewer.components.ItunesButton":"itunesButton","wysiwyg.viewer.components.menus.DropDownMenu":"horizontalMenu","wysiwyg.viewer.components.documentmedia.DocumentMedia":"documentMedia","wysiwyg.viewer.components.HorizontalMenu":"horizontalMenu","wysiwyg.common.components.verticalmenu.viewer.VerticalMenu":"verticalMenu","wysiwyg.viewer.components.mobile.TinyMenu":"tinyMenu","wysiwyg.viewer.components.WFacebookLike":"facebook","wysiwyg.common.components.facebooklikebox.viewer.FacebookLikeBox":"facebook","wysiwyg.viewer.components.WFacebookComment":"facebook","wysiwyg.viewer.components.WTwitterFollow":"twitter","wysiwyg.viewer.components.WTwitterTweet":"twitter","wysiwyg.viewer.components.TwitterFeed":"twitter","wysiwyg.viewer.components.WGooglePlusOne":"googlePlus","wysiwyg.viewer.components.LinkBar":"linkBar","tpa.viewer.components.TPASection":"tpaPageType","tpa.viewer.components.TPAWidget":"tpaPageType","wysiwyg.viewer.components.tpapps.TPASection":"tpaPageType","wysiwyg.viewer.components.tpapps.TPAMultiSection":"tpaPageType","wysiwyg.viewer.components.tpapps.TPAWidget":"tpaPageType","wysiwyg.viewer.components.tpapps.TPAGluedWidget":"tpaPageType","tpa.viewer.components.TPAGallery":"galleries","tpa.viewer.components.TPAComponent":"tpaPageType","wysiwyg.viewer.components.ContactForm":"contactForm","wysiwyg.viewer.components.DynamicContactForm":"contactForm","wysiwyg.viewer.components.GoogleMap":"googleMaps","wysiwyg.viewer.components.HtmlComponent":"htmlComponent","wysiwyg.viewer.components.FlashComponent":"flashComponent","wysiwyg.viewer.components.PayPalButton":"paypal","wysiwyg.viewer.components.FlickrBadgeWidget":"flicker","wysiwyg.viewer.components.AdminLogin":"webMasterLogin","wysiwyg.viewer.components.AdminLoginButton":"webMasterLogin","wysiwyg.viewer.components.LoginButton":"memberLogin","wysiwyg.viewer.components.LoginSocialBar":"memberLogin","wixapps.integration.components.AppPart":"blog","wixapps.integration.components.AppPart2":"listBuilder","wysiwyg.viewer.components.svgshape.SvgShape":"svgShape","wysiwyg.viewer.components.VectorImage":"svgShape","wysiwyg.viewer.components.MediaOverlayControls":"svgShape","wysiwyg.common.components.subscribeform.viewer.SubscribeForm":"contactForm","wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":"singleAudioPlayer","wysiwyg.viewer.components.BgImageStrip":"strip","wysiwyg.common.components.youtubesubscribebutton.viewer.YouTubeSubscribeButton":"youtubeSubscribe","wysiwyg.viewer.components.HeaderContainer":"headerContainer","wysiwyg.viewer.components.FooterContainer":"footerContainer","wysiwyg.common.components.pinitpinwidget.viewer.PinItPinWidget":"pinterset","wysiwyg.common.components.pinterestpinit.viewer.PinterestPinIt":"pinterset","wysiwyg.viewer.components.PinterestFollow":"pinterset","wysiwyg.common.components.skypecallbutton.viewer.SkypeCallButton":"skype","wysiwyg.viewer.components.VKShareButton":"vkShare","wysiwyg.common.components.spotifyfollow.viewer.SpotifyFollow":"spotifyFollow","wysiwyg.common.components.spotifyplayer.viewer.SpotifyPlayer":"spotifyFollow","wysiwyg.common.components.anchor.viewer.Anchor":"anchor","wysiwyg.common.components.rssbutton.viewer.RSSButton":"rssButton","wysiwyg.viewer.components.inputs.DatePicker":"datePicker","wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenu":"anchor","wysiwyg.viewer.components.Grid":"grid","wixui.Pagination":"pagination","wixui.VideoPlayer":"video","wixui.MusicPlayer":"music-player-volume","wixui.ToggleSwitch":"toggleSwitch","wixui.Slider":"slider","wixui.Captcha":"captcha","mobile.core.components.Page":"rcmPage","wixui.RatingsDisplay":"ratingsDisplay","wixui.RatingsInput":"ratingsDisplay","wysiwyg.viewer.components.LanguageSelector":"languageMenu","wysiwyg.viewer.components.inputs.TextInput":"input","wysiwyg.viewer.components.inputs.TextAreaInput":"textBox","wysiwyg.viewer.components.inputs.ComboBoxInput":"dropDown","wysiwyg.viewer.components.inputs.RadioGroup":"radioButton","platform.components.AppWidget":"customWidgetLight","wixui.TimePicker":"timePicker","wixui.RichTextBox":"richTextBox","wysiwyg.viewer.components.inputs.Checkbox":"checkbox","wysiwyg.viewer.components.Repeater":"repeater","wysiwyg.viewer.components.inputs.FileUploader":"uploadButton","wysiwyg.viewer.components.MediaContainer":"container","tpa.viewer.components.Masonry":"galleries","wysiwyg.viewer.components.StripContainerSlideShow":"fullWidthSlideshow","wysiwyg.viewer.components.Column":"column","wysiwyg.viewer.components.StripColumnsContainer":"stripSvg","wysiwyg.viewer.components.HoverBox":"hoverBox","wysiwyg.viewer.components.FormContainer":"listBuilder","tpa.viewer.components.Impress":"galleries","tpa.viewer.components.Accordion":"galleries","tpa.viewer.components.StripShowcase":"galleries","wysiwyg.viewer.components.BoxSlideShow":"slideShow","wysiwyg.viewer.components.StateBox":"stateBox","wysiwyg.viewer.components.StateStrip":"stateStrip","wysiwyg.viewer.components.BackToTopButton":"backToTopButtonIcon","wysiwyg.viewer.components.ExpandableMenu":"verticalContainerIcon","wysiwyg.viewer.components.MenuToggle":"tinyMenu"};return{getSvgNameForComp:function(e){return t[e]?t[e]:t.default}}}),define("util/compIcon/compIcon",["lodash","util/compIcon/svgForComp","util/imageService/imageTransform","util/serviceTopology/serviceTopology"],function(l,u,c,d){"use strict";var p=["wysiwyg.viewer.components.ClipArt","wysiwyg.viewer.components.WPhoto"],g=50;return{getCompIconInfo:function(e,t,i,n){var r=void 0,o=void 0,a=void 0;if(l.includes(p,t)){var s=function(e,t,i){var n=i.components.data.get(e);if(t=t||{width:g,height:g},!n||"ImageList"!==n.type&&"Image"!==n.type)return null;var r=void 0;r="ImageList"===n.type?n.items[0]:n;var o=c.getData(c.fittingTypes.SCALE_TO_FILL,{width:r.width,height:r.height,id:r.uri},{width:t.width||g,height:t.height||g,alignment:c.alignTypes.CENTER,htmlTag:"bg"});return{url:d.staticMediaUrl+"/"+o.uri,css:o.css.container}}(e,i,n);r=s.url,a=s.css}else o=u.getSvgNameForComp(t);return{src:r,svgName:o,css:a}}}}),define("util/googleTranslate/googleTranslate",["lodash","coreUtilsLib","santa-editor-utils","experiment"],function(n,r,o,a){"use strict";return function(e,i){if(a.isOpen("urlFormatGoogleTranslate")&&!o.url.isTrue("isqa")){var t="https://www.googleapis.com/language/translate/v2?key=AIzaSyDk459Frxeg68etyrYPBbaopQePV40ChZk&target=en&q="+encodeURIComponent(e);r.requestsUtil.fetchJson(t).then(function(e){return t=e,void i(n.get(t,["data","translations",0,"translatedText"],"blank"));var t}).catch(function(){i("blank")})}else i(e)}}),define("util/keyboardShortcuts/keyboardShortcuts",["lodash","keyboardMaster"],function(a,e){"use strict";var t={TOP_CONTEXT:"all",EDITOR:"EDITOR",BASE_EDITOR:"BASE_EDITOR",PIN_MODE:"PIN_MODE",IMAGE_CROP:"IMAGE_CROP",ZOOM_MODE:"ZOOM_MODE",PREVIEW:"PREVIEW",TOP_BAR:"TOP_BAR",MENU_BAR:"MENU_BAR",PAGES_MENU_PANEL:"PAGES_MENU_PANEL",MODAL_PANEL:"MODAL_PANEL",AUTOMATIC:"AUTOMATIC",RULERS:"RULERS",DRAG:"DRAG",ROTATE:"ROTATE",RESIZE:"RESIZE"},r={TOP_CONTEXT:{},EDITOR:{},PREVIEW:{},TOP_BAR:{}},i=null,n="!DISABLED!",o=t.TOP_CONTEXT,s=o,l=e.noConflict();function u(){return p()!==n}function c(e){d(e)&&(l.deleteScope(e),r[e]={})}function d(e){return!a.isEmpty(e)}function p(){return s}function g(e){u()&&f(e)}function f(e){s=e,l.setScope(e)}return l.filter=function(e){var t=(e.target||e.srcElement).tagName;if("INPUT"!==t)return!("SELECT"===t||"TEXTAREA"===t);var i=e.metaKey||e.ctrlKey,n=90===e.keyCode||89===e.keyCode;return!(!i||!n||(e.preventDefault(),0))},{CONTEXTS:t,disable:function(){u()&&(i=s),g(n)},enable:function(){u()||(f(i),i=null)},isEnabled:u,specialKeys:{space:"space",up:"up",down:"down",left:"left",right:"right",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",del:"del",esc:"esc",enter:"enter",backspace:"backspace",tab:"tab",alt:"alt",option:"option",shift:"shift",ctrl:"ctrl",command:"command"},extendContext:function(e,t){var i={},n=r[e]||{};return a.assign(i,n),a.assign(i,t),i},getContext:p,setContext:g,clearContext:function(){g(o)},registerContext:function(o,e){d(o)&&e&&(r[o]&&c(o),r[o]=e,a.forOwn(e,function(e,t){var i,n,r;i=t,n=o,r=e,!a.isEmpty(i)&&r&&d(n)&&a.isFunction(l)&&l(i,n,r)}))},unregisterContext:c,isPressed:{command:function(){return l.command||l.control}}}}),define("util/array/array",["lodash"],function(a){"use strict";var r=function(e){return e?e.length||0===e.length?a.compact(e):[e]:[]},e=a.curry(function(e,t){var i=r(t);a.forEach(i,e)}),t=a.curry(function(e,t){var i=r(t);return e(a.head(i))}),i=a.curry(function(e,t,i){var n=r(i);if(1<n.length)throw new Error(e+" not supported for multiselect");return t(a.head(n))});return{swap:function(e,i,n){var r=a.get(e,i),o=a.get(e,n);if(!a.isArray(e)||a.isUndefined(r)||a.isUndefined(o))throw new Error("Invalid arguments");return a.map(e,function(e,t){return t===i?o:t===n?r:e})},asArray:r,isMultiselect:function(e){return 1<r(e).length},applyForAll:e,applyForFirst:t,applyForFirstAndThrowIfMulti:i,validateForAll:function(e,t){var i=r(t);return a.every(i,e)},validateForSome:function(e,t){var i=r(t);return a.some(i,e)},checkSingleAndValidate:function(e,t){var i=r(t);return 1===i.length&&e(a.head(i))}}}),define("util/colors/colorConversions",["lodash","coreUtilsLib"],function(p,d){"use strict";function t(e){var t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()}function e(e){var t=e.saturation,i=e.brightness;if(e.hue<0||360<e.hue)return d.log.error("hue is out of range"),null;var n=e.hue%360,r=i/100,o=void 0,a=void 0,s=void 0,l=t/100*r,u=l*(1-Math.abs(n/60%2-1)),c=r-l;switch(Math.floor(n/60)){case 0:o=l,a=u,s=0;break;case 1:o=u,a=l,s=0;break;case 2:o=0,a=l,s=u;break;case 3:o=0,a=u,s=l;break;case 4:o=u,a=0,s=l;break;case 5:o=l,a=0,s=u}return{red:Math.round(255*(o+c)),green:Math.round(255*(a+c)),blue:Math.round(255*(s+c))}}var g=p.flow(e,o);function i(e){var t,i,n=void 0,r=e.red/255,o=e.green/255,a=e.blue/255,s=Math.max(r,o,a),l=s-Math.min(r,o,a);if(0===l)n=0;else switch(s){case r:n=60*(i=6,0<(t=(o-a)/l)?t%i:(i+t)%i);break;case o:n=60*((a-r)/l+2);break;case a:n=60*((r-o)/l+4)}return{hue:n,saturation:100*(0===s?0:l/s),brightness:100*s}}function n(e){var t=i(e);return{hue:Math.round(t.hue),saturation:Math.round(t.saturation),brightness:Math.round(t.brightness)}}function r(e){var t=e.hue,i=e.saturation,n=e.lightness/100,r={hue:t,saturation:0,brightness:0},o=.5*(2*n+i/100*(1-Math.abs(2*n-1)));return r.saturation=Math.round(200*(o-n)/o),r.brightness=Math.round(100*o),r}function o(e){return"#"+t(e.red)+t(e.green)+t(e.blue)}function a(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,i,n){return t+t+i+i+n+n});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{red:parseInt(t[1],16),green:parseInt(t[2],16),blue:parseInt(t[3],16)}:null}var s=p.flow(a,n),f=p.flow(a,i);function l(e){var t=p.map(/rgb\((.+)\)/.exec(e)[1].split(","),function(e){return parseInt(e,10)});return p.zipObject(["red","green","blue"],t)}function u(e){var t=p.map(/rgba\((.+)\)/.exec(e)[1].split(","),function(e){return parseFloat(e,10)});return p.zipObject(["red","green","blue","alpha"],t)}function m(e){return e?(p.isString(e)?e=s(e):e.red?e=n(e):e.lightness&&(e=r(e)),Math.sqrt(Math.pow(100-e.brightness,2)+Math.pow(e.saturation,2))):100}return{rgbToHsb:n,rgbToHsbExact:i,rgbToHex:o,hsbToRgb:e,hsbToHex:g,hexToRgb:a,hexToHsb:s,hexToHsbExact:f,hslToHsb:r,hsbToHsl:function(e){var t=e.hue%360,i=e.saturation/100,n=e.brightness/100,r={hue:t,saturation:0,lightness:0},o=.5*n*(2-i);return r.lightness=Math.round(100*o),r.saturation=Math.round(n*i*100/(1-Math.abs(2*o-1))),r},rgbStringToObject:l,rgbObjectToString:function(e){return"rgb("+p.values(e).join(",")+")"},rgbaStringToObject:u,rgbaObjectToString:function(e){return"rgba("+p.values(e).join(",")+")"},getDistanceToWhite:m,createGradientColorsFromRoot:function(e,t,i){var n=[];p.isString(e)&&(e=f(e));for(var r=e.brightness,o=m(e),a=Math.floor(5*r/(r+o)),s=0;s<5;s++){var l=void 0,u=e.saturation;s<a?l=(s+1)/(a+1)*r:s===a?l=r:(l=(s-a)/(5-a)*(100-r)+r,u=e.saturation/(s-a+1)),n.unshift(g({hue:e.hue,saturation:u,brightness:l}))}if(!p.isEmpty(t)&&i){var c=f(t[i[0]]),d=f(t[i[4]]);m(c)>m(d)&&n.reverse(),n=p.zipObject(i,n)}return n},getColorInHex:function(e){return p.includes(e,"rgba")?o(u(e)):p.includes(e,"rgb")?o(l(e)):e}}}),define("util/media/keyGenerator",[],function(){"use strict";return{titleKey:function(e){return e+"_tooltip_title"},descriptionKey:function(e){return e+"_tooltip_description"},thumbnailKey:function(e){return e+"_tooltip_thumbnail"},videoIdKey:function(e){return e+"_tooltip_video_id"}}}),define("util/bi/uiControlsBIUtil",["lodash","coreBi"],function(n,e){"use strict";var r=e.CONTROLS_TO_EVENTS;return{getEventDefinition:function(e){return r[e]},getParams:function(e,t){var i=n(r[e].fields).keys().union(["value"]).value();return n(t).pick(i).mapValues(function(e){return"boolean"==typeof e?e.toString():e}).value()}}}),define("util/appStudio/appStudioUtils",["lodash","santa-editor-utils","util/serviceTopology/serviceTopology","util/url/UrlBuilder"],function(s,r,e,o){"use strict";var a=["platform.components.AppWidget","platform.components.AppController"],t=function(){return window.appStudioModel},i=function(){return!s.isUndefined(t())},n=function(e){var t=e.split(".").map(function(e){return parseInt(e,10)});return{major:t[0],minor:t[1]}},l=["ReactSource","EditorSource","debug","debugViewer","WixCodeRuntimeSource"],u=e.appStudioServerRoot+"/renderer",c={siteId:"b8c12130-d18d-4f01-b97a-4a97a33b45fa",metaSiteId:"649b7514-54f5-439a-954c-05ec8de9a1a7"},d=u+"/new",p=function(e,t){var i=window.document.location.href,n=r.url.parseUrl(i).query;return new o(e).paramsObj(s.pick(n,l)).paramsObj(t).url()};return{createEditAppURL:function(e){return p(u+"/open",{appDefId:e.appDefinitionId})},isAppPublishedOnLoad:function(){if(i()){var e=s.get(t(),"appVersion");if(e)return 0<n(e).major||0<n(e).minor}return!1},isAppStudio:i,getAppDefIdIfExists:function(){return s.get(t(),"devSiteAppDefId")},isWidgetController:function(e,t){if(1<(t=s.castArray(t)).length||!s.includes(a,e.components.getType(t)))return!1;var i=e.dsRead.components.data.get(t[0]),n=e.dsRead.platform.controllers.settings.get(t[0]).type,r=i.applicationId,o=s.get(e.platform.getAppManifest(r),"widgets");return s.has(o,n)},getNewAppStudioURL:function(){return p(d,c)},getWidgetSchema:function(e,t){var i=e.dsRead.components.data.get(t);if(!i)return[];var n=e.dsRead.platform.controllers.settings.get(t).type,r=i.applicationId,o=e.platform.getAppManifest(r),a=s.get(o,"widgets");return{propertiesSchemas:s.get(a,[n,"propertiesSchema"])}},getCustomDefinitions:function(e,t){var i=e.dsRead.components.data.get(t);if(!i)return{};var n=i.applicationId,r=e.platform.getAppManifest(n);return s.get(r,"customDefinitions",{})},getApplicationNameOnLoad:function(){return s.get(t(),"appName")},getAppVersioOnLoad:function(){return s.get(t(),"appVersion")},isAppController:function(e,t){return(t=s.castArray(t)).length<=1&&s.includes(a,e.components.getType(t))}}}),define("util/bi/dsOrigin",["util/appStudio/appStudioUtils"],function(e){"use strict";return{getDsOrigin:function(){return e.isAppStudio()?"appBuilder":"Editor1.4"}}}),define("util/svg/svgUrlParser",["lodash"],function(i){"use strict";return{parseSvgSkinFromUrl:function(e){return i.includes(e,".v1.")?[(t=e.replace("_",".").replace("/",".").split("."))[2],t[3],"svg_"+t[1],t[4]].join("."):"svgshape.v2.Svg_"+/^shapes\/([a-z0-9]{32})\.svg$/i.exec(e)[1];var t}}}),define("util/imageOrganizerUtils/imageOrganizerUtils",["util/translation/translate","santa-editor-utils"],function(n,t){"use strict";var r=["ORGANIZE_ICONS_DIALOG_TITLE","OrganizeImages_IMAGES_DIALOG_TITLE","ORGANIZE_IMAGES_DIALOG_DESC","ORGANIZE_IMAGES_DIALOG_ADD","ORGANIZE_IMAGES_DIALOG_REPLACE","ORGANIZE_IMAGES_DIALOG_DONE","ORGANIZE_IMAGES_DIALOG_CANCEL","ORGANIZE_IMAGES_DIALOG_NO_IMG_SELECTED","ORGANIZE_IMAGES_DIALOG_IMG_TITLE","ORGANIZE_IMAGES_DIALOG_IMG_DESC","ORGANIZE_IMAGES_DIALOG_IMG_TITLE_PLACEHOLDER","ORGANIZE_IMAGES_DIALOG_IMG_DESC_PLACEHOLDER","ORGANIZE_IMAGES_DIALOG_IMG_LINK","ORGANIZE_IMAGES_DIALOG_IMG_LINK_PLACEHOLDER","ORGANIZE_IMAGES_DIALOG_IMG_TITLE_TOOLTIP","ORGANIZE_IMAGES_DIALOG_IMG_DESC_TOOLTIP","ORGANIZE_IMAGES_DIALOG_IMG_LABEL","ORGANIZE_IMAGES_DIALOG_EMPTY_MSG","ORGANIZE_IMAGES_DIALOG_EMPTY_TITLE","ORGANIZE_IMAGES_DIALOG_EMPTY_TEXT","ORGANIZE_IMAGES_DIALOG_EMPTY_LINK","ORGANIZE_IMAGES_DIALOG_TOOLTIP_REMOVE","ORGANIZE_IMAGES_DIALOG_CONFIRM_YES","ORGANIZE_IMAGES_DIALOG_CONFIRM_NO","ORGANIZE_IMAGES_DIALOG_CONFIRM_HEADER","ORGANIZE_IMAGES_DIALOG_CONFIRM_MSG","ORGANIZE_IMAGES_DIALOG_SETS_TITLE","ORGANIZE_IMAGES_DIALOG_SETS_ADD_PLACE","Organize_Images_Dialog_Sets_Add_Title","Organize_Images_Dialog_Sets_Button_Set","Organize_Images_Dialog_Sets_Add_Place_Start","Organize_Images_Dialog_Sets_Add_Place_End","Organize_Images_Dialog_Sets_Add_Place_After","Organize_Images_Dialog_Sets_Add_Title_With","Organize_Images_Dialog_Sets_Add_Title_Without"];return{getTranslation:function(e){var t,i={};return r.forEach(function(e){i[e]=n(e)}),"socialIcons"===e&&((t=i).ORGANIZE_IMAGES_DIALOG_TITLE=n("ORGANIZE_ICONS_DIALOG_TITLE"),t.ORGANIZE_IMAGES_DIALOG_DESC=n("ORGANIZE_ICONS_DIALOG_TEXT"),t.ORGANIZE_IMAGES_DIALOG_ADD=n("ORGANIZE_ICONS_BUTTON_TEXT"),t.ORGANIZE_IMAGES_DIALOG_EMPTY_MSG=n("ORGANIZE_ICONS_DIALOG_EMPTY_MSG"),t.ORGANIZE_IMAGES_DIALOG_REPLACE=n("ORGANIZE_ICONS_DIALOG_REPLACE"),t.ORGANIZE_IMAGES_DIALOG_IMG_LINK=n("ORGANIZE_ICONS_DIALOG_IMG_LINK"),t.ORGANIZE_IMAGES_DIALOG_IMG_LINK_PLACEHOLDER=n("ORGANIZE_ICONS_DIALOG_IMG_LINK_PLACEHOLDER"),t.ORGANIZE_IMAGES_DIALOG_NO_IMG_SELECTED=n("ORGANIZE_ICONS_DIALOG_NO_IMG_SELECTED")),{lang:"EN",map:i}},getFrameUrl:function(e){return(t.editorModel.editorBase||"/editor-base")+"/node_modules/editor-organize-images/index.html?galleryType="+e}}}),define("util/editorSessionUtil/editorSessionUtil",["santa-editor-utils"],function(e){"use strict";return{editorSessionId:e.editorModel.editorSessionId}}),define("util/polyfills/polyfills",[],function(){"use strict";return{register:function(){Math.sign=Math.sign||function(e){return 0==(e=+e)||isNaN(e)?e:0<e?1:-1}}}}),define("util/layout/layoutUtils",["lodash"],function(l){"use strict";var a=["x","y","width","height","rotationInDegrees","fixedPosition"];function s(e,t){t=l(t=t||{}).defaults({x:0,y:0}).pick(["x","y"]).value();var i=l.assign({},e,{x:e.x+t.x,y:e.y+t.y});return l.pickBy(i,l.isFinite)}function n(e,t,i,n){var r=s(e.components.layout.get(t),u(i,n)),o=l.assign({},r,l.omit(i,["x","y"]));return l.pick(o,a)}function u(e,t){e=l.pick(e,["x","y"]),t=l.pick(t,["x","y"]);var i={x:e.x-t.x,y:e.y-t.y};return l.pickBy(i,l.isFinite)}var e=l.curry(function(e,t,i,n){var r=i[e.sourceProperty],o=t[e.sourceProperty],a=e.ratio*(o-r),s=e.offsetRatio*n;return[e.targetProperty,Math.floor(a+s)]}),o={center:e({ratio:.5,offsetRatio:1,sourceProperty:"width",targetProperty:"x"}),right:e({ratio:1,offsetRatio:-1,sourceProperty:"width",targetProperty:"x"}),middle:e({ratio:.5,offsetRatio:1,sourceProperty:"height",targetProperty:"y"}),bottom:e({ratio:1,offsetRatio:-1,sourceProperty:"height",targetProperty:"y"})};return{addXYOffsetsToLayout:s,getLayoutsXYDiff:u,getChildContainerLayoutRatio:function(e,t){var i={x:e.x/t.width,y:e.y/t.height,width:e.width/t.width,height:e.height/t.height};return l.pickBy(i,l.isFinite)},calcLayoutFromLayoutAndRatio:function(e,t){var i={x:e.width*t.x,y:e.height*t.y,width:e.width*t.width,height:e.height*t.height};return l.pickBy(i,l.isFinite)},getLayoutRelativeToScreenFromRelativeToParent:function(e,t,i){var n=u(e.components.layout.get(t),i);return s(e.components.layout.getRelativeToScreen(t),n)},getLayoutRelativeToParentFromRelativeToScreen:function(e,t,i){return n(e,t,i,e.components.layout.getRelativeToScreen(t))},getLayoutRelativeToParentFromRelativeToStructure:function(e,t,i){return n(e,t,i,e.components.layout.getRelativeToStructure(t))},getLayoutRelativeToScreenFromRelativeToStructure:function(e,t,i){var n=e.components.layout.getRelativeToStructure(t),r=e.components.layout.getRelativeToScreen(t),o=u(i,n);return l(r).thru(function(e){return s(e,o)}).assign(l.pick(i,["width","height"])).pick(a).value()},getLayoutRelativeToPrimaryContainer:function(e,t){var i=e.components.layout.isHorizontallyStretchedToScreen(t),n=e.pages.getPrimaryContainer(),r=!e.utils.isPage(n),o=i?e.components.layout.getRelativeToScreen(n):e.components.layout.getRelativeToStructure(n),a=e.components.layout.getRelativeToStructure(t);return r?l.defaultsDeep({x:a.x-o.x,y:a.y-o.y,bounding:{x:a.bounding.x-o.bounding.x,y:a.bounding.y-o.bounding.y}},a):a},convertAnyPositionToLeftTopPosition:function(n,r){return l(n).toPairs().map(function(e){var t=e[0],i=e[1];return o.hasOwnProperty(t)?o[t](r,n,i):e}).fromPairs().value()},getLayoutWithAspectRatio:function(e,t,i,n){var r=e.x,o=e.y,a=e.width,s=e.height,l=e.minWidth,u=void 0===l?0:l,c=e.minHeight,d=void 0===c?0:c,p=e.maxWidth,g=void 0===p?Number.MAX_SAFE_INTEGER:p,f=e.maxHeight,m=void 0===f?Number.MAX_SAFE_INTEGER:f;return t<a/s?a=s*t:s=a/t,(a<u||g<a)&&(s=(a=a<u?u:g)/t),(s<d||m<s)&&(a=(s=s<d?d:m)*t),i&&(r=i.right?Math.round(r+(e.width-a)):r,o=i.bottom?Math.round(o+(e.height-s)):o),n&&(i&&(i.right||i.left)||(r+=(e.width-a)/2),i&&(i.bottom||i.top)||(o+=(e.height-s)/2)),{x:r,y:o,width:a,height:s}},getImageOrCropAspectRatio:function(e){return l.isEmpty(e.crop)?e.width/e.height:e.crop.width/e.crop.height},isLayoutIntersectsRect:function(e,t){var i=!(t.x+t.width<e.x||t.x>e.x+e.width||t.y+t.height<e.y||t.y>e.y+e.height),n=e.x<=t.x&&e.x+e.width>=t.x+t.width&&e.y<=t.y&&e.y+e.height>=t.y+t.height;return i&&!n},getContainerLayoutToFitContent:function(e,t){return{width:Math.max(e.width,t.width),x:e.x-Math.max(0,t.width-e.width)/2,height:Math.max(e.height,t.height)}},getCompPastePositionToFitContainer:function(e,t,i,n,r){var o=n(e.store.getState()).height,a=r(e.store.getState()).scrollTop,s=o<t.height;return l.assign({x:Math.max(0,(t.width-i.width)/2)},s?{y:Math.max(0,a-t.y+(o-i.height)/2)}:{y:Math.max(0,(t.height-i.height)/2)})}}}),define("util/fontLangsFallbacks/fontLangsFallbacks",["lodash"],function(o){"use strict";var a={ru:{anton:"Play",basic:"Open Sans",caudex:"Forum","chelsea market":"Open Sans",corben:"Forum",enriqueta:"Droid Serif","fredericka the great":"EB Garamond","jockey one":"Kelly Slab","josefin slab":"Courier New","lucida console":"Open Sans","lucida sans unicode":"Open Sans","mr de haviland":"Marck Script",niconne:"Marck Script","noticia text":"Droid Serif",overlock:"Open Sans","palatino linotype":"EB Garamond","patrick hand":"comic Sans MS",sarina:"Lobster",signika:"Open Sans",spinnaker:"Open Sans",tahoma:"Open Sans","stencil-w01-bold":"bodoni-w01-poster","itc-arecibo-w01-regular":"Kelly slab","avenida-w01":"Kelly slab","pacifica-w00-condensed":"Open Sans Condensed","geotica-w01-four-open":"bodoni-w01-poster","aarzo-w00-regular":"Verdana","braggadocio-w01":"bodoni-w01-poster","reklamescriptw00-aedium":"Lobster","snellroundhandw01-scrip":"Marck Script","helvetica-w01-light":"helvetica-w01-roman","nimbus-sans-tw01con":"Open Sans Condensed","soho-w01-thin-condensed":"Open Sans Condensed","clarendon-w01-aedium-692107":"Georgia","museo-w01-700":"Courier New","museo-slab-w01-100":"Courier New","americantypwrteritcw01--731025":"Courier New",monoton:"Arial Black",sacramento:"Marck Script",cookie:"Lobster",raleway:"helvetica-w01-roman","amatic sc":"Open Sans Condensed","coquette-w00-light":"Marck Script","rosewood-w01-regular":"bodoni-w01-poster"},ja:{anton:"ｍｓ ｐゴシック",arial:"ｍｓ ｐゴシック","courier new":"ｍｓ ｐゴシック","arial black":"ｍｓ ｐゴシック",basic:"ｍｓ ｐゴシック",caudex:"ｍｓ 明朝","chelsea market":"ｍｓ 明朝","comic sans ms":"メイリオ",corben:"ｍｓ 明朝","eb garamond":"ｍｓ 明朝",enriqueta:"ｍｓ ｐ明朝",forum:"ｍｓ ｐ明朝","fredericka the great":"ｍｓ ｐゴシック",georgia:"ｍｓ 明朝",impact:"ｍｓ ｐゴシック","jockey one":"ｍｓ ゴシック","josefin slab":"ｍｓ 明朝",jura:"ｍｓ 明朝","kelly slab":"ｍｓ ゴシック","lucida console":"ｍｓ ｐゴシック","lucida sans unicode":"ｍｓ ｐゴシック","marck script":"ｍｓ 明朝",lobster:"ｍｓ ｐゴシック","mr de haviland":"ｍｓ 明朝",niconne:"ｍｓ 明朝","noticia text":"メイリオ","open sans":"ｍｓ ｐゴシック",overlock:"メイリオ","palatino linotype":"メイリオ","patrick hand":"ｍｓ 明朝",play:"ｍｓ ｐゴシック",sarina:"ｍｓ ｐゴシック",signika:"ｍｓ ｐゴシック",spinnaker:"ｍｓ ｐゴシック",tahoma:"ｍｓ ｐゴシック","times new roman":"ｍｓ ｐ明朝",verdana:"ｍｓ ｐゴシック","bodoni-w01-poster":"ｍｓ ｐゴシック","stencil-w01-bold":"ｍｓ ｐゴシック","itc-arecibo-w01-regular":"ｍｓ ｐゴシック","avenida-w01":"ｍｓ ｐ明朝","pacifica-w00-condensed":"ｍｓ 明朝","geotica-w01-four-open":"ｍｓ ｐゴシック","marzo-w00-regular":"ｍｓ ｐ明朝","braggadocio-w01":"ｍｓ ｐゴシック","reklamescriptw00-medium":"ｍｓ ｐゴシック","snellroundhandw01-scrip":"ｍｓ 明朝","din-next-w01-light":"ｍｓ 明朝","helvetica-w01-roman":"メイリオ","helvetica-w01-light":"メイリオ","helvetica-w01-bold":"ｍｓ ｐゴシック","nimbus-sans-tw01con":"メイリオ","soho-w01-thin-condensed":"ｍｓ 明朝","droid-serif-w01-regular":"ｍｓ ゴシック","clarendon-w01-medium-692107":"ｍｓ ｐゴシック","museo-w01-700":"ｍｓ ｐゴシック","museo-slab-w01-100":"ｍｓ ｐゴシック","americantypwrteritcw01--731025":"ｍｓ 明朝",monoton:"メイリオ",sacramento:"ｍｓ ｐ明朝",cookie:"ｍｓ ｐ明朝",raleway:"メイリオ","open sans condensed":"メイリオ","amatic sc":"ｍｓ ｐ明朝","coquette-w00-light":"ｍｓ ｐ明朝","rosewood-w01-regular":"ｍｓ ゴシック"},tr:{"amatic sc":"comic sans ms","bodoni-w01-poster":"open sans condensed","braggadocio-w01":"arial black","chelsea market":"comic sans ms",corben:"noticia text","fredericka the great":"clarendon-w01-medium-692107","geotica-w01-four-open":"anton","itc-arecibo-w01-regular":"kelly slab","josefin slab":"american typewriter","lucida sans unicode":"open sans","marzo-w00-regular":"open sans condensed","mr de haviland":"marck script","museo-w01-700":"enriqueta","museo-slab-w01-100":"courier new",niconne:"cookie","nimbus-sans-tw01con":"open sans condensed",overlock:"open sans","pacifica-w00-condensed":"jura",raleway:"helvetica-w01-light","rosewood-w01-regular":"clarendon-w01-medium-692107","snellroundhandw01-scrip":"cookie",spinnaker:"helvetica-w01-roman","stencil-w01-bold":"impact","soho-w01-thin-condensed":"Open Sans Condensed","helvetica-w01-light":"open sans condensed","helvetica-w01-bold":"arial black",monoton:"reklamescriptw00-medium","americantypwrteritcw01--731025":"forum","din-next-w01-light":"open sans condensed"},pl:{"helvetica-w01-light":"open sans condensed","soho-w01-thin-condensed":"amatic sc","bodoni-w01-poster":"anton","braggadocio-w01":"impact","stencil-w01-bold":"impact",monoton:"reklamescriptw00-medium","geotica-w01-four-open":"sacramento","mr de haviland":"amatic sc","americantypwrteritcw01--731025":"amatic sc","din-next-w01-light":"helvetica-w01-roman","museo-slab-w01-100":"Courier New",raleway:"helvetica-w01-roman",overlock:"Open Sans","museo-w01-700":"enriqueta"}};return{getFallbackFontsForLang:function(e){return a[e]},getFontFallbackIfNeeded:function(e,t){return a[e]&&a[e][t]?a[e][t]:t},getUpdatedFonts:function(e,n,r){return o.reduce(e,function(e,t,i){return e[i]=o.reduce(a[n],function(e,t,i){return e.replace(i,t.replace(/ /g,"+").toLowerCase())},t),o.isNumber(r)&&0<r&&(e[i]=e[i].replace(/(\d+)px/,function(e,t,i){return Math.min(parseInt(i,10),e)+"px"}.bind(null,r))),e},[])}}}),define("util/backgroundUtils/bi/biEvents",["lodash"],function(c){"use strict";return{changedBackgroundBiEvent:function(e,t,i,n){if(n.origin){var r=e.dsRead.pages.getPrimaryPageId(),o=void 0,a=void 0,s=void 0,l=void 0,u=i.mediaRef;l="bg_presets"===n.origin?n.presetIndex:null,u&&(o=u.uri||u.videoId||"",void 0!==u.loop&&(a=(!!u.loop).toString())),!e.isMobileEditor()&&e.dsRead.pages.background.get(r,"mobile").isPreset||(s=!0),e.bi.event(t,{origin:n.origin,bg_media_type:i.mediaRef&&i.mediaRef.type.toLowerCase()||"Color",bg_mobile_detached:(!!s).toString(),bg_media_name:o,bg_page_id:r,bg_preset_index:l,bg_vendor_name:c.get(i,"mediaRef.artist.name"),bg_vendor_media_id:c.get(i,"mediaRef.artist.id"),bg_color:i.color,bg_fitting:i.fittingType,bg_positioning:i.alignType,bg_image_opacity:i.mediaRef&&i.mediaRef.opacity&&Math.floor(100*i.mediaRef.opacity),bg_scroll_with_site:i.scrollType,bg_overlay_color:i.colorOverlay,bg_overlay_color_opacity:i.colorOverlayOpacity&&Math.floor(100*i.colorOverlayOpacity),bg_video_overlay_pattern:c.get(i,"mediaRef.posterImageRef.uri"),bg_video_loop:a,bg_slideshow_transition_type:"",bg_slideshow_transition_duration:-1,bg_slideshow_transition_direction:"",bg_slideshow_pausebetweenimages:-1})}},changedStripBackground:function(e,t,i,n){if(n.origin){var r=e.dsRead.pages.getPrimaryPageId(),o=void 0,a=void 0,s=void 0,l=void 0,u=i.mediaRef;l="bg_presets"===n.origin?n.presetIndex:null,u&&(o=u.uri||u.videoId||"",void 0!==u.loop&&(a=(!!u.loop).toString())),!e.isMobileEditor()&&e.dsRead.pages.background.get(r,"mobile").isPreset||(s=!0),e.bi.event(t,{panel_name:n.panelName,origin:n.origin,bg_media_type:i.mediaRef&&i.mediaRef.type.toLowerCase()||"Color",bg_mobile_detached:(!!s).toString(),bg_media_name:o,bg_page_id:r,bg_preset_index:l,bg_vendor_name:c.get(i,"mediaRef.artist.name"),bg_vendor_media_id:c.get(i,"mediaRef.artist.id"),bg_color:i.color,bg_fitting:i.fittingType,bg_positioning:i.alignType,bg_image_opacity:i.mediaRef&&i.mediaRef.opacity&&Math.floor(100*i.mediaRef.opacity),bg_scroll_with_site:i.effectName||i.scrollType,bg_overlay_color:i.colorOverlay,bg_overlay_color_opacity:i.colorOverlayOpacity&&Math.floor(100*i.colorOverlayOpacity),bg_video_overlay_pattern:c.get(i,"mediaRef.posterImageRef.uri"),bg_video_loop:a,bg_slideshow_transition_type:"",bg_slideshow_transition_duration:-1,bg_slideshow_transition_direction:"",bg_slideshow_pausebetweenimages:-1})}},applyToOtherClick:function(e,t){e.bi.event(t)},applyToOtherClosed:function(e,t,i){e.bi.event(t,i)},mobileDataDuplicationError:function(e,t){e.dsActions.bi.error(t)}}}),define("util/backgroundUtils/backgroundUtils",["lodash","color","util/imageService/imageTransform","util/browser/browserUtil","util/backgroundUtils/bi/biEvents","santa-editor-utils","util/serviceTopology/serviceTopology","platformUtils","constants"],function(r,n,c,d,e,o,a,t,i){"use strict";var s=i.MEDIA_TYPES,l=t.backgroundUtils;function u(e,t){if(t=t||"",r.includes(t,"color")){var i=t.replace(/[{}]/g,"");return e.dsRead.theme.colors.get(i)}return t}return{biEvents:e,isSmallerFromContainer:function(e,t,i,n){return e<i&&t<n},getImageDisplayData:function(e,t,i,n,r,o,a,s){var l={id:i,width:n,height:r},u={width:o,height:a,alignment:t,htmlTag:"bg",pixelAspectRatio:d.getDevicePixelRatio()};return c.getData(e,l,u,{quality:s||85})},getChangeVideoBiEventFields:function(e,t){var i=r.sortBy(e.fileOutput.video,function(e){return parseInt(e.quality,10)}),n=r.last(i);return{video_id:e.fileBaseUrl,video_width:e.fileInput.width,video_height:e.fileInput.height,video_format:n.format,video_fps:n.fps,video_aspect_ratio:n.display_aspect_ratio,video_quality:n.quality,video_has_audio:-1===n.audio_bitrate?0:1,origin:t}},getMediaType:function(e){var t=e.mediaRef,i=s.COLOR;return t&&(i=t.type),i},clearOverlayData:function(e){e.ref.colorOverlay="",e.ref.colorOverlayOpacity=0,e.ref.imageOverlay=null},getStoryboardDisplayValue:function(e,t){return t&&"videoAndTime"!==t?t:r.find(e.qualities,{quality:"storyboard"})&&t?t:"time"},getOverlayStyle:function(e,t){var i=u(t,e.colorOverlay);return{backgroundImage:e.imageOverlay?"url("+o.url.joinURL(a.staticMediaUrl,e.imageOverlay.uri)+")":null,backgroundColor:i?new n(i).alpha(e.colorOverlayOpacity||0).rgbaString():null}},getColorValue:u,getVideoBackgroundObject:l.getVideoBackgroundObject,getImageBackgroundObject:l.getImageBackgroundObject,getMediaPlayerVideoObject:l.getMediaPlayerVideoObject,getVideoPosterObject:l.getVideoPosterObject}}),define("util/layout/pinModeUtils",["lodash"],function(o){"use strict";var n={TOP_LEFT:{top:{px:20},left:{px:20}},TOP:{top:{px:20},hCenter:{px:0}},TOP_RIGHT:{top:{px:20},right:{px:20}},LEFT:{left:{px:20},vCenter:{px:0}},MIDDLE:{hCenter:{px:0},vCenter:{px:0}},RIGHT:{right:{px:20},vCenter:{px:0}},BOTTOM_LEFT:{bottom:{px:20},left:{px:20}},BOTTOM:{bottom:{px:20},hCenter:{px:0}},BOTTOM_RIGHT:{bottom:{px:20},right:{px:20}}};function a(e){var t=e.components.layout.get(e.selection.getSelectedComponents()[0]);return{additionalWidth:(t.bounding.width-t.width)/2,additionalHeight:(t.bounding.height-t.height)/2}}function s(e,t){return o.isUndefined(e.bottom)?o.isUndefined(e.top)||(e.top.px+=t.additionalHeight):e.bottom.px+=t.additionalHeight,o.isUndefined(e.right)?o.isUndefined(e.left)||(e.left.px+=t.additionalWidth):e.right.px+=t.additionalWidth,e}return{dockMap:n,checkSizeRestrictions:function(e,t){switch(e){case"TOP_LEFT":case"TOP_RIGHT":case"BOTTOM_LEFT":case"BOTTOM_RIGHT":if(500<=t.width&&500<=t.height)return!0;break;case"TOP":case"BOTTOM":if(300<=t.height)return!0;break;case"LEFT":case"RIGHT":if(500<=t.width)return!0}return!1},getDockedDirection:function(i){return o.findKey(n,function(e,t){if(o.isEqual(o.keys(e),o.keys(i)))return t})},getDockPreviewStyle:function(e,t){var i=a(e),n=o.cloneDeep(t);n.docked=s(n.docked,i);var r=e.components.layout.getDockedStyle(n)||{};return n.rotationInDegrees&&(r.transform="rotate("+n.rotationInDegrees+"deg)"),r.opacity=.5,r.transitionProperty="opacity",r.transitionDuration="0.2s",r},OFFSET:20,getDiffBetweenBoundingAndOriginalLayout:a,getAdditionOfDiffBoundingAndOriginalLayout:s,getRightDockLayoutAfterRotation:function(e,t){var i=a(t);return s(o.cloneDeep(n[e]),i)},getHorizontalOffset:function(e){return o.isUndefined(e.left)?o.isUndefined(e.right)?o.isUndefined(e.hCenter)?void 0:e.hCenter.px:e.right.px:e.left.px},getVerticalOffset:function(e){return o.isUndefined(e.top)?o.isUndefined(e.bottom)?o.isUndefined(e.vCenter)?void 0:e.vCenter.px:e.bottom.px:e.top.px},updateVerticalOffset:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return o.isUndefined(e.top)||(e.top.px=t+i),o.isUndefined(e.bottom)||(e.bottom.px=t+i),o.isUndefined(e.vCenter)||(e.vCenter.px=t),e},updateHorizontalOffset:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return o.isUndefined(e.left)||(e.left.px=t+i),o.isUndefined(e.right)||(e.right.px=t+i),o.isUndefined(e.hCenter)||(e.hCenter.px=t),e},isDockedVerticalCenter:function(e){return o.includes(["LEFT","RIGHT"],e)},isDockedHorizontalCenter:function(e){return o.includes(["TOP","BOTTOM"],e)},isDockedCorner:function(e){return o.includes(["TOP_LEFT","TOP_RIGHT","BOTTOM_LEFT","BOTTOM_RIGHT"],e)},isDockedMiddle:function(e){return"MIDDLE"===e}}}),define("util/imageCrop/imageCrop",["lodash","santa-editor-utils"],function(l,e){"use strict";var u=e.math.rect,a={left:{x:-1},top:{y:-1},right:{x:1},bottom:{y:1}};return{scale:function(e,t){var i=l.clone(e);return i.height*=t,i.width*=t,i},reverseScale:function(e,t){return e.height/t.height},autoCrop:function(e,t){var i=u.getAspectRatio(e),n={x:0,y:0},r=t.width*i;return r<t.height?n.x=(e.width-t.width)/2:r>t.height&&(n.y=(e.height-t.height)/2),l.assign({},e,{x:e.x+n.x,y:e.y+n.y,width:t.width,height:t.height})},reverseAutoCrop:function(e,t){var i=u.getAspectRatio(t),n={width:0,height:0},r=e.width*i,o=e.height/i;if(r<e.height)n.width=o-e.width;else{if(!(r>e.height))return l.assign({},e,{width:o,height:r});n.height=r-e.height}return{width:e.width+n.width,x:e.x-n.width/2,height:e.height+n.height,y:e.y-n.height/2}},manualCrop:function(e,t,i){var n=e.width/i.width,r=e.height/i.height;return{x:t.x*n,y:t.y*r,width:t.width*n,height:t.height*r}},reverseManualCrop:function(e,t,i){var n=e.width/t.width,r=e.height/t.height;return{x:e.x-t.x*n,y:e.y-t.y*r,width:i.width*n,height:i.height*r}},ensure:{scaleWithinDimensions:function(e,t,i){var n=l.clone(e);return n.height<t.height&&l.assign(n,{height:t.height,width:i.width}),n.width<t.width&&l.assign(n,{width:t.width,height:i.height}),n},areaIsFullyContained:function(e,t){var r=l.clone(e),o=l.clone(t),i={left:-o.x,top:-o.y,right:u.getRight(o)-r.width,bottom:u.getBottom(o)-r.height};return l.forEach(i,function(e,t){if(0<e){var i=a[t],n=0;i.x?(n=i.x*e,r.x+=n,o.x-=n):(n=i.y*e,r.y+=n,o.y-=n)}}),{originArea:r,area:o}},areaWithinViewport:function(e,t){var i=l.clone(t.cropArea),n=t.cropOriginArea;i.x=Math.max(0,e.x-n.x,t.cropArea.x);var r=Math.min(u.getRight(n),u.getRight(e)),o=Math.min(r-n.x,u.getRight(t.cropArea));i.width=o-i.x,i.y=Math.max(0,-n.y,i.y);var a=u.getBottom(n),s=Math.min(a-n.y,u.getBottom(t.cropArea));return i.height=s-i.y,i}}}}),define("util/windowInteraction/windowInteractionUtils",["coreUtilsLib"],function(e){"use strict";return{reloadPageWithoutQuestion:function(){window.onbeforeunload=null,window.location.reload(!0)},replaceState:function(){window.history&&window.history.replaceState?window.history.replaceState.apply(window.history,arguments):e.log.error("window.history is not supported in this OLD browser!")}}}),define("util/utils/uiUtils",["zepto"],function(i){"use strict";var n=null;return{getScrollbarWidth:function(){if(null===n){var e=i("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),t=i("<div>").css({width:"100%"}).appendTo(e).width();e.remove(),n=100-t}return n}}}),define("util/browser/performance",["lodash","santa-editor-utils"],function(i,e){"use strict";var o=" start";if("undefined"==typeof window||e.url.isTrue("suppressperformance"))return{mark:i.noop,measure:i.noop,start:i.noop,startOnce:i.noop,finish:i.noop,time:function(e,t){return t.apply(this,Array.prototype.slice.call(arguments,2))},getMark:i.noop,getMeasure:i.noop,clearMarks:i.noop,clearMeasures:i.noop,now:i.now};var t=void 0,n=window.performance;if(n&&n.now)t=n.now.bind(n);else{var r=window.mainLoaded||0;t=function(){return i.now()-r}}var a=void 0;if(n&&n.measure){var s=function(e,t){return i.find(n.getEntriesByType(e),{name:t})};a={mark:n.mark.bind(n),measure:function(e,t,i){try{n.measure(e,t,i)}catch(e){}},getMark:s.bind(this,"mark"),getMeasure:s.bind(this,"measure"),clearMarks:n.clearMarks.bind(n),clearMeasures:n.clearMeasures.bind(n)}}else{var l={domLoading:{name:"domLoading",startTime:0}},u={},c=function(e,t){t&&delete e[t]};a={mark:function(e){l[e]={name:e,startTime:t()}},measure:function(e,t,i){var n=a.getMark(t),r=a.getMark(i);if(n&&r){var o={name:e,startTime:n.startTime,duration:r.startTime-n.startTime};isNaN(o.duration)||(u[e]=o)}},getMark:function(e){return l[e]},getMeasure:function(e){return u[e]},clearMarks:c.bind(this,l),clearMeasures:c.bind(this,u)}}return a.start=function(e){a.mark(e+o)},a.startOnce=function(e){a.getMark(e+o)||a.start(e)},a.finish=function(e,t,i){var n=e+o;if(a.getMark(n)){var r=e+" finish";a.mark(r),a.measure(e,n,r,t,i),a.clearMarks(n),a.clearMarks(r)}},a.time=function(e,t,i,n){try{return a.start(e),t.apply(this,Array.prototype.slice.call(arguments,4))}finally{a.finish(e,i,n)}},a.now=t,a}),define("util/utils/integrations/qualaroo",["santa-editor-utils"],function(e){"use strict";return{start:function(){window._kiq=window._kiq||[],window.setTimeout(function(){var e=window.document.getElementsByTagName("script")[0],t=window.document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//s3.amazonaws.com/ki.js/59166/dei.js",e.parentNode.insertBefore(t,e)},1),window._kiq.push(["identify",e.editorModel.permissionsInfo.loggedInUserId])}}}),define("util/utils/integrations/fullStory",["santa-editor-utils","util/appStudio/appStudioUtils"],function(e,i){"use strict";return{start:function(){e.url.getParameterByName("isqa")||require(["wixFullstoryLoader","experiment"],function(e,t){e({label:"santa-editor",sample:t.isOpen("fullstory")||t.isOpen("se_appStudioFullstory")&&i.isAppStudio()?1:0})})}}}),define("util/utils/integrations/fedopsLogger",["experiment"],function(e){"use strict";var i=void 0,n=[],r={},t=window.Raven||{},o=e.isOpen("se_fedopsLogger");function a(e,t){i?t?r[e]=i.interactionStarted(e):i.interactionEnded(e,r[e]):n.push({interactionName:e,interactionStarted:t})}return{create:function(){o&&require(["fedops-logger"],function(e){i=e.create("santa-editor"),n.forEach(function(e){a(e.interactionName,e.interactionStarted)}),n=[]})},interactionStarted:function(e){t.captureBreadcrumb&&t.captureBreadcrumb({category:"interaction start",message:"interaction "+e+" started"}),o&&(Array.isArray(e)?e.forEach(function(e){a(e,!0)}):a(e,!0))},interactionEnded:function(e){t.captureBreadcrumb&&t.captureBreadcrumb({category:"interaction end",message:"interaction "+e+" ended"}),o&&(Array.isArray(e)?e.forEach(function(e){a(e,!1)}):a(e,!1))},appLoaded:function(){o&&i.appLoaded()},INTERACTIONS:{INSTALL_APP:"install_app",ADD_BLOG_FROM_6TH_BUTTON:"add_blog_from_6th_button",APP_STUDIO_INIT:"app_studio_init",APP_STUDIO_PACKAGE:"app_studio_package",APP_STUDIO_BUILD:"app_studio_build",ADD_TPA_FROM_ADD_PANEL:"add_tpa_from_add_panel",ADD_COMP_FROM_ADD_PANEL:"add_comp_from_add_panel",ADD_COMP_FROM_MEDIA_MANAGER_PANEL:"add_comp_from_media_manager_panel",ADD_PAGE_ADD_PANEL:"add_page_add_panel",AUTO_PIN_TO_SCREEN:"auto_pin_to_screen",DELETE_LIGHTBOX_FROM_EDITOR:"delete_lightbox_from_editor",ADD_PAGE:"add_page",ADD_TPA_SECTION:"add_tpa_section",ADD_TPA_WIDGET:"add_tpa_widget",ADD_TPA_PLATFORM:"add_tpa_platform",REMOVE_PAGE:"remove_page",NAVIGATE_TO_PAGE:"navigate_to_page",CHANGE_EDITOR_MODE_TO_MOBILE:"change_editor_mode_to_mobile",ADD_BLOG_FROM_EDITOR:"add_blog_from_editor",ADD_MEMBERS_FROM_EDITOR:"add_members_from_editor",CHANGE_EDITOR_MODE_TO_DESKTOP:"change_editor_mode_to_desktop",GO_TO_DESKTOP_PREVIEW:"go_to_desktop_preview",GO_TO_MOBILE_PREVIEW:"go_to_mobile_preview",GO_TO_DESKTOP_EDITOR:"go_to_desktop_editor",GO_TO_MOBILE_EDITOR:"go_to_mobile_editor",PUBLISH_FROM_TOPBAR:"publish_from_topbar",SAVE_FROM_KEYBOARD:"save_from_keyboard",START_SAVE_FROM_KEYBOARD:"start_save_from_keyboard",SAVE_FROM_TOPBAR:"save_from_topbar",START_SAVE_FROM_TOPBAR:"start_save_from_topbar",UI_SAVE:"ui_save",BG_SAVE:"bg_save",USER_PUBLISH_SITE:"user_publish_site",USER_PUBLISH_RC:"user_publish_rc",CODE_TOP_BAR_FIRST_INSTALL:"code_top_bar_first_install",CODE_ADD_PANEL_FIRST_INSTALL:"code_add_panel_first_install",CODE_TOP_BAR_TOGGLE:"code_top_bar_toggle",TRIGGER_APP_INSTALLER_PANEL:"trigger_app_installer_panel",APP_INSTALLER_INSTALL_SINGLE_APP:"app_installer_install_single_app",INIT_MULTILINGUAL:"multilingual-onboarding-open",ONBOARDING_MULTILINGUAL:"multilingual-onboarding-complete",BM_MULTILINGUAL:"multilingual-dashboard-open",FETCHING_FROM_DEALER:"fetching_from_dealer",BACK_TO_ADI:"back_to_adi",CROP_MODE:"crop_mode",ADD_QUICK_ACTION_BAR:"add_quick_action_bar",DEALER_IN_POST_PUBLISH:"dealer_in_post_publish",MEDIA_MANAGER_PANEL_SEARCH:"media_manager_panel_search",MEDIA_MANAGER_PANEL_CLEAR_SEARCH:"media_manager_panel_clear_search",MEDIA_MANAGER_PANEL_BLUR_SEARCH:"media_manager_panel_blur_search",MEDIA_MANAGER_PANEL_BUY_ITEM:"media_manager_panel_buy_item",MEDIA_MANAGER_PANEL_LOAD_DATA:"media_manager_panel_load_data",MEDIA_MANAGER_PANEL_ADD_MEDIA_CLICK:"media_manager_panel_add_media_click",MEDIA_MANAGER_PANEL_ITEM_CLICK:"media_manager_panel_item_click",MEDIA_MANAGER_PANEL_START_DRAG_ITEM:"media_manager_panel_start_drag_item",SET_DRAG_SHORTCUT_CONTEXT:"set_drag_shortcut_context",SET_ROTATE_SHORTCUT_CONTEXT:"set_rotate_shortcut_context",SET_RESIZE_SHORTCUT_CONTEXT:"set_resize_shortcut_context",BOOKINGS_PANEL_OPENED:"bookings_panel_opened"}}}),define("util/utils/integrations/dealerUtils",["lodash","util/serviceTopology/serviceTopology","util/translation/languages","santa-editor-utils","util/utils/integrations/fedopsLogger"],function(e,t,i,u,n){"use strict";return{loadDealerAsset:function(e,o,a,s){var l=new e.DealerAssetsLoader;return n.interactionStarted(n.INTERACTIONS.FETCHING_FROM_DEALER),new Promise(function(t,i){var n=function(e,t,i){window.clearTimeout(t),i(e)},r=window.setTimeout(function(){var e=o+" pre fetch timeout";u.ravenUtils.sendMessage(e,u.ravenUtils.LOG_LEVEL.WARNING),i({message:e})},2e3);l.loadAsset(o,s,{ignoreCache:!!a}).then(function(e){return n(e,r,t)}).catch(function(e){return n(e,r,i)})}).then(function(e){return n.interactionEnded(n.INTERACTIONS.FETCHING_FROM_DEALER),e})},loadDealerOffers:function(e,t,i){return(new e.DealerAssetsLoader).loadOffers(t,i)},createDealerRenderSuccessTimeout:function(e){var t="success timeout";return window.setTimeout(function(){u.ravenUtils.sendMessage("dealer after pre fetch "+t+" error",u.ravenUtils.LOG_LEVEL.WARNING),e(t)},2e3)},clearDealerRenderSuccessTimeout:function(e){window.clearTimeout(e)},getDealerViewerBaseProps:function(){return{translationsUrl:e.get(t.scriptsLocationMap,"dealer-cms-translations","")+"/",locale:i.getLanguageCode()}},bannerPositions:{SITE_SAVED:"EDITOR_UPGRADE",SITE_NOT_SAVED:"EDITOR_FIRST_SAVE_UPGRADE",POST_PUBLISH:"85299d8a-9b9c-4324-a777-335364a06e1b",LIVE_CHAT:"964cc55c-4b94-4332-9753-43f48c0c9207"}}}),define("util/ui/splitterAPI",["lodash"],function(i){"use strict";function n(e,t){return i.assign({},e,{collapsed:t})}function r(e,t){return t&&t!==e.collapsed?e:i.assign({},e,{collapsed:!1})}return{getInitialState:function(e,t){return{splitPosition:e||"50%",collapsed:t||!1}},getSplitPosition:function(e){switch(e.collapsed){case"top":case"left":return"0";case"bottom":case"right":return"100%";default:return e.splitPosition}},setSplitPosition:function(e,t){return i.assign({},e,{splitPosition:t,collapsed:!1})},collapse:n,unCollapse:r,toggleCollapse:function(e,t){return t?e.collapsed===t?r(e,t):n(e,t):e},isCollapsed:function(e,t){return t?e.collapsed===t:e.collapsed}}}),define("util/fontsManager/constants",[],function(){"use strict";return{FONT_EVENTS_NAMES:{LIST_CHANGED:"LIST_CHANGED",QUEUE_CHANGED:"QUEUE_CHANGED",FILE_CHANGED:"FILE_CHANGED"},FONT_STATUS:{WAITING:"waiting",SUCCEEDED:"succeeded",FAILED:"failed",FINISHED:"finished",PROCESSING:"processing",UPLOADING:"uploading"},FONT_STATUS_MSG:{waiting:"Upload_Fonts_Status_Awaiting_Upload",uploading:"Upload_Fonts_Status_Awaiting_Upload",processing:"Upload_Fonts_Status_Uploading",finished:"Upload_Fonts_Status_Upload_Successful"},FONT_ERROR:{"-7751":{bi_msg:"File Format warning",translate_msg:"Upload_Fonts_Errors_File_Format"},999999:{bi_msg:"File Size",translate_msg:"Upload_Fonts_Errors_File_Size"},999998:{bi_msg:"Folder Upload",translate_msg:"Upload_Fonts_Errors_Folder"},unknown:{bi_msg:"Failed",translate_msg:"Upload_Fonts_Errors_Upload_Failed"}},ORIGINAL_FONT_PREFIX:"orig_",FONTS_MEDIA_TYPE:"ufont",CONVERTED_EXTENTIONS:["ttf","woff","woff2"],ACCEPTABLE_EXTENTIONS:["ttf","woff","woff2","otf"],CJK_LANGUAGES:["ko","ja","zh"],CJK_COUNTRIES:["JPN","PRK","KOR","TWN","CHN","HKG","SGP"],MAX_FILE_SIZE:15e5}}),define("util/fontsManager/fontsManagerUtils",["lodash","util/serviceTopology/serviceTopology","util/fontsManager/constants","santa-editor-utils","coreUtilsLib"],function(r,n,o,a,s){"use strict";return{getUploadedFontData:function(e){var t=r.clone(e),i=t.fileInput&&t.fileInput.font_name.replace(/[^\w\s]/gi,"").toLowerCase();return t.fileName=t.name.split(".")[0].replace(/[-_]/g," "),t.displayName=r.startCase(t.fileInput.font_name),t.fontFamily=s.fonts.getUploadedFontValue(t.id)+","+o.ORIGINAL_FONT_PREFIX+r.snakeCase(i),t.cssFontFamily=t.fontFamily,t.fontFace=s.fonts.getUploadedFontFaceStyles([t.fontFamily],n.mediaRootUrl),t.downloadUrl=function(e){var t=r.get(e,"fileInput.format");if(t){if(r.includes(o.CONVERTED_EXTENTIONS,t)){var i=r.find(e.fileOutput.font,{format:t}).url||e.fileUrl;return a.url.joinURL(n.mediaRootUrl,i)}return a.url.joinURL(n.mediaRootUrl,e.fileUrl)}}(e),t},getErrorMessage:function(e){return o.FONT_ERROR[e]||o.FONT_ERROR.unknown},shouldFilterOtfFiles:function(e,t){return r.includes(o.CJK_LANGUAGES,e)||r.includes(o.CJK_COUNTRIES,t)},isFolder:function(e){return!r.includes(e.name,".")},isFontExt:function(e,t){var i=t?o.CONVERTED_EXTENTIONS:o.ACCEPTABLE_EXTENTIONS,n=r.last(r.split(e.name,"."));return r.includes(i,r.toLower(n))},isLargeFile:function(e){return e.size>o.MAX_FILE_SIZE},constants:o}}),define("util/panel/panelUtils",["lodash","constants"],function(r,e){"use strict";var s=e.PANELS.PANEL_SIZE_TO_KEEP_IN_VIEW;function o(e,t){return t&&r.get(t,e)}return{getFrameProps:function(e){return r.pick(e,["panelName","style","onCompPanelLoaded","onBackClick","backButtonLabel","shouldTranslate","onDragEnd","overrideTitle"])},getPanelDragLimits:function(e,t,i,n){var r=i.left-t+s,o=i.right+t-s,a=n.bottom+e-s;return{x:[r,o],y:[i.top+10,a]}},getData:function(e,t,i){var n=o(e,t);return r.isUndefined(n)&&!r.isUndefined(i)&&(n=o(e,i)),n},getValue:function(e,t){return o(e,t)}}}),define("util/designData/designDataUtils",["lodash"],function(l){"use strict";return{updateThemeColors:function(a,s){l.forEach(a.themeMappings,function(e,t){var i,n,r=s[e],o=l.get(a.cssStyle,t);i=r,(n=o).red=parseInt(i.substr(1,2),16),n.green=parseInt(i.substr(3,2),16),n.blue=parseInt(i.substr(5,2),16)})}}}),define("util/text/textUtils",["lodash"],function(i){"use strict";return{handleMaxLengthKeyDown:function(e){var t=e.key;/[e,\+,\-,\.]/.test(t)&&!i.includes(["Backspace","Delete","ArrowRight","ArrowLeft","Home"],t)&&e.preventDefault()},copyTextToClipBoard:function(e){var t=window.document.createElement("textarea");t.style.position="absolute",t.style.left="-10000px",t.textContent=e,window.document.body.appendChild(t),t.select(),window.document.execCommand("copy"),window.document.body.removeChild(t)}}}),define("util/utils/deepFreeze",["lodash"],function(n){"use strict";var o=function(){throw new Error("Object is frozen")};return function t(i){if(Object.isFrozen(i))return i;n.forEach(Object.getOwnPropertyNames(i),function(e){i.hasOwnProperty(e)&&null!==i[e]&&"object"===_typeof(i[e])&&n.set(i,e,t(i[e]))}),Object.freeze(i);return new Proxy(i,{set:o,deleteProperty:o,setPrototypeOf:o,defineProperty:function(e,t,i){var n=i.configurable,r=i.writable;if(!n&&!r)return Object.defineProperty(e,t,i);o()}})}}),define("util/bi/measuring",["lodash","constants","util/browser/performance","santa-editor-utils"],function(_,a,y,e){"use strict";var v=e.animationFrameUtils,w=[a.MOUSE_ACTION_TYPES.DRAG,a.MOUSE_ACTION_TYPES.RESIZE,a.MOUSE_ACTION_TYPES.SECTION_DRAG,a.MOUSE_ACTION_TYPES.ROTATE,a.MOUSE_ACTION_TYPES.DRAG_PUSH,a.MOUSE_ACTION_TYPES.RESIZE_PUSH],b=function(e,t,i,n,r){var o=function(e,t){switch(e){case a.MOUSE_ACTION_TYPES.DRAG:return t.FRAME_RATE_DRAG;case a.MOUSE_ACTION_TYPES.RESIZE:return t.FRAME_RATE_RESIZE;case a.MOUSE_ACTION_TYPES.SECTION_DRAG:return t.FRAME_RATE_SECTION_DRAG;case a.MOUSE_ACTION_TYPES.ROTATE:return t.FRAME_RATE_ROTATE;case a.MOUSE_ACTION_TYPES.DRAG_PUSH:return t.FRAME_RATE_DRAG_PUSH;case a.MOUSE_ACTION_TYPES.RESIZE_PUSH:return t.FRAME_RATE_RESIZE_PUSH}}(t.actionType,r);o&&0<e&&i(n(o,{frames_per_second:e}))},E=function(e,t){var i,n,r;return e.start?_.defaults({results:e.frameCounter>=t?e.results.concat((n=e,r=y.now(),1e3*n.frameCounter/(r-n.start))):e.results},(i=e,_.defaults({start:null,frameCounter:0},i)),e):e};return{measureAndReportFrameRate:function(s,l,u,c,d,p,g,f){var m={isMeasuring:!1,actionType:null,frameCounter:0,prevViewerRenderCounter:0,start:null,results:[]},h=function(e){_.assign(m,e)};!function e(){v.request(e);var t=s(),i=c(t),n=l(t);if(i||m.isMeasuring){var r,o,a=n!==m.prevViewerRenderCounter;h({prevViewerRenderCounter:n}),i?h(a?(r=d().type,o=m,r&&_.includes(w,r)?_.defaults({actionType:r,isMeasuring:!0,frameCounter:o.frameCounter+1,start:o.start||y.now()},o):{}):E(m,f)):(function(e,t,i,n,r){var o=E(e,r);if(o.results.length){var a=parseInt(_.sum(o.results)/o.results.length,10);b(a,o,t,i,n)}}(m,u,p,g,f),h({isMeasuring:!1,actionType:null,frameCounter:0,prevViewerRenderCounter:0,start:null,results:[]}))}}()}}}),define("util/utils/animationFrameRenderer",["lodash"],function(e){"use strict";return(0,e.curry)(function(e,t,i){var n=null;return function(){return n||(n=e(function(){n=null,i()})),function(){t(n),n=null}}})}),define("util/utils/recommendedMobileHeaderHeightUtils",["constants","util/utils/uiUtils"],function(e,i){"use strict";var r=e.ROOT_COMPS.MOBILE_EDITOR.RECOMMENDED_MOBILE_HEADER_HEIGHT,o=e.ROOT_COMPS.MOBILE_EDITOR.SEPARATOR_LINE_LENGTH,a=e.ROOT_COMPS.MOBILE_EDITOR.MOBILE_FRAME_WIDTH;function n(e,t){var i=[],n=(e.width-t-a)/2;return i.push({x1:n-o,x2:n,y:r}),i.push({x1:n+a,x2:n+a+o,y:r}),i}return{buildRecommendedHeaderLines:n,isMobileHeader:function(e){return"SITE_HEADER"===e.id&&"MOBILE"===e.type},getSnapCandidate:function(e){var t=n(e(),i.getScrollbarWidth());return{id:"recommendedMobileHeaderSize",layout:{x:t[0].x1,y:t[0].y,height:0,width:t[1].x2-t[0].x1},isDynamicLayout:!1}}}}),define("util/utils/breaker",[],function(){"use strict";return function(e){var t=!0,i=function(){if(t)return e.apply(void 0,arguments)};return i.on=function(){t=!0},i.off=function(){t=!1},i}}),define("util/inlinePopup/inlinePopupUtils",["lodash","constants"],function(i,e){"use strict";var n=e.INLINE_POPUP.BEHAVIOR_NAME,r=function(e,t){return i.chain(t).thru(e.components.behaviors.get).find(["behavior.name",n]).get("behavior.targetId").thru(e.components.get.byId).value()},o=function(e,t){return e.components.is.visible(t)};return{isOpen:o,isTargetOpen:function(e,t){return o(e,r(e,t))},getToggleTarget:r}}),define("util/spotlightStage/spotlightStageUtils",["lodash","util/inlinePopup/inlinePopupUtils"],function(e,n){"use strict";return{canSelectCompConsideringSpotlightStage:function(e,t,i){return!e.components.is.spotlightStageContainer(t)||e.components.isDescendantOfComp(i,t)||e.utils.isSameRef(i,t)||e.utils.isSameRef(n.getToggleTarget(e,i),t)}}}),define("util/mouseCoordinatesHandler/mouseCoordinatesHandler",["lodash"],function(c){"use strict";return{fitMouseCoordinatesToViewer:function(e,t,i,n,r){var o,a,s,l=t.width*(1-e)/2,u=c.pick(r,["pageX","pageY","clientX","clientY"]);return u.originalPageX=u.pageX,u.originalPageY=u.pageY,u.originalClientX=u.clientX,u.originalClientY=u.clientY,u.pageX+=i.scrollLeft,u.pageY+=i.scrollTop,u.clientX-=n.left,u.clientY-=n.top,u.pageX-=n.left,u.pageY-=n.top,e&&1!==e&&(o=t,a=u.clientX,s=u.clientY,a>=o.left&&a<=o.right&&s>=o.top&&s<=o.bottom)&&(u.pageX=(u.pageX-l)/e,u.pageY/=e,u.clientX=(u.clientX-l)/e,u.clientY/=e),u}}}),define("util/automationObserver/automationObserver",["santa-editor-utils"],function(t){"use strict";return{onPreviewReady:function(e){t.url.isTrue("isqa")&&e.registerSitePublishedCallbacks(function(){window.testApi.publishState.isPublishedInSession=!0})}}}),define("util/valueLink/valueLink",["prop-types"],function(i){"use strict";return{getValueFromProps:function(e){return void 0!==e.valueLink?e.valueLink.value:e.value},callOnChangeIfExists:function(e,t,i){var n=e.valueLink?e.valueLink.requestChange:e.onChange;n&&n(t,i)},valueLinkPropType:function(e){if(void 0!==e.valueLink){var t=i.shape({value:i.any,requestChange:i.func}).apply(this,arguments);if(t instanceof Error)return t;if(void 0!==e.value)return new Error("Cannot provide a valueLink and a value.");if(void 0!==e.onChange)return new Error("Cannot provide a valueLink and an onChange event.")}}}}),define("util/hoc/reportUIChange",["react","prop-types","lodash"],function(n,t,r){"use strict";return function(i){var e=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,n.Component),_createClass(t,[{key:"reportUIChange",value:function(e,t){this.context&&this.context.reportUIChange&&this.context.reportUIChange(t||i.displayName,this.props.instanceId||this.props.label,e)}},{key:"render",value:function(){var e=this,t=r.defaults({reportUIChange:function(){return e.reportUIChange()}},this.props);return n.createElement(i,t)}}]),t}();return e.contextTypes={reportUIChange:t.func},e.propTypes={instanceId:t.string,label:t.string},e}}),define("util/hoc/renderWhenMutated",["lodash","react","create-react-class","reduxLibs"],function(o,e,i,n){"use strict";return function(t){return i({displayName:n.recompose.wrapDisplayName(t,"RenderWhenMutated"),shouldComponentUpdate:function(n){var e=o.keys(t.propTypes),r=this.props;return o.some(e,function(e){var t=r[e],i=n[e];return"children"===e?!!o.isFunction(t)||i!==t:!(o.isFunction(t)&&o.isFunction(i)||o.isEqual(t,i))})},render:function(){return e.createElement(t,this.props)}})}}),define("util/hoc/withDragToStage",["react","reactDOM","prop-types","lodash","santa-editor-utils"],function(n,o,i,a,e){"use strict";var t=e.hoc,r=t.connect,s=t.STORES.EDITOR_API,l={},u=function(e){var t=e.editorAPI;return{_editorRegisterMouseMoveAction:function(e){return t.mouseActions.registerMouseMoveAction(t.addPanelInfra.addPanelDragToStage,e)},_dragBox:t.addPanelInfra.dragBox}},c=function(){return l};return function(t){var e=function(e){function i(e){_classCallCheck(this,i);var t=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return t.state={isDragging:!1},t.onStopItemDrag=t.onStopItemDrag.bind(t),t.onStartItemDrag=t.onStartItemDrag.bind(t),t.startItemDrag=t.startItemDrag.bind(t),t}return _inherits(i,n.Component),_createClass(i,[{key:"startItemDrag",value:function(e,t){var i=this.props,n=i._editorRegisterMouseMoveAction,r=i._dragBox;2!==e.button&&(t.rect=a.transform(t.rect,function(e,t,i){e[i]=parseInt(t,10)}),n({item:t,dragBoxClass:r,panelElm:o.findDOMNode(this),evt:e,onItemDragEnd:this.onStopItemDrag,onItemDragStart:this.onStartItemDrag}))}},{key:"onStopItemDrag",value:function(){this.setState({isDragging:!1})}},{key:"onStartItemDrag",value:function(){this.state.isDragging||this.setState({isDragging:!0})}},{key:"render",value:function(){var e=this.props;return n.createElement(t,a.assign({},a.omit(e,["_editorRegisterMouseMoveAction","_dragBox"]),{startItemDrag:this.startItemDrag}))}}]),i}();return e.propTypes={_editorRegisterMouseMoveAction:i.func.isRequired,_dragBox:i.func.isRequired},r(s,u,c)(e)}}),define("util/hoc/withDoubleClickPrevention",["react","lodash"],function(n,r){"use strict";return function(t){return function(e){function i(e){_classCallCheck(this,i);var t=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return t.clickTimestamp=null,t}return _inherits(i,n.Component),_createClass(i,[{key:"setClickTimeStamp",value:function(e){this.clickTimestamp=e.timeStamp}},{key:"isAnotherMouseActionAllowed",value:function(e){return!this.clickTimestamp||1e3<e.timeStamp-this.clickTimestamp}},{key:"render",value:function(){var e=this.props;return n.createElement(t,r.assign({},e,{setClickTimeStamp:this.setClickTimeStamp.bind(this),isAnotherMouseActionAllowed:this.isAnotherMouseActionAllowed.bind(this)}))}}]),i}()}}),define("util/lazyComponent/lazyComponent",["react","create-react-class","lodash","prop-types","coreUtilsLib"],function(o,e,a,t,s){"use strict";var l={},u={};return e({displayName:"LazyLoader",propTypes:{moduleName:t.string,placeHolder:t.object},statics:{isLoaded:function(e){return a.has(l,e)}},componentWillMount:function(){},componentWillReceiveProps:function(e){this.props.moduleName!==e.moduleName&&(u[this.props.moduleName]=a.without(u[this.props.moduleName],this))},componentWillUnmount:function(){u[this.props.moduleName]=a.without(u[this.props.moduleName],this)},render:function(){var e=this.props.moduleName;if(e&&!l.hasOwnProperty(e)){var t=this.props.moduleName.split(".")[0],i=this.props.moduleName.split(".").slice(1);if(require.defined(t)){var n=a.get(require(t),i);n?l[e]=n:s.log.warn("(lazyComponent.js) -> Module [["+e+"]] has not yet loaded. It is possible that this has not yet been implemented in the editor.")}else u.hasOwnProperty(e)||(u[e]=[]),a.includes(u[e],this)||u[e].push(this),require([t],function(e,t,i){for(var n=i,r=0;r<t.length;r++){if(!n.hasOwnProperty(t[r]))return void s.log.warn("(lazyComponent.js) -> Module [["+e+"]] has not yet loaded. It is possible that this has not yet been implemented in the editor.");n=n[t[r]]}l[e]=n,a.forEach(u[e],function(e){a.has(e.props,"onModuleLoaded")?e.props.onModuleLoaded():e.forceUpdate()})}.bind(null,e,i))}if(this.props.placeHolder||!l[e])return null;var r=a.omit(this.props,["moduleName","onModuleLoaded"]);return o.createElement(l[e],r)}})}),define("util/utils/candidatesUtil",["lodash"],function(E){"use strict";function I(n,e,r,o){return E.filter(e,function(e){var t=n[r]+n[o]/2,i=e.layout;return t===i[r]+i[o]/2})}function T(e,i,n){var r="x"===n?"width":"height",t=E.filter(e,function(e){var t=e.layout;return i===t[n]||i===t[n]+t[r]});return 0<t.length?A(t,i):t}function A(e,t){return E.map(e,function(e){return E.assign({},e,{axisValue:t})})}function O(e,t){var i=t.layout;return e.right>=i.x&&i.x+i.width>=e.left&&e.bottom>=i.y&&i.y+i.height>=e.top}return{getEqualDistanceCandidates:function(e,t,i,n,r){var o,a,s,l,u,c,d,p=E.filter(n,E.partial(O,t)),g=(o=e,p.filter(function(e){return void 0!==e.comp}).filter(function(e){return"SITE_HEADER"!==e.comp.id&&"SITE_FOOTER"!==e.comp.id&&e.comp.id!==o()}));if("x"===r){var f=I(i,g,"y","height");return 0<f.length?A(f,i.y+i.height/2):(a=g,l=(s=i).y+s.height,u=s.y,c=T(a,u,"y"),d=T(a,l,"y"),E.concat(c,d))}var m,h,_,y,v,w,b=I(i,g,"x","width");return 0<b.length?A(b,i.x+i.width/2):(m=g,_=(h=i).x+h.width,y=h.x,v=T(m,y,"x"),w=T(m,_,"x"),E.concat(v,w))},isLayoutVisible:O}}),define("util/utils/componentsDistanceUtils",["lodash","util/utils/candidatesUtil"],function(L,x){"use strict";var p=26,g=2,o=3;function k(a,s,l,u){return L.reduce(a,function(e,t,o){return e[o]=L.reduce(a,function(e,t,i){if(i<=o)e.push(0);else{var n=a[i],r=a[i-1];"y"===l?e.push("up"===s?e[i-1]+r[l]-(n[l]+n[u]):e[i-1]+n[l]-(r[l]+r[u])):e.push("left"===s?e[i-1]+r[l]-(n[l]+n[u]):e[i-1]+n[l]-(r[l]+r[u])),o+1<i&&(e[i]+=r[u])}return e},[]),e},[])}function N(e,t,i,n,r,o,a){for(;i<t.length;i++)for(;n<t.length&&t[i][n]<=r;n++)if(0!==r&&r===t[i][n]){var s=e[i].layout.y<e[n].layout.y?[e[i],e[n]]:[e[n],e[i]],l=_slicedToArray(s,2),u=l[0],c=l[1],d=f(u)?c.axisValue:u.axisValue;o.push({line:[{x:d+p,y:u.layout.y+u.layout.height+g},{x:d+p,y:c.layout.y-g}],rectanglesDrawData:a}),i=n}return o}function F(e,t,i,n,r,o,a){for(;i<t.length;i++)for(;n<t.length&&t[i][n]<=r;n++)if(0!==r&&r===t[i][n]){var s=e[i].layout.x<e[n].layout.x?[e[i],e[n]]:[e[n],e[i]],l=_slicedToArray(s,2),u=l[0],c=l[1],d=f(u)?c.axisValue:u.axisValue;o.push({line:[{x:u.layout.x+u.layout.width+g,y:d-p},{x:c.layout.x-g,y:d-p}],rectanglesDrawData:a}),i=n}return o}function G(e,t){if(L.isEmpty(e))return[];for(var i=[],n=0;n<e.length;n++){var r=e[n].line;"horizontal"===t&&(i.push({line:[{x:r[0].x,y:r[0].y-o},{x:r[0].x,y:r[0].y+o}],rectanglesDrawData:[]}),i.push({line:[{x:r[1].x,y:r[1].y-o},{x:r[1].x,y:r[1].y+o}],rectanglesDrawData:[]})),"vertical"===t&&(i.push({line:[{x:r[0].x-o,y:r[0].y},{x:r[0].x+o,y:r[0].y}],rectanglesDrawData:[]}),i.push({line:[{x:r[1].x-o,y:r[1].y},{x:r[1].x+o,y:r[1].y}],rectanglesDrawData:[]})),i.push(e[n])}return i}function f(e){return!e.axisValue}return{getEqualDistancesData:function(e,t,i,n){var r,o,a,s,l,u,c,d=void 0,p=x.getEqualDistanceCandidates(e.getCurrentPageId,e.stageRect,t,i,n),g=(r=e.isShownOnAllPages,o=e.isShownOnSomePages,a=p,L.map(a,function(e){return L(e.layout).pick(["x","y","width","height"]).assign({isOnMasterPage:e.comp&&(r(e.comp)||o(e.comp))}).value()})),f={layout:t.bounding},m=[f].concat(L.map(p,function(e){return L.pick(e,["layout","axisValue"])}));if("x"===n){var h=L(m).sortBy("layout.x").filter(function(e){return e.layout.x<=f.layout.x}).reverse().value(),_=L(m).sortBy("layout.x").filter(function(e){return e.layout.x>=f.layout.x}).value(),y=L.map(h,"layout"),v=L.map(_,"layout"),w=(l=v,u=(s=y)?k(s,"left","x","width"):[],c=l?k(l,"right","x","width"):[],[u,c]),b=_slicedToArray(w,2),E=function(e,t,i,n,r){for(var o=void 0,a=[],s=L.sortBy(L.union(n[0],r[0])),l=0;l<s.length;l++){if(o=s[l],a=F(t,n,0,0,o,a,e),1<(a=F(i,r,0,0,o,a,e)).length)return G(a,"horizontal");a=[]}return[]}(g,h,_,b[0],b[1]);return{isHorizontalEqualDistanceFound:1<E.length&&(d=t.bounding,!0),compLayoutInEqualDistanceFound:d,horizontalEqualDistanceLines:E}}var I,T,A,O,S=L(m).sortBy("layout.y").filter(function(e){return e.layout.y<=f.layout.y}).reverse().value(),P=L(m).sortBy("layout.y").filter(function(e){return e.layout.y>=f.layout.y}).value(),M=L.map(S,"layout"),C=L.map(P,"layout"),D=(T=C,A=(I=M)?k(I,"up","y","height"):[],O=T?k(T,"down","y","height"):[],[A,O]),R=_slicedToArray(D,2),U=function(e,t,i,n,r){for(var o=void 0,a=[],s=L.sortBy(L.union(n[0],r[0])),l=0;l<s.length;l++){if(o=s[l],a=N(t,n,0,0,o,a,e),1<(a=N(i,r,0,0,o,a,e)).length)return G(a,"vertical");a=[]}return[]}(g,S,P,R[0],R[1]);return{isVerticalEqualDistanceFound:1<U.length&&(d=t.bounding,!0),compLayoutInEqualDistanceFound:d,verticalEqualDistanceLines:U}}}}),define("util/utils/chatManager",["lodash","constants","react","util/editorSessionUtil/editorSessionUtil"],function(l,e,i,o){"use strict";var u=e.LIVE_CHAT.WIDGET_ID,t=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,i.Component),_createClass(t,[{key:"componentDidMount",value:function(){window.AnswersWidget.injectToElementById("live-chat-container")}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillUnmount",value:function(){window.AnswersWidget.ejectFromElementById("live-chat-container")}},{key:"render",value:function(){return i.createElement("div",{id:"live-chat-container",style:{height:"100%",width:"100%"}})}}]),t}(),a=function(){return!!window.AnswersWidget};return{init:function(i,n,r,o){var a=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],e=window.document,s=e.createElement("script");s.type="text/javascript",s.async=!0,s.src="https://wix.wixanswers.com/apps/widget/v1/wix/"+u+"/en/embed.js",s.onload=s.onreadystatechange=function(){var e=s.readyState;if(!e||"complete"===e||"loaded"===e)try{var t=l.get(i.dsRead.generalInfo.getUserInfo(),"email");a&&window.AnswersWidget.hide(),window.AnswersWidget.onChatStarted(o),window.AnswersWidget.identifyUser({email:t}),window.AnswersWidget.onChatMessageReceived(n),r&&r()}catch(e){throw e}};var t=l.head(e.getElementsByTagName("script"));t.parentNode.insertBefore(s,t)},initUnifiedChatWidget:function(e,t){if(!a()){var i=window.document,n=i.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://apps.wix.com/support-chat-widget/script.js",n.addEventListener("load",function(){window.WixSupportChatSDK.answersScriptLoaded.then(function(){window.WixSupportChatSDK._init({authorizationToken:l.get(e,"instance"),origin:"Editor",horizontalOffset:12,verticalOffset:102,msid:t,sessionId:o.editorSessionId})})});var r=l.head(i.getElementsByTagName("script"));r.parentNode.insertBefore(n,r)}},ChatView:t,isAnswerWidgetInitialized:a,isUnifiedAnswerWidgetInitialized:function(){return l.isUndefined(l.get(window.WixSupportChatSDK,"_init"))},showChat:function(){return l.invoke(window.WixSupportChatSDK,"show")},hideChat:function(){return l.invoke(window.WixSupportChatSDK,"hide")}}}),define("util/utils/path",["lodash"],function(t){"use strict";return{suffix:function(e){return t.last(t.split(e,"."))}}}),define("util/utils/overrideUtils",["lodash"],function(l){"use strict";return{applyOverrides:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"key";if(!t)return e;var n=l.keyBy(e,i);return l(t).filter(function(e){return n[e[i]]||l.get(e,"__isExtraItem")}).map(function(e){var t=n[e[i]];return l.defaultsDeep({},e,t)}).value()},addPanel:{mapOverrideConfigToCategoriesSchema:function(e){var t=function(e){return{sectionName:e,sectionFooter:null}};return e.map(function(e){return{id:e.categoryId,overriddenSections:l.map(e.sectionName,t)}})},addExtraSection:function(e,t,i,n){var r,o,a,s=l.find(e,{id:t});return s.overriddenSections=(r=s.overriddenSections,a={sectionName:i,__isRef:!0,__isExtraItem:!0,id:"categoryId"+(o=n)},[].concat(_toConsumableArray(r.slice(0,o)),[a],_toConsumableArray(r.slice(o)))),e}}}}),define("util/localMode/localModeUtils",["experiment","santa-editor-utils"],function(e,s){"use strict";var t=function(){return e.isOpen("se_wixCodeLocalMode")&&!!s.url.getParameterByName("localServerPort")};return{isLocalModeEnabled:t,switchToOnlineEditor:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})._blank,t=void 0!==e&&e,i=s.url.parseUrl(window.location.href),n=i.path,r=i.query,o=s.url.baseUrl(window.location.href);delete r.localServerPort;var a=s.url.setUrlParams(""+o+n,r);t?window.open(a):s.url.forceChangeEditorUrlTo(a)},getLocalModeFieldsExtraBiFields:function(){return t()?{builder_environment:"local",corvidSessionId:s.url.getParameterByName("corvidSessionId")}:{}}}}),define("util/wixData/dataRouterPagesMenuItemPrefixUtils",["lodash"],function(t){"use strict";var n="collection-namespace=";function r(e){return t.startsWith(e,n)}var o="collection-id=";function a(e){return t.startsWith(e,o)}return{createPrefixForCollectionNamespace:function(e){return""+n+e},createPrefixForCollectionId:function(e){return""+o+e},isValidPrefix:function(e){return r(e)||a(e)},getAddPageEventPayloadByPrefix:function(e){return r(e)?{namespace:(t=e,t.substring(n.length))}:a(e)?{collectionName:(i=e,i.substring(o.length))}:void 0;var t,i}}}),define("util/wixData/collectionNamespaceUtils",[],function(){"use strict";return{doesCollectionIdHaveNamespace:function(e){return e.includes("/")},getNamespaceFromCollectionId:function(e){return e.split("/")[0]}}}),define("util/wixData/addPageRouterActionUtils",["lodash"],function(t){"use strict";function i(e){return t.find(e,["type","add_page"])}return{findAddPageAction:i,getAddDataRouterPageAction:function(e){var t=e.dsRead.platform.editorApps.DATA_BINDING.appDefId;return i(e.platform.routers.getDataFromRoutersAppManifest(t,"routerActions"))}}}),define("util/a11y/a11yUtils",[],function(){"use strict";return{getAttributeTypeTranslations:function(){return{label:"accessibility_attributes_aria_label",tabindex:"accessibility_attributes_tabindex",live:"accessibility_attributes_aria_live",level:"accessibility_attributes_aria_level",role:"accessibility_attributes_role",atomic:"accessibility_attributes_aria_atomic",hidden:"accessibility_attributes_aria_hidden",current:"accessibility_attributes_aria_current",invalid:"accessibility_attributes_aria_invalid",multiline:"accessibility_attributes_aria_multiline",autocomplete:"accessibility_attributes_aria_autocomplete"}}}}),define("util",["util/validators/validate","util/validators/validationExpressions","util/link/link","util/url/UrlBuilder","util/jsUtils/jsUtils","util/utils/guid","util/utils/string","util/utils/functionUtils","util/utils/cookie","util/utils/classNames","util/outerClick/outerClick","util/props/propTypesFilterMixin","util/translation/translate","util/translation/translationUtil","util/translation/translationMixin","util/postMessage/postMessageMixin","util/mixins/draggableMixin","util/headerScrollTypes/headerScrollTypes","util/imageService/imageTransform","util/imageService/imageEffects","util/video/videoUtils","util/vectorImage/vectorImageUtils","util/videoPlayer/videoPlayerUtils","util/mixins/selectionMixin","util/mixins/blockOuterScrollMixin","util/mixins/addPanelHoverMixin","util/utils/verticalScrollIntoView","util/mixins/imagesContainerMixin","util/mixins/storageMixin","util/mixins/componentUpdatesMixin","util/translation/languages","util/data/dataUtils","util/compIcon/compIcon","util/googleTranslate/googleTranslate","util/keyboardShortcuts/keyboardShortcuts","util/array/array","util/colors/colorConversions","util/media/media","util/media/keyGenerator","util/bi/bi","util/bi/uiControlsBIUtil","util/bi/dsOrigin","util/serviceTopology/serviceTopology","util/svg/svgUrlParser","util/imageOrganizerUtils/imageOrganizerUtils","util/editorSessionUtil/editorSessionUtil","util/polyfills/polyfills","util/browser/browserUtil","util/layout/layoutUtils","util/fontLangsFallbacks/fontLangsFallbacks","util/backgroundUtils/backgroundUtils","util/layout/pinModeUtils","util/imageCrop/imageCrop","util/windowInteraction/windowInteractionUtils","util/utils/uiUtils","util/browser/performance","util/utils/integrations/qualaroo","util/utils/integrations/fullStory","util/utils/integrations/fedopsLogger","util/utils/integrations/dealerUtils","util/ui/splitterAPI","util/fontsManager/fontsManagerUtils","util/panel/panelUtils","util/designData/designDataUtils","util/text/textUtils","util/utils/deepFreeze","util/bi/measuring","util/utils/animationFrameRenderer","util/utils/recommendedMobileHeaderHeightUtils","util/utils/breaker","util/appStudio/appStudioUtils","util/spotlightStage/spotlightStageUtils","util/inlinePopup/inlinePopupUtils","util/mouseCoordinatesHandler/mouseCoordinatesHandler","util/automationObserver/automationObserver","util/valueLink/valueLink","util/hoc/reportUIChange","util/hoc/renderWhenMutated","util/hoc/withDragToStage","util/hoc/withDoubleClickPrevention","util/lazyComponent/lazyComponent","santa-editor-utils","util/utils/componentsDistanceUtils","util/utils/candidatesUtil","util/utils/chatManager","util/utils/path","util/utils/overrideUtils","util/localMode/localModeUtils","util/wixData/dataRouterPagesMenuItemPrefixUtils","util/wixData/collectionNamespaceUtils","util/wixData/addPageRouterActionUtils","util/a11y/a11yUtils"],function(e,t,i,n,r,o,a,s,l,u,c,d,p,g,f,m,h,_,y,v,w,b,E,I,T,A,O,S,P,M,C,D,R,U,L,x,k,N,F,G,B,H,V,j,z,W,K,Y,Z,q,X,$,J,Q,ee,te,ie,ne,re,oe,ae,se,le,ue,ce,de,pe,ge,fe,me,he,_e,ye,ve,we,be,Ee,Ie,Te,Ae,Oe,Se,Pe,Me,Ce,De,Re,Ue,Le,xe,ke,Ne){"use strict";return{validate:e,validationExpressions:t,link:i,url:Se.url,chatManager:Ce,UrlBuilder:n,setDeepPath:r.setDeepPath,getDeepPath:r.getDeepPath,guidUtils:o,stringUtils:a,functionUtils:s,cookie:l,animationFrameUtils:Se.animationFrameUtils,inheritClassName:u.inheritClassName,outerClick:c,propTypesFilterMixin:d,translate:p,translationUtil:g,translationMixin:f,languages:C,dataUtils:D,postMessageMixin:m,draggableMixin:h,headerScrollTypes:_,imageTransform:y,imageEffects:v,videoUtils:w,vectorImageUtils:b,videoPlayerUtils:E,selectionMixin:I,blockOuterScrollMixin:T,addPanelHoverMixin:A,verticalScrollIntoView:O,imagesContainerMixin:S,componentUpdatesMixin:M,storageMixin:P,compIcon:R,keyboardShortcuts:L,math:Se.math,array:x,colors:k,media:N,keyGenerator:F,bi:G,uiControlsBIUtil:B,dsOrigin:H,measuring:pe,serviceTopology:V,svgUrlParser:j,editorModel:Se.editorModel,polyfills:K,imageOrganizerUtils:z,editorSessionUtil:W,browserUtil:Y,layoutUtils:Z,fontLangsFallbacks:q,backgroundUtils:X,pinModeUtils:$,imageCrop:J,windowInteractionUtils:Q,uiUtils:ee,googleTranslate:U,performance:te,qualaroo:ie,fullStory:ne,fedopsLogger:re,ravenUtils:Se.ravenUtils,dealerUtils:oe,splitterAPI:ae,designData:ue,panelUtils:le,fontsManagerUtils:se,textUtils:ce,deepFreeze:de,elementUtils:Se.elementUtils,animationFrameRenderer:ge,recommendedMobileHeaderHeightUtils:fe,breaker:me,appStudioUtils:he,spotlightStageUtils:_e,inlinePopupUtils:ye,mouseCoordinatesHandler:ve,automationObserver:we,valueLink:be,lazyComponent:Oe,componentsDistanceUtils:Pe,candidatesUtil:Me,hoc:{reportUIChange:Ee,renderWhenMutated:Ie,withDragToStage:Te,withConditionalRender:Se.hoc.withConditionalRender,withDoubleClickPrevention:Ae,errorBoundaryComponent:Se.hoc.errorBoundaryComponent,connect:Se.hoc.connect,STORES:Se.hoc.STORES},path:De,overrideUtils:Re,localModeUtils:Ue,dataRouterPagesMenuItemPrefixUtils:Le,collectionNamespaceUtils:xe,addPageRouterActionUtils:ke,a11yUtils:Ne}});
//# sourceMappingURL=util.min.js.map