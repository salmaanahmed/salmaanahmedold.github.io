define("panelUtils/mixins/linkColorPickerMixin",["prop-types","lodash"],function(e,a){"use strict";function u(e,t){return t||(((n=e)?{top:n.top+72+"px",left:n.left-12+"px"}:null)||{top:null,left:null});var n}return{contextTypes:{panelPosition:e.object},componentDidMount:function(){if(!a.isFunction(this.getEditorAPI))throw new Error("You must use editorAPIMixin to use the linkColorPickerMixin")},componentWillUpdate:function(e,t,n){var i=this.context.panelPosition,l=n.panelPosition&&n.panelPosition;if(i&&l&&!a.isEqual(i,l)){var o=u(l);this.getEditorAPI().panelManager.updatePanelProps("panels.toolPanels.colorPicker.colorPickerPanel",{top:o.top,left:o.left})}},openColorPicker:function(e,t,n,i,l,o,a){var r=this.getEditorAPI(),s=u(this.context.panelPosition,i);r.panelManager.openPanel("panels.toolPanels.colorPicker.colorPickerPanel",{value:t,onChange:e,onClose:a,enableHistory:!1!==o,palettePresets:n?r.theme.colors.getColorPresets():null,updateSitePalette:n?this.updateSitePalette:null,previewOnHover:l,top:s.top,left:s.left},!0)},updateSitePalette:function(e){this.getEditorAPI().theme.colors.update(e)},resolveColor:function(e){return this.getEditorAPI().theme.colors.render(e)}}}),define("panelUtils/shadowControl/shadowControl.rt",["react","lodash","baseUILib","baseUI"],function(e,t,n,i){"use strict";return function(){return this.props.disabled?null:e.createElement("div",{key:"shadowControl",className:"shadow-control"},e.createElement(i.angle,{disabled:this.props.disabled,label:"CustomDesign_Shadow_Angle",onChange:this.changeAngle,value:this.getAngleValue(),step:1}),e.createElement(n.Divider,{long:!1}),e.createElement(i.slider,{disabled:this.props.disabled,label:"CustomDesign_Shadow_Distance",onChange:this.distanceChanged,value:this.getDistanceValue(),min:0,max:50}),e.createElement(n.Divider,{long:!1}),e.createElement(i.slider,{disabled:this.props.disabled,label:"CustomDesign_Shadow_Size",onChange:this.sizeChanged,value:this.getSizeValue(),min:0,max:50}),e.createElement(n.Divider,{long:!1}),e.createElement(i.slider,{disabled:this.props.disabled,label:"CustomDesign_Shadow_Blur",onChange:this.blurChanged,value:this.getBlurValue(),min:0,max:50}),e.createElement(n.Divider,{long:!1}),e.createElement(i.colorPickerInputWithOpacity,t.assign({},{disabled:this.props.disabled,isSmallStepper:!0,label:"CustomDesign_Shadow_Color&Opacity",valueLink:this.linkColorWithOpacity()},this.getColorPickerProps())),this.props.disabled?e.createElement("div",{className:"blocking-layer",key:"blockingLayer"}):null)}}),define("panelUtils/shadowControl/shadowControl",["create-react-class","lodash","baseUI","core","util","panelUtils/mixins/linkColorPickerMixin","panelUtils/shadowControl/shadowControl.rt"],function(e,a,t,n,i,l,o){"use strict";var r=180/Math.PI,s=1/r;var u=/rgba\(([^)]+)\)/,c=/rgba\(/;function h(e){var t=u.exec(e)[1];return a.map(t.split(","),function(e){return parseFloat(e)})}function d(e){var t=i.valueLink.getValueFromProps(this.props);return t?t.split(e):[]}return e({displayName:"shadowControl",mixins:[t.inputMixin,n.mixins.editorAPIMixin,l],getDefaultProps:function(){return{angle:0,distance:0,size:0,blur:0,color:"rgba(0,0,0,1)"}},changeAngle:function(e){this.oldDistance=this.getDistanceValue(),this.oldAngle=e,this.handleChange({angle:e})},distanceChanged:function(e){this.oldAngle=this.getAngleValue(),this.oldDistance=void 0,this.handleChange({distance:e})},sizeChanged:function(e){this.handleChange({size:e})},blurChanged:function(e){this.handleChange({blur:e})},getAngleValue:function(){if(this.oldAngle)return this.oldAngle;var e,t,n=d.call(this," "),i=a.map(n,function(e){return parseFloat(e)});return e=i[0],t=i[1],((180+Math.atan2(e,-t)*r)%360).toFixed(2)},getDistanceValue:function(){if(this.oldDistance)return this.oldDistance;var e,t,n=d.call(this," "),i=a.map(n,function(e){return parseFloat(e)});return e=i[0],t=i[1],Math.sqrt(e*e+t*t).toFixed(2)},getBlurValue:function(){var e=d.call(this," ");return parseFloat(e[2])},getSizeValue:function(){var e=d.call(this," "),t=parseFloat(e[3]);return t||0},getColorValue:function(){var e=i.valueLink.getValueFromProps(this.props);e=e.substr(e.indexOf("rgb"));var t=/rgba\(([^)]+)\)/.exec(e);return t?t[0]:"rgba(0,0,0,1)"},getStringForValues:function(e){var t,n,i,l=a.defaults(e,{distance:this.getDistanceValue(),angle:this.getAngleValue(),blur:this.getBlurValue(),size:this.getSizeValue(),color:this.getColorValue()}),o=(t=l.distance,n=l.angle,i=n*s,{x:(t*Math.sin(-i)).toFixed(2),y:(t*Math.cos(-i)).toFixed(2)});return o.x+"px "+o.y+"px "+l.blur+"px "+l.size+"px "+l.color},linkColorWithOpacity:function(){var e,t=this.getColorValue();return{value:{color:t,alpha:(e=t).match(c)?h(e)[3]:1},requestChange:function(e){var t,n,i=((n=h((t=e).color))[3]=t.alpha,"rgba("+n.join(",")+")");this.handleChange({color:i})}.bind(this)}},getColorPickerProps:function(){return{colorResolver:this.resolveColor,openColorPicker:this.openColorPicker}},handleChange:function(e){i.valueLink.callOnChangeIfExists(this.props,this.getStringForValues(e))},render:o})}),define("panelUtils",["panelUtils/mixins/linkColorPickerMixin","panelUtils/shadowControl/shadowControl"],function(e,t){"use strict";return{linkColorPickerMixin:e,shadowControl:t}});
//# sourceMappingURL=panelUtils.min.js.map