define("pagesMenu/utils/constants",[],function(){"use strict";return Object.freeze({USI_SEO_MAX_LENGTH:35,NAME_MAX_LENGTH:40,TITLE_SEO_MAX_LENGTH:70,KEYWORD_SEO_MAX_LENGTH:250,KEYWORD_SEO_MAX_WORDS:10,DESCRIPTION_SEO_MAX_LENGTH:160,PASSWORD_TEMPLATE:"########",PASSWORD_MAX_LENGTH:15,INVALID_CHARACTERS:'[!#$%^&()+=}{";:\\/><~\\]\\[]',PERMISSION_STATES:{NONE:"none",PASSWORD:"password",MEMBERS:"members"}})}),define("pagesMenu/components/pageItem.rt",["react","lodash","baseUI","santa-editor-symbols","util","pagesMenu/utils/constants","constants"],function(s,t,a,n,e,i,o){"use strict";return function(){return function(){var e=this.state.isEditMode;return s.createElement("div",{className:t(this.getTopLevelClasses(this.quickActionsList.length)).transform(function(e,t,a){t&&e.push(a)},[]).join(" "),onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},e?null:s.createElement("div",{className:"wrapper-view-mode",key:"pageInfo",onDoubleClick:this.onDoubleClick},this.shouldShowDragSymbol()?s.createElement(n.symbol,{name:"dragIcon",key:"drag-icon",className:"page-item-drag",dataHintMyData:"hint_my_data"}):null,s.createElement("span",{className:"page-title"},s.createElement("span",{className:"page-title-name"},this.props.label),this.props.isHome?s.createElement(n.symbol,{name:"pageItemHomeIcon",key:"isHome"}):null,this.props.isLink?s.createElement(n.symbol,{name:"pageItemLinkIcon",key:"isLink"}):null,this.props.isDropdown?s.createElement(n.symbol,{name:"pageItemDropdownIcon",key:"isDropDown"}):null,this.props.isVisible?null:s.createElement(n.symbol,{name:"pageItemHideIcon",key:"isHidden"}),this.props.isRouter?s.createElement(n.symbol,{name:"pageItemRouterIcon",key:"isRouter"}):null,this.props.routerType===o.ROUTER_TYPES.CUSTOM_ROUTER?s.createElement(n.symbol,{name:"pageItemCustomerRouterPageIcon",key:"isDynamicPageCustomRouter"}):null,this.props.routerType===o.ROUTER_TYPES.DATA_BINDING?s.createElement(n.symbol,{name:"pageItemDataBindingRouterPageIcon",key:"isDynamicPageDataBinding"}):null),this.shouldShowQuickActions()?s.createElement.apply(this,["ul",{className:"pages-quick-actions",key:"quickActions"},t.map(this.quickActionsList,function(e,t,a){return s.createElement("li",{key:"qAction"+a},t)}.bind(this,e))]):null),e?s.createElement(a.textInputWithFixedButton,t.assign({},{buttonLabel:"Pages_Actions_Rename_Button",key:"nameInput",maxLength:i.NAME_MAX_LENGTH,invalidMessage:"Pages_Info_Name_Error_Tooltip",ref:"nameInput",selectOnFocus:!0,onOuterClick:this.handleOuterClick,shouldChangeOnOuterClick:!0,validator:this.validateName},this.getInputProps())):null)}.apply(this,[])}}),define("pagesMenu/components/pageItem",["react","create-react-class","prop-types","lodash","util","pagesMenu/components/pageItem.rt","baseUI","coreUtilsLib","experiment"],function(a,e,t,n,s,i,o,r,l){"use strict";return e({displayName:"pageItem",propTypes:{label:t.string,value:t.string,onChange:t.func,isVisible:t.bool,isSelected:t.bool,onClick:t.func,depth:t.number,quickActionButtons:t.number,isHome:t.bool,isLink:t.bool,isDropdown:t.bool,isMobile:t.bool,isMobileVisible:t.bool,hasNotification:t.bool,editModeLink:t.object},mixins:[o.inputMixin,r.timersMixins.timeoutsMixin],getInitialState:function(){return{isEditMode:this.props.editModeLink&&this.props.editModeLink.value,hasMouseInside:!1,wasClicked:!1}},getTopLevelClasses:function(e){var t={"hidden-page":!this.props.isVisible,selected:this.props.isSelected,"has-notification":this.props.hasNotification,"edit-mode":this.state.isEditMode,"pages-tree-item":!0,"pages-tree-page-item-in-edit-mode":this.state.isEditMode,"disable-pages-drag":this.props.isMobile},a=this.props.isHome||this.props.isLink||this.props.isDropdown?1:0,s=this.props.isVisible?0:1;return t["icon-cnt-"+(a+s)]=!0,t["depth-"+(this.props.depth||0)]=!0,t["qa-"+(e||0)]=!0,l.isOpen("pagesFirstTimeSteps")&&n.forEach(this.props.additionalClasses,function(e){t[e]=!0}),t},getChildren:function(){var t=[];return a.Children.forEach(this.props.children,function(e){e&&a.isValidElement(e)&&t.push(a.cloneElement(e))}),t},getInputProps:function(){return n.omit(this.props,"label","isVisible","isSelected","onClick","isHome","isLink","isDropdown")},handleOuterClick:function(){this.props.editModeLink&&this.props.editModeLink.value&&this.props.editModeLink.requestChange(!1)},onDoubleClick:function(){this.props.isDynamicPage||this.props.isRouter||this.props.isSelected&&this.props.editModeLink&&!this.props.editModeLink.value&&this.props.editModeLink.requestChange(!0)},lastValidationMessage:null,validateName:function(e){return this.lastValidationMessage=s.validate.pageNameValidator(e),!this.lastValidationMessage},getLastValidationMessage:function(){return this.lastValidationMessage||""},render:function(){return this.quickActionsList=this.shouldShowQuickActions()?this.getChildren():[],i.call(this)},shouldShowQuickActions:function(){return(!this.props.isRouter||this.props.isRouter&&!this.props.isMobile)&&(this.state.hasMouseInside||this.props.isSelected||this.props.hasNotification)},shouldShowDragSymbol:function(){return!this.props.isDynamicPage&&!this.props.isRouter&&!this.props.isMobile},componentWillReceiveProps:function(e){this.setState({isEditMode:e.editModeLink&&e.editModeLink.value})},componentDidUpdate:function(e,t){this.state.isEditMode&&!t.isEditMode&&this.refs.nameInput.focusControl()},onMouseEnter:function(){this.setState({hasMouseInside:!0})},onMouseLeave:function(e){this.state.wasClicked||(n.isFunction(this.props.onMouseLeave)&&this.props.onMouseLeave(e),this.setState({hasMouseInside:!1})),this.setState({wasClicked:!1})},onClick:function(e){this.setState({wasClicked:!0}),this.props.onClick&&this.props.onClick(e)}})}),define("pagesMenu/utils/quickActionsUtils",["stateManagement"],function(n){"use strict";function i(e){return"quick-actions-notification-"+e}function a(e,t,a){var s=i(t);e.store.dispatch(n.editorPlugins.userPreferences.actions.setSessionUserPreferences(s,a))}return{hasNotification:function(e,t){var a=i(t);return n.editorPlugins.userPreferences.selectors.getSessionUserPreferences(a)(e.store.getState())},turnNotificationOn:function(e,t){a(e,t,!0)},turnNotificationOff:function(e,t){a(e,t,!1)}}}),define("pagesMenu/components/nodeContentCommon.rt",["react","lodash","pagesMenu/components/pageItem","pagesMenu/utils/quickActionsUtils"],function(t,a,s,n){"use strict";return function(){return function(){var e=this.props.dataSource;return t.createElement(s,a.assign({},{ref:"pageItem",value:e.label,actions:this.props.actions,hasNotification:e.type.isPage&&n.hasNotification(this.props.editorAPI,e.pageData.id),onChange:this.onChange,onClick:this.onClick,isMobile:"MOBILE"===this.props.editorAPI.dsRead.viewMode.get(),onMouseLeave:this.props.onMouseLeave,onContextMenu:this.props.setSelected},{label:e.label,isVisible:this.props.isVisible,isSelected:this.props.isSelected,isHome:e.pageData&&this.props.editorAPI.pages.isHomePage(e.pageData.id),isPage:e.type.isPage,isLink:e.type.isLink,isDropdown:e.type.isDropdown,isDynamicPage:e.type.isDynamicPage,routerType:e.type.routerType,isRouter:e.type.isRouter,depth:this.props.nodePath?this.props.nodePath.length-1:0,editModeLink:this.editModeLink(),additionalClasses:a.has(e,"additionalClasses")?e.additionalClasses:[]}),"\n\n    ",this.props.children,"\n")}.apply(this,[])}}),define("pagesMenu/components/nodeContentCommon",["create-react-class","prop-types","lodash","pagesMenu/components/nodeContentCommon.rt"],function(e,t,a,s){"use strict";return e({displayName:"nodeContentCommon",propTypes:{editorAPI:t.object.isRequired,dataSource:t.object.isRequired,onActionSelected:t.func,editedPageIdLink:t.object,setSelected:t.func,isVisible:t.bool,isSelected:t.bool,nodePath:t.array},onChange:function(e){this.props.onActionSelected&&this.props.onActionSelected("rename",this.props.dataSource,e),this.props.editedPageIdLink&&this.props.editedPageIdLink.requestChange(null)},editModeLink:function(){var t=this.props.dataSource,a=this.props.editedPageIdLink;return{value:a&&a.value===t.id,requestChange:function(e){a&&a.requestChange(e?t.id:null)}}},onClick:function(e){this.props.setSelected(e),a.isFunction(this.props.onClick)&&this.props.onClick(e)},render:s})}),define("pagesMenu/components/quickActionRenameMixin",[],function(){"use strict";return{actionSelectedHandler:function(e){"rename"===e?this.props.editedPageIdLink.requestChange(this.props.dataSource.id):this.props.onActionSelected(e,this.props.dataSource)}}}),define("pagesMenu/utils/pageUtils",["lodash","util"],function(a,s){"use strict";function n(e,t){return a.isUndefined(n.cache[t])&&(n.cache[t]=e.dsRead.pages.isContainsCompWithType(t,e.dsRead.tpa.constants.COMP_TYPES.TPA_MULTI_SECTION)),n.cache[t]}function i(e,t){return a.isUndefined(i.cache[t])&&(i.cache[t]=!n(e,t)),i.cache[t]}function o(e,t){return a.isUndefined(o.cache[t])&&(o.cache[t]=e.pages.isDuplicable(t)),o.cache[t]}return n.cache={},i.cache={},o.cache={},{canRemove:i,canDuplicate:o,isTPASectionSubPage:n,convertPageNameToUrl:function(e){var t=e.replace(/\s/g,"-");return s.validate.byInvalidCharacters(s.validationExpressions.invalidUrlCharacters)(t)?t.toLowerCase():"blank"}}}),define("pagesMenu/utils/pageMenuItemHelpers",["lodash","constants","pagesMenu/utils/pageUtils","util","coreBi","coreUtilsLib"],function(_,r,l,p,g,S){"use strict";var s=40;function c(e,t,a){e.pages.data.update(t,a),e.history.debouncedAdd("Rename Page")}function I(e){var t=new RegExp(/copy\s(\d+\s|)of\s/i),a=void 0;return t.test(e)?(a=RegExp.$1?parseInt(RegExp.$1,10)+1:2,e.replace(t,"Copy "+a+" of ")):((e=p.translate("Pages_Actions_Duplicate_CopyOf")+" "+e).length>s&&(e=e.substr(0,s-3)+"..."),e)}function v(e,t,a){var s=a?e.pages.popupPages.duplicate(t.id):e.pages.duplicate(t.id),n=I(t.title),i=(e.dsRead.generalInfo.urlFormat.isSlash()?e.pages.data.pageUriSEO:l).convertPageNameToUrl(n);return e.pages.data.update(s.id,{title:n,pageUriSEO:i}),s.id}function a(e,t){var a=e.dsRead.viewMode.get();return a===e.dsRead.viewMode.VIEW_MODES.DESKTOP?t.isVisible:a===e.dsRead.viewMode.VIEW_MODES.MOBILE&&t.isVisibleMobile}function u(e){var t=0===e.position;return!e.parent&&!t}function n(e){return null!==e.parent}function y(t,e){var a=e.dsRead.mainMenu.getMenu();return _.find(a,function(e){return e.link&&e.link.pageId===t})}function M(e,t,a){var s=function e(t,a,s){var n={itemIndex:null,parentId:s};for(var i=0;i<t.length;i++){var o=t[i];if(o.id===a)return n.itemIndex=i,n;if(o.items&&o.items.length){var r=e(o.items,a,o.id);if(null!==r.itemIndex)return r}}return n}(e.mainMenu.getMenuItemsTreeForMainMenu(),a,null);e.dsActions.mainMenu.moveItem(t,s.parentId,s.itemIndex+1)}return{renamePage:function(t,a,e){var s,n,i={title:e};if(e&&a.title!==e)if(a.isPopup)c(t,a.id,i);else if(s=t,n=a.title,s.dsRead.generalInfo.urlFormat.isSlash()&&s.dsRead.generalInfo.isSitePublished()&&n!==p.translate("Pages_Menu_Add_New_Page"))c(t,a.id,i);else{var o=t.dsRead.generalInfo.urlFormat.isSlash()?t.pages.data.pageUriSEO:l,r=o.convertPageNameToUrl(e);r?(i.pageUriSEO=r,c(t,a.id,i)):p.googleTranslate(e,function(e){(r=o.convertPageNameToUrl(e))&&(i.pageUriSEO=r,i.translationData=_.assign({},{uriSEOTranslated:!0})),c(t,a.id,i)})}},renameMenuItem:function(e,t,a){a&&t.label!==a&&(e.dsActions.mainMenu.setItemLabel(t.id,a),e.history.debouncedAdd("Rename Menu Item"))},duplicatePopup:function(e,t,a){var s=e.dsRead.pages.getFocusedPageId(),n=v(e,t,!0);e.pages.navigateTo(n),e.history.add("popup page was duplicated",{currentPage:s}),e.dsActions.waitForChangesApplied(function(){_.isFunction(a)&&a(n)})},duplicateMenuItem:function(e,t,a){var s,n,i,o,r,l,p,g,c,u,d,m,h,b,P,E,f;t.type.isPage?(m=e,h=t.pageData,b=t.id,P=a,E=m.dsRead.pages.getFocusedPageId(),f=v(m,h,!1),m.dsActions.waitForChangesApplied(function(){var e=y("#"+f,m);M(m,e.id,b),m.pages.navigateTo(f),m.history.add("duplicating a page",{currentPage:E}),m.dsActions.waitForChangesApplied(function(){_.isFunction(P)&&P(e.id,f)})})):t.type.isDropdown?(p=e,c=a,u=I((g=t).label),d=p.dsActions.mainMenu.addHeaderItem(u,null,!g.isVisible,!g.isVisibleMobile),M(p,d,g.id),p.history.add("duplicating a dropdown"),p.dsActions.waitForChangesApplied(function(){c(d)})):t.type.isLink?(n=t,i=a,o=(s=e).data.getById(n.id).link,r=I(n.label),l=s.dsActions.mainMenu.addLinkItem(o,r,null,!n.isVisible,!n.isVisibleMobile),M(s,l,n.id),s.history.add("duplicating a link"),s.dsActions.waitForChangesApplied(function(){i(l)})):S.log.error("not supported menu type")},setHidden:function(e,t,a,s){var n={};"boolean"==typeof a?n.hidePage=a:a=!t.isVisible,"boolean"==typeof s?n.mobileHidePage=s:s=!t.isVisibleMobile,t.pageData?e.pages.data.update(t.pageData.id,n):e.dsActions.mainMenu.setItemVisibility(t.id,a,s),e.history.add("hiding a page")},removeMenuItem:function(e,t){if(t.pageData)if(e.mainMenu.hasOnlyLastPageMenuItem())e.panelManager.openPanel("panels.messagePanels.deleteLastPageMessage",{isLastPage:!0},!0);else{var a=e.dsRead.pages.getFocusedPageId();e.pages.remove(t.pageData.id,function(){e.history.add("removing a page",{currentPage:a})})}else e.pages.navigateTo(e.homePage.get(),function(){e.dsActions.mainMenu.removeItem(t.id),e.history.add("removing menu item")})},removePopup:function(e,t){e.dsActions.waitForChangesApplied(function(){e.pages.remove(t,_.partial(e.history.add,"removed popup"))})},subpage:function(e,t){var a,s,n,i,o=void 0,r=void 0;u(t)&&(o=e.mainMenu.getMenuItemsTreeForMainMenu()[t.position-1],r=o.items.length,a=e,s=t,n=o.id,i=r,_.forEachRight(s.items,function(e){a.dsActions.waitForChangesApplied(function(){a.dsActions.mainMenu.moveItem(e.id,n,i)})}),e.dsActions.waitForChangesApplied(function(){e.dsActions.mainMenu.moveItem(t.id,o.id,r),e.bi.event(g.events.topbar.pages.top_bar_PAGES_menu_sub_page_created,{origin:"quick actions"})})),e.history.add("subpaging a page")},moveUp:function(e,t){if(n(t)){var a=t.parent.parent&&t.parent.parent.id,s=t.parent.position+1;e.dsActions.mainMenu.moveItem(t.id,a,s),e.bi.event(g.events.topbar.pages.top_bar_PAGES_menu_user_reverted_to_main_page,{origin:"quick actions"})}e.history.add("moving a page out of its parent")},addPage:function(e,t,a,s,n){var i=void 0,o=e.pages.add(t,a);return e.dsActions.waitForChangesApplied(function(){i=y("#"+o.id,e),M(e,i.id,s),e.history.add("adding new page",{actionType:r.DS_ACTIONS.ADD_PAGE,nextPage:o.id}),e.pages.navigateTo(o.id),n(o.id,i.id)}),o},addLink:function(e,t,a,s,n){var i=e.dsActions.mainMenu.addLinkItem(t,a);M(e,i,s),e.dsActions.waitForChangesApplied(function(){n(i),e.history.add("adding new page link")})},updateLink:function(e,t,a){e.dsActions.mainMenu.updateLinkItem(t,a),e.history.add("updating menu link")},addDropdown:function(e,t,a,s){var n=e.dsActions.mainMenu.addHeaderItem(t);M(e,n,a),e.dsActions.waitForChangesApplied(function(){s(n),e.history.add("adding new page header")})},canBeSetAsDynamicPage:function(e,t){var a=t.pageData&&t.pageData.id;return!!a&&e.dsRead.routers.pages.isConnectablePage(a)},canDuplicate:function(e,t){return t.type.isPage&&t.pageData?l.canDuplicate(e,t.pageData.id):t.type.isDropdown||t.type.isLink},canUnhide:function(e,t){return!a(e,t)},canHide:a,canRemoveMenuItem:function(e,t){return!t.pageData||l.canRemove(e,t.pageData.id)},canSubpage:u,canMoveUp:n,getPublicUrl:function(e,t){var a=e.dsRead.generalInfo.getPublicUrl(),s=e.dsRead.generalInfo.isFirstSave()?a+"your-site-name":"";return e.pages.getPageUrl(t.id,s)}}}),define("pagesMenu/components/mixedList/nodeContentWithQuickAction.rt",["react","lodash","pagesMenu/components/nodeContentCommon","pagesMenu/utils/pageMenuItemHelpers","pagesMenu/utils/quickActionsUtils","util","baseUI","santa-editor-symbols"],function(n,e,t,i,o,r,l,p){"use strict";return function(){return n.createElement(t,this.getNodeContentProps(),function(){var e=this.props.dataSource,t=e.pageData?e.pageData.id:e.id,a=r.translate,s=this.getEditorAPI();return n.createElement(l.dropDown.contextMenu,{toggleIcon:!1,shouldTranslate:!1,className:"quick-actions action-button",onChange:this.actionSelectedHandler,onNotificationClick:o.hasNotification(s,t)?this.props.onNotificationClick:void 0,notificationCount:1,icon:"moreRegular"},n.createElement(l.dropDown.option,{value:"settings"},n.createElement("div",{className:"svg-container"},n.createElement(p.symbol,{name:"quickActionsSettings"})),n.createElement("span",{className:"qa-label"},a("Pages_Actions_Page_Settings"))),n.createElement(l.dropDown.option,{value:"rename"},n.createElement("div",{className:"svg-container"},n.createElement(p.symbol,{name:"quickActionsRename"})),n.createElement("span",{className:"qa-label"},a("Pages_Actions_Page_Rename"))),i.canUnhide(this.getEditorAPI(),e)?n.createElement(l.dropDown.option,{key:"unhideOption",value:"unhide"},n.createElement("div",{className:"svg-container"},n.createElement(p.symbol,{name:"quickActionsShow"})),n.createElement("span",{className:"qa-label"},a("Pages_Actions_Page_Unhide"))):null,i.canHide(this.getEditorAPI(),e)?n.createElement(l.dropDown.option,{key:"hideOption",value:"hide"},n.createElement("div",{className:"svg-container"},n.createElement(p.symbol,{name:"quickActionsHide"})),n.createElement("span",{className:"qa-label"},a("Pages_Actions_Page_Hide"))):null,i.canRemoveMenuItem(this.getEditorAPI(),e)?n.createElement(l.dropDown.option,{key:"removeOption",value:"remove"},n.createElement("div",{className:"svg-container"},n.createElement(p.symbol,{name:"qaDelete"})),n.createElement("span",{className:"qa-label"},a("Pages_Actions_Page_Delete"))):null)}.apply(this,[]))}}),define("pagesMenu/components/mixedList/nodeContentWithSettingsLink.rt",["react","lodash","santa-editor-symbols","pagesMenu/components/nodeContentCommon"],function(e,t,a,s){"use strict";return function(){return e.createElement(s,this.getNodeContentProps(),e.createElement("a",{href:"javascript://settings",className:"action-button action-settings",onClick:function(){this.props.onActionSelected("settings",this.props.dataSource)}.bind(this)},e.createElement(a.symbol,{name:"quickActionsSettings"})))}}),define("pagesMenu/components/mixedList/nodeContentUniversalRenderer",["create-react-class","prop-types","core","lodash","pagesMenu/components/quickActionRenameMixin","pagesMenu/components/mixedList/nodeContentWithQuickAction.rt","pagesMenu/components/mixedList/nodeContentWithSettingsLink.rt"],function(e,t,a,s,n,i,o){"use strict";return e({displayName:"nodeContentUniversalRenderer",mixins:[a.mixins.editorAPIMixin,n],propTypes:{isBelongToSubmenu:t.bool.isRequired,dataSource:t.object.isRequired,onActionSelected:t.func.isRequired,editedPageIdLink:t.object,setSelected:t.func,isSelected:t.bool},getRenderFn:function(){return this.getEditorAPI().isMobileEditor()?o:this.props.isBelongToSubmenu?o:i},getNodeContentProps:function(){var e=this.getEditorAPI(),t=void 0;return t=!!this.props.isBelongToSubmenu||(e.isMobileEditor()?this.props.dataSource.isVisibleMobile:this.props.dataSource.isVisible),s.assign({},this.props,{isVisible:t,editorAPI:e})},render:function(){return this.getRenderFn().call(this)}})}),define("pagesMenu/settings/tabs/dynamicPageSettingsNoDevMode.rt",["react","lodash","util","baseUILib"],function(e,t,a,s){"use strict";return function(){return e.createElement("div",{className:"tab tab-dynamic-page-no-dev-node"},function(){return a.translate,e.createElement(s.CustomScroll,{},e.createElement("div",{className:t({"tab-inner":!0}).transform(function(e,t,a){t&&e.push(a)},[]).join(" ")},e.createElement(s.Composites.RichTextLabeled,{},e.createElement(s.TextLabel,{type:"T06",value:a.translate("PLATFORM_PAGE_SETTINGS_DEVTOOLS_DISABLED_TITLE"),shouldTranslate:!1}),e.createElement(s.RichText,{},e.createElement("p",{},a.translate("Platform_Page_Settings_DevTools_Disabled_Paragraph1")),e.createElement("p",{},a.translate("Platform_Page_Settings_DevTools_Disabled_Paragraph2"))))))}.apply(this,[]))}}),define("pagesMenu/settings/tabs/dynamicPageSettingsNoDevMode",["create-react-class","pagesMenu/settings/tabs/dynamicPageSettingsNoDevMode.rt"],function(e,t){"use strict";return e({displayName:"dynamicPageSettingsNoDevMode",render:t})}),define("pagesMenu/settings/dynamicPageSettingsPanelTabs.rt",["react","lodash","baseUI","util"],function(n,a,i,s){"use strict";return function(){return function(){var e=this.props.menuItem.pageData,t=s.translate;return n.createElement("div",{},n.createElement(i.tabs.holder,{value:this.props.selectedTab,className:"top page-settings-tabs dynamic-page-settings-tabs",onChange:function(e,t,a){this.props.setActiveTab(a)}.bind(this,e,t)},n.createElement.apply(this,[i.tabs.header,{},a.map(this.props.tabs,function(e,t,a,s){return n.createElement(i.tabs.label,{tabsAmount:this.props.tabs.length,key:a.title+s,htmlFor:a.title},a.title)}.bind(this,e,t))]),n.createElement.apply(this,[i.tabs.content,{className:"page-settings-panel-content"},a.map(this.props.tabs,function(e,t,a,s){return n.createElement(i.tabs.tab,{key:s,name:a.title,children:this.getTabContent(a,s)})}.bind(this,e,t))])))}.apply(this,[])}}),define("pagesMenu/settings/tabs/tabLayout.rt",["react","lodash","baseUI","santa-editor-symbols","util","baseUILib"],function(t,e,a,s,n,i){"use strict";return function(){return function(){var e=n.translate;return t.createElement(i.CustomScroll,{},t.createElement("div",{className:"layout tab-inner"},t.createElement(a.tabs.holder,{className:"left radio",valueLink:this.linkPageProperty("isLandingPage")},t.createElement(a.tabs.header,{},t.createElement(a.tabs.label,{htmlFor:!1},t.createElement(s.symbol,{name:"layoutStandardSelected"}),t.createElement(s.symbol,{name:"layoutStandardNotSelected"}),t.createElement("div",{},t.createElement("h3",{},e("Pages_Layouts_Standard_Title")),t.createElement("p",{},e("Pages_Layouts_Standard_Text")))),t.createElement(a.tabs.label,{htmlFor:!0},t.createElement(s.symbol,{name:"layoutLandingSelected"}),t.createElement(s.symbol,{name:"layoutLandingNotSelected"}),t.createElement("div",{},t.createElement("h3",{},e("Pages_Layouts_Landing_Title")),t.createElement("p",{},e("Pages_Layouts_Landing_Text"),t.createElement("br",{}),t.createElement(a.button,{label:"Pages_Layouts_Landing_Learn",className:"btn-text",onClick:this.openLearnMore}))))))))}.apply(this,[])}}),define("pagesMenu/settings/tabs/pageSettingsTabMixin",["core"],function(e){"use strict";return{mixins:[e.mixins.editorAPIMixin],getPageData:function(){return this.props.pageData||this.props.menuItem.pageData},getPageId:function(){var e=this.getPageData();return e?e.id:null},getValueFromPageData:function(e){var t=this.getPageData();return t&&t[e]},linkPageProperty:function(t){var a=this.getPageId(),s=this.getEditorAPI(),n={};return{value:this.getValueFromPageData(t),requestChange:function(e){s.history.add("page property change"),n[t]=e,s.pages.data.update(a,n)}}},linkInversePageProperty:function(t){var a=this.getPageId(),s=this.getEditorAPI(),n={};return{value:!this.getValueFromPageData(t),requestChange:function(e){n[t]=!e,s.pages.data.update(a,n)}}}}}),define("pagesMenu/settings/tabs/tabLayout",["create-react-class","prop-types","pagesMenu/settings/tabs/tabLayout.rt","constants","pagesMenu/settings/tabs/pageSettingsTabMixin"],function(e,t,a,s,n){"use strict";return e({displayName:"tabLayout",mixins:[n],propTypes:{menuItem:t.object.isRequired},openLearnMore:function(){var e={panel_name:"tab_layout",origin:s.BI.HELP.ORIGIN.PAGES,learn_more:!0};this.getEditorAPI().panelManager.openHelpCenter("97778018-fd88-4953-8be3-d994a1637882",null,e)},render:a})}),define("pagesMenu/settings/tabs/tabPermissions.rt",["react","lodash","baseUI","santa-editor-symbols","util","pagesMenu/utils/constants","experiment","baseUILib"],function(s,t,n,e,a,i,o,r){"use strict";return function(){return function(){var e=a.translate;return s.createElement(r.CustomScroll,{},s.createElement("div",{className:"privacy tab-inner page-settings-permissions-tab"},s.createElement(n.tabs.holder,{className:"left radio",valueLink:this.getTabFocusLink()},s.createElement(n.tabs.header,{},s.createElement(n.tabs.label,{htmlFor:i.PERMISSION_STATES.NONE},s.createElement("h4",{},e("Pages_Permissions_NoRestrict_Title")),s.createElement("span",{},e("Pages_Permissions_NoRestrict_Text"))),s.createElement(n.tabs.label,{htmlFor:"password"},s.createElement("h4",{},e("Pages_Permissions_Password_Title")),s.createElement("span",{},e("Pages_Permissions_Password_Text")),this.state.focusedProtectionType===i.PERMISSION_STATES.PASSWORD?s.createElement("div",{className:"password-settings-content",key:"page-settings-tab-privacy-password"},s.createElement("hr",{className:"separator-permissions-password"}),s.createElement(r.Composites.TextInputLabeled,{},s.createElement(r.TextLabel,{value:"Pages_Permissions_Password_Choose"}),this.shouldShowPasswordMockElement()?s.createElement(r.TextInput,{key:"passwordMockElement",onClick:this.onPasswordFocus,value:i.PASSWORD_TEMPLATE,type:"password"}):null,this.shouldShowPasswordMockElement()?null:s.createElement(r.TextInput,{key:"realPasswordElement",focus:!this.isPasswordHidden(),onFocus:this.onPasswordFocus,onBlur:this.onPasswordBlur,value:this.state.plainPassword,type:this.state.passwordInputType,placeholder:"Pages_Permissions_Password_Placeholder",maxLength:i.PASSWORD_MAX_LENGTH,validator:this.isValidPassword,invalidMessage:"Pages_Permissions_Password_Error_Tooltip"})),s.createElement("hr",{className:"separator-permissions-password-language"}),s.createElement.apply(this,[n.dropDown.select,{className:"control-permissions-password-language",valueLink:this.getDialogLanguageLink("passwordDialogLanguage"),label:"Pages_Permissions_Password_Language",tabIndex:1},t.map(a.languages.getLanguagesList(),function(e,t,a){return s.createElement(n.dropDown.option,{key:t.value,value:t.value},"\n                                ",t.label,"\n                            ")}.bind(this,e))])):null),s.createElement(n.tabs.label,{htmlFor:i.PERMISSION_STATES.MEMBERS},s.createElement("h4",{},e("Pages_Permissions_Members_Title")),s.createElement("span",{},e("Pages_Permissions_Members_Text")),this.state.focusedProtectionType===i.PERMISSION_STATES.MEMBERS?s.createElement("div",{key:"page-settings-tab-privacy-member"},s.createElement("p",{className:"site-members-info"},"\n                            ",e("Pages_Permissions_Members_Link"),"\n                            ",this.isSiteSaved()?s.createElement("a",{key:"page-settings-tab-privacy-member-url",href:this.getSiteMembersUrl(),target:"_blank"},s.createElement(n.button,{label:"Pages_Permissions_Members_Link_Clickhere",className:"btn-text"})):null,this.isSiteSaved()?null:s.createElement("span",{key:"page-settings-tab-privacy-member-non-url"},"\n                                ",e("Pages_Permissions_Members_Link_Clickhere"),"\n                            ")),s.createElement("hr",{className:"separator-site-members-info"}),s.createElement.apply(this,[n.dropDown.select,{className:"control-permissions-member-language",valueLink:this.getDialogLanguageLink("membersDialogLanguage"),label:"Pages_Permissions_Members_Language",tabIndex:2},t.map(a.languages.getLanguagesList(),function(e,t,a){return s.createElement(n.dropDown.option,{key:t.value,value:t.value},"\n                                ",t.label,"\n                            ")}.bind(this,e))]),s.createElement("hr",{className:"separator-permissions-member-language"}),s.createElement("div",{className:"site-members-settings",key:"smSettingsPanelBtn"},s.createElement(n.symbol,{name:"site-members"}),s.createElement("a",{className:"link",onClick:this.openSiteMembersSettingsPanel},e("Pages_Permissions_Member_Signup_Settings_Label")),s.createElement(n.infoIcon,{text:"Pages_Permissions_Member_Signup_Settings_Tooltip"}))):null)))))}.apply(this,[])}}),define("pagesMenu/settings/tabs/tabPermissions",["create-react-class","lodash","util","pagesMenu/utils/constants","pagesMenu/settings/tabs/tabPermissions.rt","coreBi","pagesMenu/settings/tabs/pageSettingsTabMixin"],function(e,i,a,o,t,r,s){"use strict";var l=function(e,t,a,s){var n,i;e.pages.data.update(t,{pageSecurity:a}),n=t,i=s,e.bi.event(r.events.topbar.pages.top_bar_PAGES_settings_privacy_changed,{privacy:i,page_id:n})},p=function(e,t){e.pages.permissions.removePassword(t)};return e({displayName:"tabPermissions",mixins:[s],getInitialState:function(){return this.getInitialPageState()},componentWillReceiveProps:function(e){e.pageData.id!==this.state.pageId&&this.setState(this.getInitialPageState())},getInitialPageState:function(){return{focusedProtectionType:this.getInitialProtectionType(),passwordDialogLanguage:this.getInitialLanguage(),membersDialogLanguage:this.getInitialLanguage(),pageId:this.props.pageData.id,isNewValidPasswordInserted:!1,passwordInputType:"password",plainPassword:""}},getInitialProtectionType:function(){return i.get(this.props,"pageData.pageSecurity").requireLogin?o.PERMISSION_STATES.MEMBERS:this.isPageProtectedWithPassword()?o.PERMISSION_STATES.PASSWORD:o.PERMISSION_STATES.NONE},isPageProtectedWithPassword:function(){return!i.isEmpty(i.get(this.props,"pageData.pageSecurity.passwordDigest"))||(e=this.getEditorAPI(),t=this.props.pageData.id,e.pages.permissions.hasPassword(t));var e,t},savePageSecurityData:function(){var e,t,a,s=this.props.pageData.id,n=i.partialRight(l,this.state.focusedProtectionType);switch(this.state.focusedProtectionType){case o.PERMISSION_STATES.NONE:n(this.getEditorAPI(),s,{requireLogin:!1}),p(this.getEditorAPI(),s);break;case o.PERMISSION_STATES.PASSWORD:this.state.isNewValidPasswordInserted&&(e=this.getEditorAPI(),t=s,a=this.state.plainPassword,e.pages.permissions.updatePassword(t,a)),(this.state.isNewValidPasswordInserted||this.isPageProtectedWithPassword())&&n(this.getEditorAPI(),s,{requireLogin:!1,dialogLanguage:this.state.passwordDialogLanguage});break;case o.PERMISSION_STATES.MEMBERS:n(this.getEditorAPI(),s,{requireLogin:!0,dialogLanguage:this.state.membersDialogLanguage}),p(this.getEditorAPI(),s)}},setFocusedProtectionType:function(e){this.setState({focusedProtectionType:e},this.savePageSecurityData)},isSiteSaved:function(){return!this.getEditorAPI().dsRead.generalInfo.isFirstSave()},getSiteMembersUrl:function(){return"//www.wix.com/my-account/sites/"+this.getEditorAPI().dsRead.generalInfo.getMetaSiteId()+"/contacts/?tag=contacts-site_members_approved"},getInitialLanguage:function(){var e=this.getEditorAPI().dsRead.generalInfo.getLanguage(),t=i.get(this.props,"pageData.pageSecurity.dialogLanguage");return i.isEmpty(t)?e:t},isValidPassword:function(e){var t=a.validate.byInvalidCharacters(o.INVALID_CHARACTERS);return a.validate.notEmpty(e)&&t(e)},isPasswordHidden:function(){return"password"===this.state.passwordInputType},shouldShowPasswordMockElement:function(){return this.isPasswordHidden()&&i.isEmpty(this.state.plainPassword)&&this.isPageProtectedWithPassword()},onPasswordBlur:function(e){var t=e.target.value;this.setState({plainPassword:t,isNewValidPasswordInserted:this.isValidPassword(t),passwordInputType:"password"},this.savePageSecurityData)},onPasswordFocus:function(){"text"!==this.state.passwordInputType&&this.setState({passwordInputType:"text"})},setDialogLanguage:function(e,t){var a={};a[e]=t,this.setState(a,this.savePageSecurityData),this.getEditorAPI().bi.event(r.events.topbar.pages.top_bar_PAGES_settings_privacy_language_selected_click,{language_selected:t,category:this.state.focusedProtectionType})},getDialogLanguageLink:function(t){return{value:this.state[t],requestChange:function(e){this.state[t]!==e&&this.setDialogLanguage(t,e)}.bind(this)}},getTabFocusLink:function(){return{value:this.state.focusedProtectionType,requestChange:function(e){this.state.focusedProtectionType!==e&&this.setFocusedProtectionType(e)}.bind(this)}},openSiteMembersSettingsPanel:function(){this.getEditorAPI().panelManager.openPanel("panels.focusPanels.siteMembersSettingsPanel",{panelName:"panels.focusPanels.siteMembersSettingsPanel"},!0)},render:t})}),define("pagesMenu/settings/dynamicPageSettingsPanelTabs",["react","create-react-class","prop-types","baseUI","platform","lodash","core","pagesMenu/settings/tabs/dynamicPageSettingsNoDevMode","pagesMenu/settings/dynamicPageSettingsPanelTabs.rt","pagesMenu/settings/tabs/tabLayout","pagesMenu/settings/tabs/tabPermissions"],function(r,e,t,l,p,g,a,c,s,u,d){"use strict";return e({mixins:[a.mixins.editorAPIMixin],displayName:"dynamicPageSettingsPanelTabs",propTypes:{menuItem:t.object.isRequired,selectedTab:t.string,setActiveTab:t.func.isRequired,tabs:t.array.isRequired},render:s,componentWillMount:function(){var e=this.getEditorAPI(),t=e.components.get.byId(this.props.menuItem.pageData.id);if(t){var a=e.dsRead.routers.getRouterRef.byPage(t);this.routerData=a?e.dsRead.routers.get.byRef(a):""}else this.routerData=""},getInitialState:function(){return{iframeLoaded:!1}},shouldComponentUpdate:function(e){var t=this.getEditorAPI(),a=t.components.get.byId(this.props.menuItem.pageData.id);if(a){var s=t.dsRead.routers.getRouterRef.byPage(a),n=s?t.dsRead.routers.get.byRef(s):"";if(!g.isEqual(n,this.routerData))return this.routerData=n,!0}else this.routerData="";return this.props.developerModeEnabled!==e.developerModeEnabled||!!(this.props.menuItem.pageData.id!==e.menuItem.pageData.id||e.selectedTab&&this.props.selectedTab!==e.selectedTab)},getPostMessageHandler:function(e){var t=this.getEditorAPI(),a=t.components.get.byId(this.props.menuItem.pageData.id),s={routerRef:t.dsRead.routers.getRouterRef.byPage(a),publicUrl:t.dsRead.generalInfo.getPublicUrl(),pageRef:a,origin:"dynamic_page_settings_panel_tab"};return p.platformPostMessageService.createPostMessageListener({token:e,initialData:s},e)},getAppData:function(){var e=this.getEditorAPI(),t=e.components.get.byId(this.props.menuItem.pageData.id),a=e.dsRead.routers.getRouterRef.byPage(t);if(a){var s=e.dsRead.routers.get.byRef(a);return{appDefId:s.appDefinitionId,applicationId:g.get(e.dsRead.platform.getAppDataByAppDefId(s.appDefinitionId),"applicationId")}}},getIframeFullSrc:function(e,t,a){var s=this.getEditorAPI().dsRead.platform.getAppDataByAppDefId(t);return p.utils.getFullApplicationUrl(s,e,t,a)},iframeLoadedHandler:function(){},getTabContent:function(e,t){var a=p.constants,s=this.state.iframeLoaded?"content-iframe loaded":"content-iframe";if(g.isObject(e)&&e.url){var n=this.getEditorAPI(),i=[n.dsRead.platform.editorApps.DYNAMIC_PAGES.appDefId,n.dsRead.platform.editorApps.DATA_BINDING.appDefId],o=this.getAppData();return g.includes(i,o.appDefId)&&!this.props.developerModeEnabled?r.createElement(c,g.assign({},this.props,{key:"dynamic-page-default-tab"+this.props.menuItem.pageData.id+t+o.appDefId})):r.createElement(l.iframe,g.assign({},this.props,{key:"dynamic-page-iframe"+this.props.menuItem.pageData.id+t+o.appDefId,ref:"dynamic-page-iframe"+this.props.menuItem.pageData.id+o.appDefId,className:s,appData:o,name:this.props.token,src:this.getIframeFullSrc(e.url,o.appDefId,o.applicationId),onPostMessage:this.getPostMessageHandler(this.props.token),onLoad:this.iframeLoadedHandler}))}switch(e.type){case a.pages.page_settings.layout.type:case a.pages.page_settings.layout.fallbackType:return r.createElement(u,g.assign({},this.props,{menuItem:this.props.menuItem,key:"tab-layout"+t+this.props.menuItem.pageData.id}));case a.pages.page_settings.permissions.type:case a.pages.page_settings.permissions.fallbackType:return r.createElement(d,g.assign({},this.props,{pageData:this.props.menuItem.pageData,key:"tab-premissions"+t+this.props.menuItem.pageData.id}))}}})}),define("pagesMenu/settings/tabs/tabPageInfoMainMenu.rt",["react","lodash","baseUI","santa-editor-symbols","util","core","pagesMenu/utils/constants","pagesMenu/utils/pageMenuItemHelpers","baseUILib"],function(a,e,s,n,i,t,o,r,l){"use strict";return function(){return function(){this.props.menuItem.pageData;var e=i.translate,t=this.isHomePage();return a.createElement(l.CustomScroll,{},a.createElement("div",{className:"page-info tab-inner"},a.createElement("section",{className:"section-page-title"},a.createElement(s.textInput,{className:"control-text-input",label:"Pages_Info_Name_Title",maxLength:o.NAME_MAX_LENGTH,validator:[i.validate.notEmptyString,i.validate.noHTMLTags],invalidMessage:"Pages_Info_Name_Error_Tooltip",value:this.getValueFromPageData("title"),onChange:this.onChange,validateOnBlurOnly:!0,infoText:"Pages_Info_Name_Tooltip"})),a.createElement("section",{className:"section-hide-page"},a.createElement(l.ToggleSwitch,{value:this.linkPageProperty("hidePage").value,label:"Pages_Info_Hide_Toggle",onChange:this.linkPageProperty("hidePage").requestChange})),t?null:a.createElement("section",{key:"page-settings-tab-page-non-home",className:"page-settings-control-description"},a.createElement("span",{},e("Pages_Info_Home_NotSelected")),a.createElement(s.button,{icon:"settingsHome",label:"Pages_Info_Home_Set",onClick:this.setAsHomepage})),t?a.createElement("section",{key:"page-settings-tab-page-home",className:"page-settings-control-description"},a.createElement("span",{},a.createElement(n.symbol,{name:"settingsHome"}),e("Pages_Info_Home_IsSelected")),a.createElement(s.infoIcon,{className:"page-settings-change-homepage-tooltip",uniqueId:"changeHomePageTooltip",title:"Pages_Info_Home_Popup_Title",text:"Pages_Info_Home_Popup_Text"})):null))}.apply(this,[])}}),define("pagesMenu/settings/tabs/tabPageInfoMainMenu",["create-react-class","prop-types","lodash","pagesMenu/utils/pageMenuItemHelpers","pagesMenu/settings/tabs/pageSettingsTabMixin","coreBi","pagesMenu/settings/tabs/tabPageInfoMainMenu.rt"],function(e,t,a,s,n,i,o){"use strict";return e({displayName:"tabPageInfoMainMenu",mixins:[n],render:o,propTypes:{menuItem:t.object.isRequired},setAsHomepage:function(){var e=this.getEditorAPI();e.homePage.set(this.getPageId()),e.bi.event(i.events.topbar.pages.top_bar_PAGES_settings_page_info_home_page_change_set_click)},onChange:function(e){s.renamePage(this.getEditorAPI(),this.props.menuItem.pageData,e)},isHomePage:function(){return!(!this.props.menuItem.pageData||!this.props.menuItem.pageData.id)&&this.getEditorAPI().pages.isHomePage(this.props.menuItem.pageData.id)}})}),define("pagesMenu/settings/tabs/googlePreviewExpandable.rt",["react","lodash","baseUI","util","santa-editor-symbols","pagesMenu/utils/pageMenuItemHelpers"],function(a,s,e,n,i,o){"use strict";return function(){return function(){var e=n.translate,t="Pages_SEO_Description_Placeholder";return a.createElement("div",{className:s({"google-preview":!0,expanded:this.isExpanded()}).transform(function(e,t,a){t&&e.push(a)},[]).join(" ")},this.props.shouldHideExpandingButton?null:a.createElement("div",{key:"google-seo-expand-button",className:"google-preview-header",onClick:function(e,t){this.openGooglePreview()}.bind(this,e,t)},a.createElement("div",{className:"google-preview-corner-container left"},a.createElement("div",{className:"google-preview-corner"})),a.createElement("div",{className:"google-preview-corner-container right"},a.createElement("div",{className:"google-preview-corner"})),a.createElement(i.symbol,{name:"equals"}),a.createElement(i.symbol,{name:"arrowDown"}),a.createElement("span",{className:"google-preview-header-title"},e("Pages_SEO_Preview_Caption")),a.createElement("div",{className:"google-preview-bottom-header-border"})),a.createElement("p",{className:"google-preview-title"},a.createElement("span",{className:"google-preview-title-site-name"},this.getTitle())),a.createElement("p",{className:"google-preview-url"},o.getPublicUrl(this.getEditorAPI(),this.props.pageData)),a.createElement("p",{className:"google-preview-description"},this.props.previewDescriptionText||this.getValueFromPageData("descriptionSEO")||e(t)))}.apply(this,[])}}),define("pagesMenu/settings/tabs/googlePreviewExpandable",["react-addons-linked-state-mixin","create-react-class","prop-types","pagesMenu/settings/tabs/pageSettingsTabMixin","pagesMenu/settings/tabs/googlePreviewExpandable.rt"],function(e,t,a,s,n){"use strict";return t({displayName:"googlePreviewExpandable",mixins:[s,e],render:n,propTypes:{pageData:a.object.isRequired,isExpanded:a.bool,shouldHideExpandingButton:a.bool,isExpandedLink:a.object,previewDescriptionText:a.string},isExpanded:function(){return this.props.isExpanded||this.props.isExpandedLink.value},openGooglePreview:function(){this.props.isExpandedLink.requestChange(!this.props.isExpandedLink.value)},getTitle:function(){if(this.props.title)return this.props.title;var e=this.getEditorAPI();return this.getValueFromPageData("pageTitleSEO")?this.getValueFromPageData("pageTitleSEO"):(e.dsRead.seo.title.get()||e.siteName.get())+(e.pages.isHomePage(this.props.pageData.id)?"":" | "+this.getValueFromPageData("title"))}})}),define("pagesMenu/settings/tabs/seoUrlSettings.rt",["react","lodash","baseUI","util","pagesMenu/settings/tabs/googlePreviewExpandable","pagesMenu/utils/pageMenuItemHelpers","pagesMenu/utils/constants","baseUILib"],function(e,t,a,s,n,i,o,r){"use strict";return function(){return e.createElement("div",{className:this.getClassName("seo-section-page-address"),key:"section-page-address"},e.createElement("span",{className:"seo-section-title-label"},s.translate("Pages_Info_Address_Title")),e.createElement("div",{className:"seo-section-site-url"},e.createElement("span",{className:"page-address-prefix"},"http://www.../"),e.createElement(a.textInput,{className:"control-text-input-seo",maxLength:o.NAME_MAX_LENGTH,validator:this.getPageUriSEOValidators(),invalidMessage:this.getPageUriSEOInvalidMessages(),valueLink:this.linkUrlProperty("pageUriSEO"),inputFocusTooltipMessage:this.props.inputFocusTooltipMessage,infoText:"Pages_Info_Address_Tooltip"})),this.shouldShowLinkToPage()?e.createElement("a",{key:"page-web-address",href:i.getPublicUrl(this.getEditorAPI(),this.props.pageData),target:"_blank"},e.createElement(a.button,{className:"btn-text",label:"Pages_SEO_Goto_URL"})):null,this.isUriSEOTranslated()?e.createElement("span",{className:"translated-by",key:"googleAttribution"},s.translate("Pages_Info_URL_Popup_Google")," ",e.createElement(a.symbol,{name:"google-logo"})):null)}}),define("pagesMenu/settings/tabs/seoUrlSettings",["react-addons-linked-state-mixin","lodash","create-react-class","prop-types","util","pagesMenu/settings/tabs/pageSettingsTabMixin","pagesMenu/utils/pageUtils","experiment","pagesMenu/settings/tabs/seoUrlSettings.rt"],function(e,s,t,a,n,i,o,r,l){"use strict";function p(e,t){var a=[{callback:n.validate.notEmptyString,message:"Pages_Info_URL_Error_Tooltip"},{callback:n.validate.emoji,message:"Pages_Info_URL_Error_Tooltip"},{callback:n.validate.byInvalidCharacters(n.validationExpressions.invalidUrlCharacters),message:"Pages_Info_URL_Error_Tooltip"}];return e.dsRead.generalInfo.urlFormat.isSlash()?a.concat([{callback:s.negate(e.pages.data.pageUriSEO.isForbidden.bind(null,t)),message:"Pages_Info_Forbidden_URI_SEO_Error_Tooltip"},{callback:s.negate(e.pages.data.pageUriSEO.isDuplicate.bind(null,t)),message:"Pages_Info_Duplicate_URI_SEO_Error_Tooltip"}]):a}return t({displayName:"seoUrlSettings",mixins:[i,e],render:l,propTypes:{pageData:a.object.isRequired},shouldShowLinkToPage:function(){return this.props.shouldShowLinkToPage&&this.getEditorAPI().dsRead.generalInfo.isSitePublished()},linkUrlProperty:function(t){var a=this.getPageId(),s=this.getEditorAPI(),n={},i=s.dsRead.generalInfo.urlFormat.isSlash()?s.pages.data.pageUriSEO:o;return{value:this.getValueFromPageData(t),requestChange:function(e){n[t]=e&&i.convertPageNameToUrl(e),s.pages.data.update(a,n)}}},isUriSEOTranslated:function(){var e=this.getValueFromPageData("translationData");return r.isOpen("urlFormatGoogleTranslate")&&e&&e.uriSEOTranslated},getPageUriSEOValidators:function(){var e=p(this.getEditorAPI(),this.getPageId());return s.map(e,"callback")},getPageUriSEOInvalidMessages:function(){var e=p(this.getEditorAPI(),this.getPageId());return s.map(e,"message")},getClassName:function(e){return n.inheritClassName(this.props,e)}})}),define("pagesMenu/settings/tabs/tabSEO.rt",["react","lodash","baseUI","util","pagesMenu/settings/tabs/googlePreviewExpandable","pagesMenu/utils/pageMenuItemHelpers","pagesMenu/utils/constants","pagesMenu/settings/tabs/seoUrlSettings","baseUILib","experiment","santa-editor-symbols"],function(e,t,a,s,n,i,o,r,l,p,g){"use strict";return function(){return e.createElement("div",{className:"tab tab-seo"},function(){return s.translate,e.createElement(l.CustomScroll,{},e.createElement("div",{className:t({"seo-google":!0,"tab-inner":!0,"google-preview-expanded":this.state.isGooglePreviewExpanded}).transform(function(e,t,a){t&&e.push(a)},[]).join(" ")},e.createElement("section",{key:"seo-section-seo-wiz",className:"seo-section-seo-wiz"},e.createElement("div",{className:"seo-section-seo-wiz-inner-div"},e.createElement(l.Composites.RichTextWithIllustration,{},e.createElement(l.Illustration,{},e.createElement(g.symbol,{name:"getFoundOnGoogle"})),e.createElement(l.Composites.RichTextLabeled,{},e.createElement(l.TextLabel,{value:"Pages_SEO_Wizard_Title",type:"T03"}),e.createElement(l.RichText,{},e.createElement("p",{},s.translate("Pages_SEO_Wizard_Description")," ",e.createElement("a",{href:this.getWixSEOWizURL(),target:"_blank",onClick:this.reportSeoWizardLinkClicked},s.translate("Pages_SEO_Wizard_Button_Label")))))))),e.createElement("section",{className:"seo-section-title"},e.createElement(a.textInput,{className:"control-text-input",label:"Pages_SEO_Title_Caption",placeholder:"Pages_SEO_Title_Placeholder",maxLength:o.TITLE_SEO_MAX_LENGTH,validator:[s.validate.noHTMLTags,s.validate.noEmoji],invalidMessage:"Pages_SEO_Title_Error_Tooltip",valueLink:this.linkGooglePreviewProperty("pageTitleSEO"),infoText:"Pages_SEO_Title_Tooltip",onBlur:this.onPagesSEOTitleBlur})),e.createElement("section",{className:"seo-section-description"},e.createElement(a.textInput,{className:"control-text-input",isMultiLine:!0,label:"Pages_SEO_Description_Caption",placeholder:"Pages_SEO_Description_Placeholder",maxLength:o.DESCRIPTION_SEO_MAX_LENGTH,validator:[s.validate.noHTMLTags,s.validate.noEmoji],invalidMessage:"Pages_SEO_Description_Error_Tooltip",valueLink:this.linkGooglePreviewProperty("descriptionSEO"),infoText:"Pages_SEO_Description_Tooltip",onBlur:this.onPagesSEODescBlur})),e.createElement("section",{},e.createElement(l.ToggleSwitch,{value:!this.getValueFromPageData("indexable"),label:"Pages_SEO_Hide_Toggle",onChange:this.onHidePageChanged})),p.isOpen("se_newPageSEOSection")?null:e.createElement("section",{className:"seo-section-page-address-old",key:"section-page-address"},e.createElement(a.textInput,{className:"control-text-input",label:"Pages_Info_Address_Title",maxLength:o.USI_SEO_MAX_LENGTH,validator:this.getPageUriSEOValidators(),invalidMessage:this.getPageUriSEOInvalidMessages(),valueLink:this.linkUrlProperty("pageUriSEO"),onBlur:this.onPageAddressBlur,infoText:"Pages_Info_Address_Tooltip"}),e.createElement("span",{className:"page-address-prefix"},"https://www.../"),this.getEditorAPI().dsRead.generalInfo.isSitePublished()?e.createElement("a",{key:"page-web-address",href:i.getPublicUrl(this.getEditorAPI(),this.props.pageData),onClick:this.onGoToUrlClicked,target:"_blank"},e.createElement(a.button,{className:"btn-text",label:"Pages_SEO_Goto_URL"})):null,this.isUriSEOTranslated()?e.createElement("span",{className:"translated-by",key:"googleAttribution"},s.translate("Pages_Info_URL_Popup_Google")," ",e.createElement(a.symbol,{name:"google-logo"})):null),e.createElement("section",{className:"seo-section-keywords",key:"seo_tab_keywords_bottom"},e.createElement(a.textInput,{className:"control-text-input",label:"Pages_SEO_Keywords_Caption",placeholder:"Pages_SEO_Keywords_Placeholder",maxLength:o.KEYWORD_SEO_MAX_LENGTH,validator:[s.validate.rangeOfWords(0,o.KEYWORD_SEO_MAX_WORDS,","),s.validate.noEmoji],invalidMessage:"Pages_SEO_Keywords_Error_Tooltip",valueLink:this.linkPageProperty("metaKeywordsSEO"),infoText:"Pages_SEO_Keywords_New_Tooltip",validateOnBlurOnly:!0,onBlur:this.onPagesSEOKeywordsBlur})),p.isOpen("se_newPageSEOSection")?e.createElement(r,{key:"seoTabPageAddressSection",pageData:this.props.pageData,shouldShowLinkToPage:!0}):null))}.apply(this,[]),e.createElement(n,{isExpandedLink:this.linkState("isGooglePreviewExpanded"),pageData:this.props.pageData}))}}),define("pagesMenu/settings/tabs/tabSEO",["react-addons-linked-state-mixin","lodash","create-react-class","prop-types","util","pagesMenu/settings/tabs/pageSettingsTabMixin","pagesMenu/utils/pageUtils","experiment","coreBi","pagesMenu/settings/tabs/tabSEO.rt"],function(e,s,t,a,n,i,o,r,l,p){"use strict";function g(e,t){var a=[{callback:n.validate.notEmptyString,message:"Pages_Info_URL_Error_Tooltip"},{callback:n.validate.byInvalidCharacters(n.validationExpressions.invalidUrlCharacters),message:"Pages_Info_URL_Error_Tooltip"}];return e.dsRead.generalInfo.urlFormat.isSlash()?a.concat([{callback:s.negate(e.pages.data.pageUriSEO.isForbidden.bind(null,t)),message:"Pages_Info_Forbidden_URI_SEO_Error_Tooltip"},{callback:s.negate(e.pages.data.pageUriSEO.isDuplicate.bind(null,t)),message:"Pages_Info_Duplicate_URI_SEO_Error_Tooltip"}]):a}return t({displayName:"tabSEO",mixins:[i,e],render:p,propTypes:{pageData:a.object.isRequired},getInitialStateFromPageData:function(){return{isGooglePreviewExpanded:!1}},getInitialState:function(){return this.getInitialStateFromPageData()},componentWillReceiveProps:function(e){this.props.pageData.id!==e.pageData.id&&this.setState(this.getInitialStateFromPageData())},componentWillMount:function(){this.debouncedUpdateEditorAPI=s.debounce(function(e,t,a){e.pages.data.update(t,a)},20),this.seoInfo={pageTitleSEO:this.getValueFromPageData("pageTitleSEO"),pageDescSeo:this.getValueFromPageData("descriptionSEO"),pageKeywordsSEO:this.getValueFromPageData("metaKeywordsSEO")}},linkGooglePreviewProperty:function(t){var a=this.props.pageData.id,s=this.getEditorAPI(),n={};return{value:this.getValueFromPageData(t),requestChange:function(e){this.state.isGooglePreviewExpanded||this.setState({isGooglePreviewExpanded:!0}),n[t]=e,this.debouncedUpdateEditorAPI(s,a,n)}.bind(this)}},onPagesSEOTitleBlur:function(){var e=this.seoInfo.pageTitleSEO,t=this.getValueFromPageData("pageTitleSEO");if(t!==e){var a=this.getEditorAPI();a.bi.event(l.events.topbar.pages.top_bar_PAGES_settings_seo_title_set,{field:"page title"}),a.history.add("SEO title updated"),this.seoInfo.pageTitleSEO=t}},onPageAddressBlur:function(){var e=this.seoInfo.pageUriSEO,t=this.getValueFromPageData("pageUriSEO");if(t!==e){var a=this.getEditorAPI();a.bi.event(l.events.topbar.pages.top_bar_PAGES_settings_seo_title_set,{field:"page url"}),a.history.add("SEO address updated"),this.seoInfo.pageUriSEO=t}},onPagesSEODescBlur:function(){var e=this.seoInfo.pageDescSeo,t=this.getValueFromPageData("descriptionSEO");if(t!==e){var a=this.getEditorAPI();a.bi.event(l.events.topbar.pages.top_bar_PAGES_settings_seo_description_set),a.history.add("SEO description updated"),this.seoInfo.pageDescSeo=t}},onPagesSEOKeywordsBlur:function(){var e=this.seoInfo.pageKeywordsSEO,t=this.getValueFromPageData("metaKeywordsSEO");if(t!==e){var a=this.getEditorAPI();a.bi.event(l.events.topbar.pages.top_bar_PAGES_settings_seo_keywords_set),a.history.add("SEO keywords updated"),this.seoInfo.pageKeywordsSEO=t}},linkUrlProperty:function(t){var a=this.getPageId(),s=this.getEditorAPI(),n={},i=s.dsRead.generalInfo.urlFormat.isSlash()?s.pages.data.pageUriSEO:o;return{value:this.getValueFromPageData(t),requestChange:function(e){n[t]=e&&i.convertPageNameToUrl(e),this.debouncedUpdateEditorAPI(s,a,n)}.bind(this)}},isUriSEOTranslated:function(){var e=this.getValueFromPageData("translationData");return r.isOpen("urlFormatGoogleTranslate")&&e&&e.uriSEOTranslated},getPageUriSEOValidators:function(){var e=g(this.getEditorAPI(),this.getPageId());return s.map(e,"callback")},getPageUriSEOInvalidMessages:function(){var e=g(this.getEditorAPI(),this.getPageId());return s.map(e,"message")},getWixSEOWizURL:function(){return this.getEditorAPI().account.getWixSEOWizURL("EDITOR_PAGES")},reportSeoWizardLinkClicked:function(){this.getEditorAPI().bi.event(l.events.topbar.pages.top_bar_PAGES_settings_seo_wiz_lets_go_click)},onGoToUrlClicked:function(){this.getEditorAPI().bi.event(l.events.topbar.pages.top_bar_PAGES_settings_seo_go_to_url_click)},onHidePageChanged:function(e){var t=this.getEditorAPI(),a=this.getPageId(),s={indexable:!e};this.debouncedUpdateEditorAPI(t,a,s),t.bi.event(l.events.topbar.pages.top_bar_PAGES_settings_hide_page_clicked,{title:this.getPageData().title,toggle:e})}})}),define("pagesMenu/settings/pageSettingsPanelTabs.rt",["react","lodash","baseUI","util","pagesMenu/settings/tabs/tabPageInfoMainMenu","pagesMenu/settings/tabs/tabLayout","pagesMenu/settings/tabs/tabPermissions","pagesMenu/settings/tabs/tabSEO"],function(a,e,s,n,i,o,r,l){"use strict";return function(){return function(){var e=this.props.menuItem.pageData,t=n.translate;return a.createElement("div",{},a.createElement(s.tabs.holder,{value:this.props.selectedTab,className:"top page-settings-tabs",onChange:function(e,t,a){this.props.setActiveTab(a)}.bind(this,e,t)},a.createElement(s.tabs.header,{},a.createElement(s.tabs.label,{htmlFor:"page"},t("Pages_Info_Tab_Title")),a.createElement(s.tabs.label,{htmlFor:"layout"},t("Pages_Layouts_Tab_Title")),a.createElement(s.tabs.label,{htmlFor:"privacy"},t("Pages_Permissions_Tab_Title")),a.createElement(s.tabs.label,{htmlFor:"seo"},t("Pages_SEO_Tab_Title"))),a.createElement(s.tabs.content,{className:"page-settings-panel-content"},a.createElement(s.tabs.tab,{name:"page"},a.createElement(i,{menuItem:this.props.menuItem})),a.createElement(s.tabs.tab,{name:"layout"},a.createElement(o,{menuItem:this.props.menuItem})),a.createElement(s.tabs.tab,{name:"privacy"},a.createElement(r,{pageData:this.props.menuItem.pageData})),a.createElement(s.tabs.tab,{className:"seo",name:"seo"},a.createElement(l,{pageData:this.props.menuItem.pageData})))))}.apply(this,[])}}),define("pagesMenu/settings/pageSettingsPanelTabs",["create-react-class","prop-types","pagesMenu/settings/pageSettingsPanelTabs.rt"],function(e,t,a){"use strict";return e({displayName:"pageSettingsPanelTabs",propTypes:{menuItem:t.object.isRequired,selectedTab:t.string,setActiveTab:t.func.isRequired},render:a})}),define("pagesMenu/panels/settings/pageSettingsFrame.rt",["react","lodash","santa-editor-symbols","util","baseUILib"],function(e,t,a,s,n){"use strict";return function(){return e.createElement("div",{className:"page-settings-panel"},e.createElement("div",{className:"page-settings-panel-inner"},e.createElement(n.PanelHeader,{className:"dark",onClose:function(){this.props.closeSettingsPanel("back")}.bind(this),onHelp:function(e){e.stopPropagation(),this.openHelpPanel()}.bind(this),closeSymbol:this.getCloseSymbol()},e.createElement("span",{},s.translate("Pages_Settings_Header_Text")+" ("+this.props.title+")")),"\n        ",this.props.children,"\n    "))}}),define("pagesMenu/panels/settings/pageSettingsFrame",["react","create-react-class","prop-types","core","pagesMenu/panels/settings/pageSettingsFrame.rt","constants","santa-editor-symbols"],function(e,t,a,s,n,i,o){"use strict";return t({displayName:"pageSettingsFrame",propTypes:{helpId:a.string,title:a.string,closeSettingsPanel:a.func.isRequired},mixins:[s.mixins.editorAPIMixin],render:n,openHelpPanel:function(e){if(e=e||this.props.helpId){var t={learn_more:!1,panel_name:"page_settings",origin:i.BI.HELP.ORIGIN.PAGES};this.getEditorAPI().panelManager.openHelpCenter(e,null,t)}},getCloseSymbol:function(){return e.createElement(o.symbol,{name:"arrowLeft"})}})}),define("pagesMenu/panels/settings/desktop/pageSettingsDesktopCommon.rt",["react","lodash","pagesMenu/panels/settings/pageSettingsFrame"],function(e,t,a){"use strict";return function(){return e.createElement(a,{helpId:this.props.helpId,title:this.props.title,closeSettingsPanel:this.props.closeSettingsPanel},"\n\n    ",this.props.children,"\n\n")}}),define("pagesMenu/panels/settings/desktop/pageSettingsDesktopCommon",["create-react-class","prop-types","core","pagesMenu/panels/settings/desktop/pageSettingsDesktopCommon.rt"],function(e,t,a,s){"use strict";return e({mixins:[a.mixins.editorAPIMixin],displayName:"pageSettingsDesktopCommon",propTypes:{title:t.string,closeSettingsPanel:t.func.isRequired,helpId:t.string},render:s})}),define("pagesMenu/panels/settings/desktop/pageSettingsDesktop.rt",["react","lodash","baseUI","santa-editor-symbols","util","pagesMenu/settings/dynamicPageSettingsPanelTabs","pagesMenu/settings/pageSettingsPanelTabs","pagesMenu/panels/settings/desktop/pageSettingsDesktopCommon"],function(t,a,s,n,i,o,r,l){"use strict";return function(){return function(){this.props.actions;var e=i.translate;return t.createElement(l,{title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel,helpId:this.getHelpId()},this.isDynamicPage()?null:t.createElement(r,a.assign({},{key:"pageSettingsPanelTabs",setActiveTab:this.setActiveTab,selectedTab:this.state.activeTab,ref:"pageSettingsPanelTabs"},this.props)),this.isDynamicPage()?t.createElement(o,a.assign({},{developerModeEnabled:this.isDeveloperModeEnabled(),tabs:this.getDynamicPageTabs(this.props.menuItem.pageData.id),key:"dynamicPageSettingsPanelTabs",setActiveTab:this.setActiveTab,selectedTab:this.state.activeTab,ref:"dynamicPageSettingsPanelTabs"},this.props)):null,t.createElement("footer",{},this.isDynamicPage()?null:t.createElement("div",{className:"page-settings-controls",key:"pageSettingsControls"},this.shouldShowDuplicateButton()?t.createElement("span",{key:"page-settings-controls-duplicate",className:"duplicate",onClick:this.duplicatePage},t.createElement("span",{},t.createElement(n.symbol,{name:"duplicate"})),"\n                ",e("Pages_Settings_Footer_Duplicate"),"\n            "):null,this.shouldShowRemoveButton()?t.createElement("span",{key:"page-settings-controls-remove",className:"remove",onClick:this.deletePage},t.createElement("span",{},t.createElement(n.symbol,{name:"pageDelete"})),"\n                ",e("Pages_Settings_Footer_Delete"),"\n            "):null),t.createElement(s.button,{label:"Pages_Settings_Footer_Done",onClick:this.doneClickHandler})))}.apply(this,[])}}),define("pagesMenu/panels/settings/desktop/pageSettingsDesktop",["create-react-class","prop-types","lodash","core","pagesMenu/utils/pageMenuItemHelpers","coreBi","pagesMenu/panels/settings/desktop/pageSettingsDesktop.rt"],function(e,t,o,a,s,n,i){"use strict";return e({mixins:[a.mixins.editorAPIMixin],setActiveTab:function(e){this.setState({activeTab:e}),this.getEditorAPI().bi.event(n.events.topbar.pages.top_bar_PAGES_settings_tab_click,{category:e})},getInitialState:function(){return{activeTab:this.props.activeTab||this.getDefaultTabName()}},componentWillReceiveProps:function(e){if(e.activeTab&&this.props.activeTab!==e.activeTab)this.setActiveTab(e.activeTab);else{var t=e.menuItem.pageData.id,a=this.props.menuItem.pageData.id;t!==a&&this.tryToPreserveSelectedTab(t,a)}},tryToPreserveSelectedTab:function(e,t){var a=this.getEditorAPI(),s=!!a.dsRead.routers.getRouterDataForPageIfExist(e),n=!!a.dsRead.routers.getRouterDataForPageIfExist(t);if(s&&!n||!s&&n)this.setActiveTab(this.getDefaultTabName(e));else if(s&&n){var i=this.getDynamicPageTabs(e);o.find(i,{title:this.state.activeTab})||this.setActiveTab(this.getDefaultTabName(e))}},getHelpId:function(){if(this.isDynamicPage()){var e=this.getDynamicPageTabs(this.props.menuItem.pageData.id),t=o.find(e,{title:this.state.activeTab});return t.helpId?t.helpId:"995c5103-5599-4725-9e4f-c6ae4a47bf35"}return"2f65df85-2eba-4b41-a9bf-2a841a5e5a53"},displayName:"pageSettingsDesktop",propTypes:{menuItem:t.object.isRequired,activeTab:t.string,actions:t.object,closeSettingsPanel:t.func.isRequired},render:i,shouldShowDuplicateButton:function(){return s.canDuplicate(this.getEditorAPI(),this.props.menuItem)},shouldShowRemoveButton:function(){return s.canRemoveMenuItem(this.getEditorAPI(),this.props.menuItem)},duplicatePage:function(){this.props.actions.duplicate(this.props.menuItem),this.getEditorAPI().bi.event(n.events.topbar.pages.top_bar_PAGES_settings_duplicate_page_click)},deletePage:function(){var e=this.props.menuItem,t=this.getEditorAPI();this.props.closeSettingsPanel("deletePage"),t.dsActions.waitForChangesApplied(o.partial(s.removeMenuItem,t,e)),t.bi.event(n.events.topbar.pages.top_bar_PAGES_settings_delete_page_click)},getDefaultTabName:function(e){if(e=e||o.get(this.props.menuItem.pageData,"id"),this.isDynamicPage(e)){var t=this.getDynamicPageTabs(e);return o.isEmpty(t)?"Page Info":t[0].title}return"page"},getDynamicPageTabs:function(e){return this.getEditorAPI().pages.dynamicPages.getDynamicPageActions(e,"pageSettings")},doneClickHandler:function(){this.props.closeSettingsPanel("done")},isDynamicPage:function(e){var t=this.getEditorAPI();return!!(e=e||o.get(this.props.menuItem.pageData,"id"))&&!!t.dsRead.routers.getRouterDataForPageIfExist(e)},isDeveloperModeEnabled:function(){return this.getEditorAPI().developerMode.isEnabled()}})}),define("pagesMenu/settings/tabs/subPages/blogSinglePostInfo.rt",["react","lodash","baseUI","util","experiment"],function(t,e,a,s,n){"use strict";return function(){return function(){var e=s.translate;return t.createElement("div",{className:"page-info tab-inner"},t.createElement("section",{},t.createElement("p",{className:"title"},e("Pages_Blog_Post_Info_WhatisTitle")),t.createElement("p",{},e("Pages_Blog_Post_Info_WhatisText"))),t.createElement("section",{},t.createElement("p",{className:"title"},e("Pages_Blog_Post_Info_HowTitle")),t.createElement("p",{},e("Pages_Blog_Post_Info_HowText"))),t.createElement("section",{},t.createElement("p",{className:"title"},e("Pages_Blog_Post_Info_ChangeTitle")),t.createElement("p",{},t.createElement("span",{},e("Pages_Blog_Post_Info_ChangeText")+" "),this.isDesktop()?t.createElement("span",{key:"openBlogManagerButton"},t.createElement(a.button,{label:"Pages_Blog_Post_Info_ChangeLink",className:"btn-text",onClick:function(e,t){t.stopPropagation(),this.props.actions.openBlogManager()}.bind(this,e)}),t.createElement("span",{},".")):null,this.isMobile()?t.createElement("span",{key:"openBlogManagerText"},"\n                ",e("Pages_Blog_Post_Info_ChangeLink"),".\n            "):null)))}.apply(this,[])}}),define("pagesMenu/settings/tabs/subPages/blogSinglePostInfo",["create-react-class","core","lodash","pagesMenu/settings/tabs/subPages/blogSinglePostInfo.rt"],function(e,t,a,s){"use strict";return e({displayName:"blogSinglePostInfo",render:s,mixins:[t.mixins.editorAPIMixin],isDesktop:function(){return this.getEditorAPI().viewMode.get()===this.getEditorAPI().dsRead.viewMode.VIEW_MODES.DESKTOP},isMobile:function(){return this.getEditorAPI().viewMode.get()===this.getEditorAPI().dsRead.viewMode.VIEW_MODES.MOBILE}})}),define("pagesMenu/settings/tabs/subPages/blogSinglePostSeo.rt",["react","lodash","util","pagesMenu/settings/tabs/seoUrlSettings","pagesMenu/settings/tabs/googlePreviewExpandable","experiment"],function(t,a,s,n,i,o){"use strict";return function(){return function(){var e=s.translate;return t.createElement("div",{className:"seo-google tab-inner"},t.createElement("p",{className:"title"},e("Pages_Blog_Post_SEO_Title")),t.createElement(i,{isExpanded:!0,shouldHideExpandingButton:!0,pageData:this.props.menuItem.pageData,previewDescriptionText:e("Pages_Blog_Post_SEO_Placeholder"),title:e("Pages_Blog_Post_SEO_Preview")+" | "+this.props.siteName}),o.isOpen("se_blogChangeSinglePostPageName")?t.createElement(n,{key:"blogSeoTabChangePageName",pageData:this.props.menuItem.pageData,inputFocusTooltipMessage:"SEO_URL_Changing_Warning",className:a({"blog-seo-setting":!0}).transform(function(e,t,a){t&&e.push(a)},[]).join(" ")}):null)}.apply(this,[])}}),define("pagesMenu/settings/tabs/subPages/blogSinglePostSeo",["create-react-class","lodash","pagesMenu/settings/tabs/subPages/blogSinglePostSeo.rt"],function(e,t,a){"use strict";return e({displayName:"blogSinglePostSeo",render:a})}),define("pagesMenu/settings/tabs/subPages/tpaProductPageInfo.rt",["react","lodash","baseUI","util"],function(a,e,s,n){"use strict";return function(){return function(){var e=n.translate,t=this.getEditorAPI();return a.createElement("div",{className:"page-info tab-inner"},a.createElement("section",{},a.createElement("p",{className:"title"},e("Pages_Store_Product_Info_WhatisTitle")),a.createElement("p",{},e("Pages_Store_Product_Info_WhatisText"))),a.createElement("section",{},a.createElement("p",{className:"title"},e("Pages_Store_Product_Info_HowTitle")),a.createElement("p",{},e("Pages_Store_Product_Info_HowText"))),a.createElement("section",{},a.createElement("p",{className:"title"},e("Pages_Store_Product_Info_ChangeTitle")),a.createElement("p",{},t.isDesktopEditor()?a.createElement("span",{key:"desktop"},e("Pages_Store_Product_Info_ChangeText")," "):null,t.isMobileEditor()?a.createElement("span",{key:"mobile"},e("Pages_Store_Product_Info_ChangeText_Mobile")," "):null,a.createElement(s.button,{label:"Pages_Store_Product_Info_ChangeLink",className:"btn-text",onClick:function(e,t,a){a.stopPropagation(),this.props.actions.openStoreManager()}.bind(this,e,t)}),a.createElement("span",{},"."))))}.apply(this,[])}}),define("pagesMenu/settings/tabs/subPages/tpaProductPageInfo",["create-react-class","core","lodash","pagesMenu/settings/tabs/subPages/tpaProductPageInfo.rt"],function(e,t,a,s){"use strict";return e({displayName:"tpaProductPageInfo",mixins:[t.mixins.editorAPIMixin],render:s})}),define("pagesMenu/settings/tabs/subPages/tpaProductPageSeo.rt",["react","lodash","baseUI","util"],function(t,e,a,s){"use strict";return function(){return function(){var e=s.translate;return t.createElement("div",{className:"seo-google tab-inner"},t.createElement("p",{className:"title"},e("Pages_Store_Product_SEO_Title")),t.createElement("div",{className:"google-preview"},t.createElement("p",{className:"google-preview-title"},t.createElement("span",{className:"google-preview-title-site-name"},this.props.siteName+" | "),t.createElement("span",{},e("Pages_Store_Product_SEO_Preview"))),t.createElement("p",{className:"google-preview-url"},this.props.publicUrl.replace(/#!.*/,"#!product-title")),t.createElement("p",{className:"google-preview-description"},e("Pages_Store_Product_SEO_Placeholder"))))}.apply(this,[])}}),define("pagesMenu/settings/tabs/subPages/tpaProductPageSeo",["create-react-class","lodash","pagesMenu/settings/tabs/subPages/tpaProductPageSeo.rt"],function(e,t,a){"use strict";return e({displayName:"tpaProductPageSeo",render:a})}),define("pagesMenu/settings/tabs/subPages/tpaThankYouPageSeo.rt",["react","lodash","util"],function(t,e,a){"use strict";return function(){return function(){var e=a.translate;return t.createElement("div",{className:"seo-google tab-inner empty"},t.createElement("p",{},e("Pages_Store_Cart_SEO_Text")),t.createElement("p",{},t.createElement("span",{},e("Pages_Store_Thankyou_Tracking_Text")+" "),t.createElement("a",{href:"https://support.wix.com/en/article/tracking-sales-in-wix-stores-using-your-thank-you-page-url",target:"_blank"},e("Pages_Store_Thankyou_Tracking_Link"))))}.apply(this,[])}}),define("pagesMenu/settings/tabs/subPages/tpaThankYouPageSeo",["create-react-class","pagesMenu/settings/tabs/subPages/tpaThankYouPageSeo.rt"],function(e,t){"use strict";return e({displayName:"tpaThankYouPageSeo",render:t})}),define("pagesMenu/settings/tabs/subPages/tpaCartPageSeo.rt",["react","lodash","util"],function(t,e,a){"use strict";return function(){return function(){var e=a.translate;return t.createElement("div",{className:"seo-google tab-inner empty"},t.createElement("p",{},e("Pages_Store_Cart_SEO_Text")))}.apply(this,[])}}),define("pagesMenu/settings/tabs/subPages/tpaCartPageSeo",["create-react-class","pagesMenu/settings/tabs/subPages/tpaCartPageSeo.rt"],function(e,t){"use strict";return e({displayName:"tpaCartPageSeo",render:t})}),define("pagesMenu/settings/tabs/subPages/tpaCartPageInfo.rt",["react","lodash","baseUI","util"],function(a,e,t,s){"use strict";return function(){return function(){var e=s.translate,t=this.getEditorAPI();return a.createElement("div",{className:"page-info tab-inner"},a.createElement("section",{},a.createElement("p",{className:"title"},e("Pages_Store_Cart_Info_WhatisTitle")),a.createElement("p",{},e("Pages_Store_Cart_Info_WhatisText"))),a.createElement("section",{},a.createElement("p",{className:"title"},e("Pages_Store_Cart_Info_HowTitle")),t.isDesktopEditor()?a.createElement("p",{key:"desktop"},e("Pages_Store_Cart_Info_HowText")," "):null,t.isMobileEditor()?a.createElement("p",{key:"mobile"},e("Pages_Store_Cart_Info_HowText_Mobile")," "):null))}.apply(this,[])}}),define("pagesMenu/settings/tabs/subPages/tpaCartPageInfo",["create-react-class","lodash","core","pagesMenu/settings/tabs/subPages/tpaCartPageInfo.rt"],function(e,t,a,s){"use strict";return e({displayName:"tpaCartPageInfo",mixins:[a.mixins.editorAPIMixin],render:s})}),define("pagesMenu/settings/tabs/subPages/tpaThankYouPageInfo.rt",["react","lodash","baseUI","util"],function(a,e,t,s){"use strict";return function(){return function(){var e=s.translate,t=this.getEditorAPI();return a.createElement("div",{className:"page-info tab-inner"},a.createElement("section",{},a.createElement("p",{className:"title"},e("Pages_Store_Thankyou_Info_WhatisTitle")),a.createElement("p",{},e("Pages_Store_Thankyou_Info_WhatisText"))),a.createElement("section",{},a.createElement("p",{className:"title"},e("Pages_Store_Thankyou_Info_HowTitle")),t.isDesktopEditor()?a.createElement("p",{key:"desktop"},e("Pages_Store_Thankyou_Info_HowText")," "):null,t.isMobileEditor()?a.createElement("p",{key:"mobile"},e("Pages_Store_Thankyou_Info_HowText_Mobile")," "):null))}.apply(this,[])}}),define("pagesMenu/settings/tabs/subPages/tpaThankYouPageInfo",["create-react-class","core","lodash","pagesMenu/settings/tabs/subPages/tpaThankYouPageInfo.rt"],function(e,t,a,s){"use strict";return e({displayName:"tpaThankYouPageInfo",mixins:[t.mixins.editorAPIMixin],render:s})}),define("pagesMenu/settings/pageSettingsPanelTabsSubpage.rt",["react","lodash","baseUI","baseUILib","santa-editor-symbols","util","pagesMenu/settings/tabs/subPages/blogSinglePostInfo","pagesMenu/settings/tabs/subPages/blogSinglePostSeo","pagesMenu/settings/tabs/subPages/tpaProductPageInfo","pagesMenu/settings/tabs/subPages/tpaProductPageSeo","pagesMenu/settings/tabs/subPages/tpaThankYouPageSeo","pagesMenu/settings/tabs/subPages/tpaCartPageSeo","pagesMenu/settings/tabs/subPages/tpaCartPageInfo","pagesMenu/settings/tabs/subPages/tpaThankYouPageInfo","pagesMenu/utils/pageUtils","pagesMenu/settings/tabs/tabLayout","pagesMenu/settings/tabs/tabPermissions","pagesMenu/settings/tabs/tabSEO","pagesMenu/utils/pageMenuItemHelpers","core"],function(g,l,c,u,e,o,p,d,m,h,b,P,E,f,t,_,S,a,I,r){"use strict";return function(){function i(e,t,a,s,n){var i=n.isWixStoreProductPage(e),o=n.isWixStoreCartPage(e),r=n.isWixStoreThankYouPage(e);return g.createElement(c.tabs.holder,{value:this.state.activeTab,className:"top page-settings-tabs",onChange:function(e,t,a,s,n,i,o,r,l){this.setActiveTab(l)}.bind(this,e,t,a,s,n,i,o,r)},g.createElement(c.tabs.header,{},g.createElement(c.tabs.label,{htmlFor:"page"},t("Pages_Info_Tab_Title")),g.createElement(c.tabs.label,{htmlFor:"layout"},t("Pages_Layouts_Tab_Title")),g.createElement(c.tabs.label,{htmlFor:"privacy"},t("Pages_Permissions_Tab_Title")),g.createElement(c.tabs.label,{htmlFor:"seo"},t("Pages_SEO_Tab_Title"))),g.createElement(c.tabs.content,{className:"page-settings-panel-content"},g.createElement(c.tabs.tab,{name:"page",className:"wixapps-subpage"},g.createElement(u.CustomScroll,{},s?g.createElement(p,l.assign({},{key:"page-settings-tab-page-blog"},this.props)):null,i?g.createElement(m,l.assign({},{key:"page-settings-tab-page-tpa-product"},this.props)):null,o?g.createElement(E,l.assign({},{key:"page-settings-tab-page-tpa-cart"},this.props)):null,r?g.createElement(f,l.assign({},{key:"page-settings-tab-page-tpa-thank-you"},this.props)):null)),g.createElement(c.tabs.tab,{name:"layout"},g.createElement(_,{menuItem:this.props.menuItem})),g.createElement(c.tabs.tab,{name:"privacy"},g.createElement(S,{pageData:e})),function(e,t,a,s,n,i,o,r){var l=this.getSiteName(),p=I.getPublicUrl(a,e);return g.createElement(c.tabs.tab,{name:"seo",className:"wixapps-subpage"},g.createElement(u.CustomScroll,{},s?g.createElement(d,{key:"page-settings-tab-seo-blog-single-post",siteName:l,publicUrl:p,menuItem:this.props.menuItem}):null,i?g.createElement(h,{key:"page-settings-tab-seo-tpa-product",siteName:l,publicUrl:p}):null,r?g.createElement(b,{key:"page-settings-tab-seo-tpa-thank-you"}):null,o?g.createElement(P,{key:"page-settings-tab-seo-tpa-cart"}):null))}.apply(this,[e,t,a,s,n,i,o,r]),"--\x3e\r\n        "))}return function(){var e=this.props.menuItem.pageData,t=o.translate,a=this.getEditorAPI(),s=r.utils.blogTypeUtils.isBlog(this.getEditorAPI(),this.props.menuItem.pageData),n=r.utils.wixStoreTypeUtils;return g.createElement("div",{},i.apply(this,[e,t,a,s,n]))}.apply(this,[])}}),define("pagesMenu/settings/pageSettingsPanelTabsSubpage",["create-react-class","prop-types","core","coreBi","pagesMenu/settings/pageSettingsPanelTabsSubpage.rt"],function(e,t,a,s,n){"use strict";return e({displayName:"pageSettingsPanelTabsSubpage",mixins:[a.mixins.editorAPIMixin],propTypes:{menuItem:t.object.isRequired,actions:t.object},render:n,getInitialState:function(){return{activeTab:"page"}},setActiveTab:function(e){this.setState({activeTab:e}),this.getEditorAPI().bi.event(s.events.topbar.pages.top_bar_PAGES_settings_tab_click,{category:e})},getSiteName:function(){var e=this.getEditorAPI();return e.dsRead.seo.title.get()||e.siteName.get()}})}),define("pagesMenu/panels/settings/desktop/pageSettingsDesktopSubpage.rt",["react","lodash","baseUI","santa-editor-symbols","util","pagesMenu/settings/pageSettingsPanelTabsSubpage","pagesMenu/panels/settings/desktop/pageSettingsDesktopCommon"],function(a,s,n,e,i,o,r){"use strict";return function(){return function(){var e=this.props.actions,t=i.translate;return a.createElement(r,{title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel,helpId:"2f65df85-2eba-4b41-a9bf-2a841a5e5a53"},a.createElement(o,s.assign({},{ref:"pageSettingsPanelTabs"},this.props)),a.createElement("footer",{},a.createElement(n.button,{label:"Pages_Settings_Footer_Done",onClick:function(e,t){this.props.closeSettingsPanel("done")}.bind(this,e,t)})))}.apply(this,[])}}),define("pagesMenu/panels/settings/desktop/pageSettingsDesktopSubpage",["create-react-class","prop-types","lodash","core","pagesMenu/utils/pageMenuItemHelpers","coreBi","pagesMenu/panels/settings/desktop/pageSettingsDesktopSubpage.rt"],function(e,t,a,s,n,i,o){"use strict";return e({mixins:[s.mixins.editorAPIMixin],displayName:"pageSettingsDesktopSubpage",propTypes:{menuItem:t.object.isRequired,actions:t.object,closeSettingsPanel:t.func.isRequired},render:o,shouldShowDuplicateButton:function(){return n.canDuplicate(this.getEditorAPI(),this.props.menuItem)},shouldShowRemoveButton:function(){return n.canRemoveMenuItem(this.getEditorAPI(),this.props.menuItem)},duplicatePage:function(){this.props.actions.duplicate(this.props.menuItem),this.getEditorAPI().bi.event(i.events.topbar.pages.top_bar_PAGES_settings_duplicate_page_click)},deletePage:function(){var e=this.props.menuItem,t=this.getEditorAPI();this.props.closeSettingsPanel("deletePage"),t.dsActions.waitForChangesApplied(a.partial(n.remove,t,e)),t.bi.event(i.events.topbar.pages.top_bar_PAGES_settings_delete_page_click)}})}),define("pagesMenu/panels/settings/mobile/pageSettingsMobileCommon.rt",["react","lodash","pagesMenu/panels/settings/pageSettingsFrame"],function(e,t,a){"use strict";return function(){return e.createElement(a,{title:this.props.title,closeSettingsPanel:this.props.closeSettingsPanel,helpId:this.getHelpId()},e.createElement("div",{className:"page-setting-mobile page-settings-panel-content"},"\n        ",this.props.children,"\n    "))}}),define("pagesMenu/panels/settings/mobile/pageSettingsMobileCommon",["create-react-class","prop-types","core","pagesMenu/panels/settings/mobile/pageSettingsMobileCommon.rt"],function(e,t,a,s){"use strict";return e({mixins:[a.mixins.editorAPIMixin],displayName:"pageSettingsMobileCommon",propTypes:{title:t.string,closeSettingsPanel:t.func.isRequired},getHelpId:function(){return this.getEditorAPI().developerMode.isEnabled()?"2d9fb141-61ac-45e6-809d-a8f178c6c1bc":"24b83680-5690-488d-b382-ac051e329c23"},render:s})}),define("pagesMenu/panels/settings/mobile/pageSettingsMobile.rt",["react","lodash","baseUI","baseUILib","santa-editor-symbols","util","core","pagesMenu/panels/settings/mobile/pageSettingsMobileCommon"],function(e,t,a,s,n,i,o,r){"use strict";return function(){return e.createElement("div",{},this.isDynamicPage()?null:e.createElement(r,{key:"regular-page-mobile-settings",title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel},e.createElement(s.CustomScroll,{},e.createElement("div",{className:"page-info tab-inner page-settings-mobile-common-page"},e.createElement("section",{},e.createElement(s.ToggleSwitch,{value:!this.props.menuItem.isVisibleMobile,label:this.getMobileVisibilityContent(),onChange:this.changeMobileVisibility,shouldTranslate:!1})),e.createElement("section",{className:"hidden-from-desktop"},this.props.menuItem.isVisible?e.createElement("span",{key:"page-settings-mobile-visible"},e.createElement(n.symbol,{name:"desktopVisible"}),e.createElement("span",{className:"label"},i.translate("Pages_Mobile_Settings_IsVisible"))):null,this.props.menuItem.isVisible?null:e.createElement("span",{key:"page-settings-mobile-hidden"},e.createElement(n.symbol,{name:"desktopHidden"}),e.createElement("span",{className:"label"},i.translate("Pages_Mobile_Settings_IsHidden"))))))),this.isDynamicPage()&&this.shouldShowDynamicPageSettings()?e.createElement(r,{key:"dynamic-page-mobile-settings",title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel},e.createElement(s.CustomScroll,{},e.createElement("div",{className:"page-info tab-inner page-settings-mobile-common-page"},this.props.isDeveloperModeEnabled?e.createElement(s.Composites.RichTextLabeled,{key:"title-dev-mode-enabled"},e.createElement(s.TextLabel,{type:"T06",value:i.translate("Platform_Page_Settings_Mobile_View_DevTools_Enabled_Title"),shouldTranslate:!1}),e.createElement(s.RichText,{},i.translate("Platform_Page_Settings_Mobile_View_DevTools_Enabled_Text"))):null,this.props.isDeveloperModeEnabled?null:e.createElement(s.Composites.RichTextLabeled,{key:"title-dev-mode-not-enabled"},e.createElement(s.TextLabel,{type:"T06",value:i.translate("Platform_Page_Settings_Mobile_View_DevTools_Disabled_Title"),shouldTranslate:!1}),e.createElement(s.RichText,{},e.createElement("div",{},i.translate("Platform_Page_Settings_Mobile_View_DevTools_Disabled_Text")),e.createElement("br",{}),e.createElement("div",{},i.translate("Platform_Page_Settings_Mobile_View_DevTools_Disabled_Text2"))))))):null,this.isDynamicPage()&&!this.shouldShowDynamicPageSettings()?e.createElement(r,{key:"dynamic-page-mobile-settings",title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel},e.createElement(a.tabs.tab,{children:this.getAppTabContent()})):null)}}),define("pagesMenu/panels/settings/mobile/pageSettingsMobile",["react","react-dom-factories","create-react-class","prop-types","lodash","santa-editor-symbols","core","constants","util","baseUI","platform","pagesMenu/panels/settings/mobile/pageSettingsMobile.rt","coreBi","pagesMenu/utils/pageMenuItemHelpers"],function(s,e,t,a,n,i,o,r,l,p,g,c,u,d){"use strict";return t({mixins:[o.mixins.editorAPIMixin],displayName:"pageSettingsMobile",propTypes:{menuItem:a.object.isRequired,actions:a.object,isDeveloperModeEnabled:a.bool,closeSettingsPanel:a.func.isRequired,token:a.string},render:c,getMobileIconProps:function(){return this.props.menuItem.isVisibleMobile?{name:"mobileVisible",className:"mobileVisible",key:"visible"}:{name:"mobileHidden",className:"mobileHidden",key:"hidden"}},getMobileVisibilityContent:function(){return e.div({className:"toggle-with-icon"},e.span(null,s.createElement(i.symbol,this.getMobileIconProps())),e.span({className:"label"},l.translate("Pages_Mobile_Settings_Hide")))},changeMobileVisibility:function(e){d.setHidden(this.getEditorAPI(),this.props.menuItem,void 0,e),this.getEditorAPI().bi.event(u.events.topbar.pages.top_bar_PAGES_settings_hide_from_mobile_done_click,{category:e?"hide":"show"})},isDynamicPage:function(){var e=this.getEditorAPI();return!!this.props.menuItem.pageData&&!!e.dsRead.routers.getRouterDataForPageIfExist(this.props.menuItem.pageData.id)},shouldShowDynamicPageSettings:function(){var e=this.getEditorAPI(),t=[e.dsRead.platform.editorApps.DYNAMIC_PAGES.appDefId,e.dsRead.platform.editorApps.DATA_BINDING.appDefId],a=this.getAppData();return n.includes(t,a.appDefId)},getAppMobileTabs:function(e){return this.getEditorAPI().pages.dynamicPages.getDynamicPageActions(e,"pageSettings")},getAppData:function(){var e=this.getEditorAPI(),t=e.components.get.byId(this.props.menuItem.pageData.id),a=e.dsRead.routers.getRouterRef.byPage(t);if(a){var s=e.dsRead.routers.get.byRef(a);return{appDefId:s.appDefinitionId,applicationId:n.get(e.dsRead.platform.getAppDataByAppDefId(s.appDefinitionId),"applicationId")}}},getIframeFullSrc:function(e,t,a){var s=this.getEditorAPI().dsRead.platform.getAppDataByAppDefId(t);return g.utils.getFullApplicationUrl(s,e,t,a)},iframeLoadedHandler:function(){},getPostMessageHandler:function(){var e=this.getEditorAPI(),t=e.components.get.byId(this.props.menuItem.pageData.id),a={routerRef:e.dsRead.routers.getRouterRef.byPage(t),publicUrl:e.dsRead.generalInfo.getPublicUrl(),pageRef:t,origin:"dynamic_page_settings_panel_tab"};return g.platformPostMessageService.createPostMessageListener({token:this.props.token,initialData:a},this.props.token)},getAppTabContent:function(){if(this.isDynamicPage()&&!this.shouldShowDynamicPageSettings()){var e=this.getAppData(),t=this.getAppMobileTabs(this.props.menuItem.pageData.id),a=n.find(t,{type:r.PAGE_SETTINGS_TABS.PAGE_INFO});return s.createElement(p.iframe,n.assign({},{menuItem:this.props.menuItem},{key:"dynamic-page-iframe"+this.props.menuItem.pageData.id+e.appDefId,ref:"dynamic-page-iframe"+this.props.menuItem.pageData.id+e.appDefId,className:"content-iframe",appData:e,name:this.props.token,src:this.getIframeFullSrc(a.url,e.appDefId,e.applicationId),onPostMessage:this.getPostMessageHandler(this.props.token),onLoad:this.iframeLoadedHandler}))}}})}),define("pagesMenu/panels/settings/mobile/pageSettingsMobileSubpage.rt",["react","lodash","baseUI","baseUILib","pagesMenu/settings/tabs/subPages/blogSinglePostInfo","pagesMenu/settings/tabs/subPages/tpaProductPageInfo","pagesMenu/settings/tabs/subPages/tpaCartPageInfo","pagesMenu/settings/tabs/subPages/tpaThankYouPageInfo","pagesMenu/panels/settings/mobile/pageSettingsMobileCommon","core"],function(n,i,e,o,r,l,p,g,c,u){"use strict";return function(){return function(){var e=this.props.menuItem.pageData,t=u.utils.blogTypeUtils,a=u.utils.wixStoreTypeUtils,s=this.getEditorAPI();return n.createElement(c,{title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel},n.createElement(o.CustomScroll,{},n.createElement("div",{className:"wixapps-subpage"},t.isBlog(s,e)?n.createElement(r,i.assign({},{key:"page-settings-mobile-blog-single-post"},this.props)):null,a.isWixStoreProductPage(e)?n.createElement(l,i.assign({},{key:"page-settings-mobile-tpa-product-page"},this.props)):null,a.isWixStoreCartPage(e)?n.createElement(p,i.assign({},{key:"page-settings-mobile-tpa-cart-page"},this.props)):null,a.isWixStoreThankYouPage(e)?n.createElement(g,i.assign({},{key:"page-settings-mobile-tpa-thank-you-page"},this.props)):null)))}.apply(this,[])}}),define("pagesMenu/panels/settings/mobile/pageSettingsMobileSubpage",["create-react-class","prop-types","core","pagesMenu/panels/settings/mobile/pageSettingsMobileSubpage.rt"],function(e,t,a,s){"use strict";return e({mixins:[a.mixins.editorAPIMixin],displayName:"pageSettingsMobileSubpage",propTypes:{menuItem:t.object.isRequired,actions:t.object,closeSettingsPanel:t.func.isRequired},render:s})}),define("pagesMenu/specialPages/tpaPages",["lodash","core"],function(o,e){"use strict";var r=e.utils.tpaTypeUtils;function l(e,t,a){return o.includes(t,a.tpaApplicationId)&&!o.has(e,a.id)}var s={getSectionPagesDataList:function(e,t){var a,s,n=(a=e,o(t).filter(function(e){return r.isTPASpecialPage(a.dsRead,e)}).keyBy("id").value()),i=(s=n,o(t).filter(function(e){return o.has(s,e.id)}).map("tpaApplicationId").uniq().value());return o.filter(t,o.partial(l,n,i))},getSpecialPagesDataList:function(t,e){return o.filter(e,function(e){return r.isTPASpecialPage(t.dsRead,e,!0)})},getSpecialPagesDataListByTPAId:function(e,t,a){return o.filter(s.getSpecialPagesDataList(e,a||e.dsRead.pages.getPagesData()),["tpaApplicationId",t])}};return s}),define("pagesMenu/specialPages/blogPages",["lodash","core"],function(a,e){"use strict";var s=e.utils.blogTypeUtils;return{getSectionPagesDataList:function(e,t){return a.filter(t,a.partial(s.isBlogSectionPage,e))},getSpecialPagesDataList:function(e,t){return a.filter(t,s.isBlogSpecialPage)}}}),define("pagesMenu/specialPages/menuLogic",["lodash","core","pagesMenu/specialPages/tpaPages","pagesMenu/specialPages/blogPages"],function(n,e,l,p){"use strict";var a=e.utils,g=a.blogTypeUtils.isBlog,c=a.tpaTypeUtils.isTPA;return{isSpecialPage:function(e,t){return a.blogTypeUtils.isBlogSpecialPage(t)||a.tpaTypeUtils.isTPASpecialPage(e.dsRead,t)||a.dynamicTypeUtils.isDynamicPage(e,t)},isSubPageMenuItem:function(e,t){return this.isSpecialPage(e,t)&&!a.tpaTypeUtils.isPageNotVisibleInPagesMenu(e.dsRead,t)},getSectionPagesIds:function(e,t){var a=l.getSectionPagesDataList(e,t),s=p.getSectionPagesDataList(e,t);return n.union(n.map(a,"id"),n.map(s,"id"))},getSpecialPagesListBySectionPageOrBySibling:function(e,t,a){if(t){if(g(e,t))return o=e,r=a,p.getSpecialPagesDataList(o,r||o.dsRead.pages.getPagesData());if(c(t))return s=e,n=t.tpaApplicationId,i=a,l.getSpecialPagesDataListByTPAId(s,n,i)}var s,n,i,o,r;return[]}}}),define("pagesMenu",["pagesMenu/components/pageItem","pagesMenu/components/nodeContentCommon","pagesMenu/components/mixedList/nodeContentUniversalRenderer","pagesMenu/utils/pageMenuItemHelpers","pagesMenu/utils/pageUtils","pagesMenu/utils/quickActionsUtils","pagesMenu/utils/constants","pagesMenu/components/quickActionRenameMixin","pagesMenu/panels/settings/desktop/pageSettingsDesktop","pagesMenu/panels/settings/desktop/pageSettingsDesktopSubpage","pagesMenu/panels/settings/mobile/pageSettingsMobile","pagesMenu/panels/settings/mobile/pageSettingsMobileSubpage","pagesMenu/specialPages/menuLogic","pagesMenu/specialPages/blogPages","pagesMenu/specialPages/tpaPages"],function(e,t,a,s,n,i,o,r,l,p,g,c,u,d,m){"use strict";return{pageItem:e,nodeContentCommon:t,pageMenuItemHelpers:s,settingsPanels:{desktop:{mainMenu:l,subpage:p},mobile:{mainMenu:g,subpage:c}},mixedList:{nodeContentUniversalRenderer:a},mixins:{quickActionRenameMixin:r},utils:{convertPageNameToUrl:n.convertPageNameToUrl,quickActions:i,constants:o},specialPages:{menuLogic:u,blog:d,tpa:m}}});
//# sourceMappingURL=pagesMenu.min.js.map