var _createClass=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),_slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}define("mediaManagerPanelInfra/mediaManagerPanelConstants/mediaManagerPanelConstants",["util","constants"],function(e,t){"use strict";var n,a,i,r,s,o,l,d,c,u,m,p,_,h=t.MEDIA_MANAGER_MEDIA_TYPES,g=e.translate,f="media_editor_panel",I={ADD_MEDIA:"add_media",CREATE_MEDIA:"create_media",RECOMMENDED_MEDIA_CARD:"recommended_media_card",RECOMMENDED_MEDIA:"recommended_media",SITE_FILES:"recently_added",WIX_IMAGES:"free_wix_images",WIX_ILLUSTRATIONS:"free_wix_illustrations",WIX_VECTOR_ART:"free_wix_vector_art",WIX_SOCIAL_ICONS:"free_wix_social_icons",WIX_VIDEOS:"free_wix_videos",SHUTTERSTOCK_IMAGES:"shutterstock_images",SHUTTERSTOCK_VIDEOS:"shutterstock_videos"},P=(_defineProperty(n={},I.SITE_FILES,"site_files"),_defineProperty(n,I.WIX_IMAGES,"free_images"),_defineProperty(n,I.WIX_ILLUSTRATIONS,"illustrations"),_defineProperty(n,I.WIX_VECTOR_ART,"vector_art"),_defineProperty(n,I.WIX_SOCIAL_ICONS,"social_icons"),_defineProperty(n,I.WIX_VIDEOS,"free_videos"),_defineProperty(n,I.SHUTTERSTOCK_IMAGES,"shutterstock_images"),_defineProperty(n,I.SHUTTERSTOCK_VIDEOS,"shutterstock_videos"),n),E=(_defineProperty(a={},I.ADD_MEDIA,"Media_Panel_Add_Media_Section_Label"),_defineProperty(a,I.CREATE_MEDIA,"Media_Panel_Edit_ImagesVideos_Section_Label"),_defineProperty(a,I.SITE_FILES,"Media_Panel_Recently_Added_Section_Label"),_defineProperty(a,I.RECOMMENDED_MEDIA,"Media_Panel_Recommended_Section_Label"),_defineProperty(a,I.WIX_IMAGES,"Media_Panel_Wix_Images_Section_Label"),_defineProperty(a,I.WIX_VIDEOS,"Media_Panel_Wix_Videos_Section_Label"),_defineProperty(a,I.SHUTTERSTOCK_IMAGES,"Media_Panel_Shutterstock_Images_Section_Label"),_defineProperty(a,I.SHUTTERSTOCK_VIDEOS,"Media_Panel_Shutterstock_Videos_Section_Label"),a),M=(_defineProperty(i={},I.ADD_MEDIA,"Media_Panel_Add_Media_Section_Label"),_defineProperty(i,I.CREATE_MEDIA,"Media_Panel_Edit_ImagesVideos_Section_Label"),_defineProperty(i,I.SITE_FILES,"Media_Panel_Recently_Added_Section_Label"),_defineProperty(i,I.RECOMMENDED_MEDIA,"Media_Panel_Recommended_Section_Label"),_defineProperty(i,I.WIX_IMAGES,"Media_Panel_MFW_Images_Section_Label"),_defineProperty(i,I.WIX_VIDEOS,"Media_Panel_MFW_Wix_Videos_Section_Label"),_defineProperty(i,I.SHUTTERSTOCK_IMAGES,"Media_Panel_Shutterstock_Images_Section_Label"),_defineProperty(i,I.SHUTTERSTOCK_VIDEOS,"Media_Panel_Shutterstock_Videos_Section_Label"),i),S=(_defineProperty(r={},I.SITE_FILES,"Media_Panel_Results_Site_Section_Label"),_defineProperty(r,I.WIX_IMAGES,"Media_Panel_Results_Wix_Images_Section_Label"),_defineProperty(r,I.WIX_VIDEOS,"Media_Panel_Results_Wix_Videos_Section_Label"),_defineProperty(r,I.WIX_ILLUSTRATIONS,"Media_Panel_Results_Illustrations_Section_Label"),_defineProperty(r,I.WIX_VECTOR_ART,"Media_Panel_Results_Vector_Art_Section_Label"),_defineProperty(r,I.WIX_SOCIAL_ICONS,"Media_Panel_Results_Social_Icons_Section_Label"),_defineProperty(r,I.SHUTTERSTOCK_IMAGES,"Media_Panel_Results_Shutterstock_Images_Section_Label"),_defineProperty(r,I.SHUTTERSTOCK_VIDEOS,"Media_Panel_Results_Shutterstock_Videos_Section_Label"),r),y=(_defineProperty(s={},I.SITE_FILES,"Media_Panel_Results_Site_Section_Label"),_defineProperty(s,I.WIX_IMAGES,"Media_Panel_MFW_Results_Wix_Images_Section_Label"),_defineProperty(s,I.WIX_VIDEOS,"Media_Panel_MFW_Results_Wix_Videos_Section_Label"),_defineProperty(s,I.WIX_ILLUSTRATIONS,"Media_Panel_MFW_Results_Illustrations_Section_Label"),_defineProperty(s,I.WIX_VECTOR_ART,"Media_Panel_MFW_Results_Vector_Art_Section_Label"),_defineProperty(s,I.WIX_SOCIAL_ICONS,"Media_Panel_MFW_Results_Social_Icons_Section_Label"),_defineProperty(s,I.SHUTTERSTOCK_IMAGES,"Media_Panel_Results_Shutterstock_Images_Section_Label"),_defineProperty(s,I.SHUTTERSTOCK_VIDEOS,"Media_Panel_Results_Shutterstock_Videos_Section_Label"),s),T={IMAGES:"images",ILLUSTRATIONS:"illustrations",VIDEOS:"videos",VECTOR_ART:"vectorArt",SOCIAL_ICONS:"social_icons"},O=(_defineProperty(o={},T.IMAGES,"picture"),_defineProperty(o,T.ILLUSTRATIONS,"picture"),_defineProperty(o,T.SOCIAL_ICONS,"picture"),_defineProperty(o,T.VIDEOS,"video"),_defineProperty(o,T.VECTOR_ART,"shape"),o),C={IMAGE:"image",VIDEO:"video"},A="/_api/wix/digitalGoodsPriceQuote?digitalGoodsSkuGuid=",b={SHUTTERSTOCK:(l={},_defineProperty(l,C.IMAGE,A+"31396262-3737-3438-2d31-3131312d3434"),_defineProperty(l,C.VIDEO,A+"32313337-3765-3164-2D66-6164332D3131"),l),WIX:(d={},_defineProperty(d,h.PICTURE,A+"a783ee2d-0dfa-4b20-a33c-b0e5a10ed7f8"),_defineProperty(d,h.VIDEO,A+"bd349da8-aa45-4bda-856d-f2704585c2ff"),d)},D={ALL:"all",PRIVATE:"private",PUBLIC:"public",SHUTTERSTOCK:"shutterStock",UNSPLASH:"unsplash"},v=(_defineProperty(c={},I.ADD_MEDIA,"Media_Panel_Empty_Manager"),_defineProperty(c,I.CREATE_MEDIA,"Media_Panel_Edit_ImagesVideos"),_defineProperty(c,I.SITE_FILES,"Media_Panel_Recently_Added"),_defineProperty(c,I.RECOMMENDED_MEDIA,"Media_Panel_Recommended"),_defineProperty(c,I.WIX_IMAGES,"Media_Panel_Wix_Images"),_defineProperty(c,I.WIX_VIDEOS,"Media_Panel_Wix_Videos"),_defineProperty(c,I.WIX_ILLUSTRATIONS,"Media_Panel_Wix_Illustrations"),_defineProperty(c,I.WIX_VECTOR_ART,"Media_Panel_Wix_Vector_Art"),_defineProperty(c,I.WIX_SOCIAL_ICONS,"Media_Panel_Wix_Social_Icons"),_defineProperty(c,I.SHUTTERSTOCK_IMAGES,"Media_Panel_Shutterstock_Images"),_defineProperty(c,I.SHUTTERSTOCK_VIDEOS,"Media_Panel_Shutterstock_Videos"),c),N=(_defineProperty(u={},I.ADD_MEDIA,"Media_Panel_Empty_Manager"),_defineProperty(u,I.CREATE_MEDIA,"Media_Panel_Edit_ImagesVideos"),_defineProperty(u,I.SITE_FILES,"Media_Panel_Recently_Added"),_defineProperty(u,I.RECOMMENDED_MEDIA,"Media_Panel_Recommended"),_defineProperty(u,I.WIX_IMAGES,"Media_Panel_MFW_Wix_Images"),_defineProperty(u,I.WIX_VIDEOS,"Media_Panel_MFW_Wix_Videos"),_defineProperty(u,I.WIX_ILLUSTRATIONS,"Media_Panel_Wix_Illustrations"),_defineProperty(u,I.WIX_VECTOR_ART,"Media_Panel_Wix_Vector_Art"),_defineProperty(u,I.WIX_SOCIAL_ICONS,"Media_Panel_Wix_Social_Icons"),_defineProperty(u,I.SHUTTERSTOCK_IMAGES,"Media_Panel_Shutterstock_Images"),_defineProperty(u,I.SHUTTERSTOCK_VIDEOS,"Media_Panel_Shutterstock_Videos"),u),k=(_defineProperty(m={},I.SITE_FILES,function(){return{path:D.PRIVATE}}),_defineProperty(m,I.RECOMMENDED_MEDIA,function(){return{path:D.PRIVATE}}),_defineProperty(m,I.WIX_IMAGES,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return{path:D.PUBLIC+"/"+e}}),_defineProperty(m,I.WIX_VIDEOS,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return{path:D.PUBLIC+"/"+e}}),_defineProperty(m,I.SHUTTERSTOCK_IMAGES,function(){return{path:D.SHUTTERSTOCK+"/"+C.IMAGE}}),_defineProperty(m,I.SHUTTERSTOCK_VIDEOS,function(){return{path:D.SHUTTERSTOCK+"/"+C.VIDEO}}),m),R=(_defineProperty(p={},I.SITE_FILES,function(e){return{path:"search/"+D.ALL+"/"+e}}),_defineProperty(p,I.WIX_IMAGES,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return{path:"search/"+D.PUBLIC+"/"+e+"/"+t}}),_defineProperty(p,I.WIX_ILLUSTRATIONS,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return{path:"search/"+D.PUBLIC+"/"+e+"/"+t}}),_defineProperty(p,I.WIX_VECTOR_ART,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return{path:"search/"+D.PUBLIC+"/"+e+"/"+t}}),_defineProperty(p,I.WIX_SOCIAL_ICONS,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return{path:"search/"+D.PUBLIC+"/"+e+"/"+t}}),_defineProperty(p,I.WIX_VIDEOS,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return{path:"search/"+D.PUBLIC+"/"+e+"/"+t}}),_defineProperty(p,I.SHUTTERSTOCK_IMAGES,function(e){return{path:"search/"+D.SHUTTERSTOCK+"/"+e+"/"+C.IMAGE}}),_defineProperty(p,I.SHUTTERSTOCK_VIDEOS,function(e){return{path:"search/"+D.SHUTTERSTOCK+"/"+e+"/"+C.VIDEO}}),p),w=(_defineProperty(_={},h.PICTURE,C.IMAGE),_defineProperty(_,h.VIDEO,C.VIDEO),_),L=[I.WIX_VIDEOS],U=[T.IMAGES,T.VECTOR_ART,T.ILLUSTRATIONS,T.VIDEOS],V={disableExposure:!0,noDontShowAgain:!0,questionId:f+"_recommended_topics_picker",triggerEvent:"all-categories-button-click",feedbackModel:{feedbackType:"question",theme:"light",question:{title:g("Media_Panel_Recommended_FeedbackWindow_Title"),subTitle:g("Media_Panel_Recommended_FeedbackWindow_Subtitle"),justifyContent:"start"},answer:{firstLevelType:"firstlevel-image-tags",cancelButton:{label:g("Media_Panel_Recommended_FeedbackWindow_Cancel_Button")},applyButton:{choice:"apply",label:g("Media_Panel_Recommended_FeedbackWindow_Apply_Button")},tags:[]}}};return{MEDIA_MANAGER_PANEL_TITLE:"Media_Panel_Header_New_Title",MEDIA_MANAGER_OPEN_SOURCE_BASE:f,MEDIA_MANAGER_PANEL_SECTION_ID:I,PANEL_BI_SOURCE_SUFFIX:P,SHUTTERSTOCK_PAYMENT_API:"https://pix.wix.com",BLACK_ARROW_CONFIG:{messageUrl:"https://ws.wixmp.com/message",socketUrl:"wss://ws.wixmp.com/ws",tokenUrl:"//files.wix.com/users/get-batoken"},SOCKET_STATUSES:{INIT:"INIT",GOT_TOKEN:"GOT_TOKEN",GET_TOKEN_FAILED:"GET_TOKEN_FAILED",OPEN_STARTED:"OPEN_STARTED",REOPEN_STARTED:"REOPEN_STARTED",OPENED:"OPENED",CLOSED:"CLOSED"},TRANSCODING_STATUSES:{IN_DOWNLOAD_QUEUE:"IN-DOWNLOAD-QUEUE",DOWNLOADING:"DOWNLOADING",UPLOADING:"UPLOADING",IN_STORAGE:"IN-STORAGE",IN_QUEUE:"IN-QUEUE",PENDING:"PENDING",IN_PROGRESS:"INPROGRESS",PREVIEW_READY:"PREVIEW_READY",READY:"READY",FAILED:"FAILED",NONE:"NONE"},ITEMS_TO_LOAD_COUNT:6,RECOMMENDED_ITEMS_TO_LOAD_COUNT:27,RECOMMENDED_SECTION_INITIAL_VISIBLE_ITEMS_COUNT:9,SECTIONS_TITLES_MAP:E,SECTIONS_MEDIA_FROM_WIX_TITLES_MAP:M,SEARCH_SECTIONS_TITLES_MAP:S,SEARCH_SECTIONS_MEDIA_FROM_WIX_TITLES_MAP:y,PUBLIC_MEDIA_ROOT:T,PUBLIC_MEDIA_ROOT_MEDIA_TYPE_MAP:O,PRICE_INFO_URLS:b,SHUTTERSTOCK_MEDIA_TYPE:C,MEDIA_MANAGER_UPLOAD_SOURCES:{COMPUTER:"computer",IMPORT:"import",MANAGE:"manage",FACEBOOK:"facebook",INSTAGRAM:"instagram",DROPBOX:"dropbox",GOOGLE_PHOTOS:"googlePhotos",GOOGLE_DRIVE:"drive"},MEDIA_SOURCES:D,NAVIGATION_TOOLTIP_KEYS:v,NAVIGATION_MFW_TOOLTIP_KEYS:N,VIDEO_FILE_TRANSCODING_FAILED_TOOLTIP_MESSAGE:"Media_Panel_Upload_Transcoding_Error",MEDIA_MANAGER_OPEN_OPTIONS_WHEN_SEARCH:R,MEDIA_MANAGER_OPEN_OPTIONS:k,MEDIA_MANAGER_MEDIA_TYPES_SHUTTER_STOCK_MEDIA_TYPES_MAP:w,WIX_MEDIA_SECTIONS_LIST_FOR_FULL_INFO:L,ADD_TO_STAGE_METHOD:{CLICK:"click",DRAG:"drag",MEDIA_MANAGER:"media_manager"},RECOMMENDED_CARD_TOPICS:["art","nature","music","lifestyle","sports","home"],RECOMMENDED_MEDIA_QUESTION:V,RECOMMENDED_MEDIA_SECTION_ITEMS_WIX_MEDIA_ROOTS:U,RECOMMENDED_MEDIA_BUTTONS:{APPLY:"apply",SEE_ALL:"see_all",DOTS:"three_dots",DO_THIS_LATER:"do_this_later",DONT_SHOW_AGAIN:"dont_show_again",SHOW_MORE:"show_more",SETTINGS:"settings",FEEDBACK_APPLY:"feedback_apply",FEEDBACK_CANCEL:"feedback_cancel"},MEDIA_PANEL_NEVER_SHOW_RECOMMENDED_CARD_KEY:"mediaPanel_sitePrefs_neverShowRecommendedCard",RECOMMENDED_MEDIA_PRESENCE_TYPE:{NO:"no",AS_CARD:"as_card",AS_SECTION:"as_section_with_images"},MEDIA_PRODUCER:{WIX:"wixstock",SHUTTERSTOCK:"shutterstock"},OPEN_BY_URL_SOURCE:{SITE_FILES:"sitefiles",WIX_IMAGES:"wiximages",WIX_VIDEOS:"wixvideos",WIX_EXCLUSIVES_VIDEOS:"wixvideosexclusives",SHUTTERSTOCK_IMAGES:"shutterstockimages",SHUTTERSTOCK_VIDEOS:"shutterstockvideos",UNSPLASH:"unsplash"},CHECKOUT_MEDIA_TYPE:{VIDEO:"VIDEO",IMAGE:"IMAGE"},CHECKOUT_MEDIA_PRODUCER:{SHUTTERSTOCK:"shutterStock",WIXSTOCK:"wixStock"}}}),define("mediaManagerPanelInfra/mediaManagerPanelTypes/mediaManagerPanelTypes",["prop-types","mediaManagerPanelInfra/mediaManagerPanelConstants/mediaManagerPanelConstants"],function(e,t){"use strict";var n=e.shape({name:e.string.isRequired,previewUrl:e.string.isRequired,mediaType:e.string.isRequired,width:e.number,height:e.number,fileUrl:e.string,fileOutput:e.shape({image:e.arrayOf(e.object)}),transcodingStatus:e.oneOf(Object.values(t.TRANSCODING_STATUSES))});return{item:n,presetSection:{id:e.string.isRequired,title:e.string.isRequired,items:e.arrayOf(n),options:e.shape({shouldDisplayPresetName:e.bool,shouldSetBlueBackgroundToPreset:e.bool,shouldShowLoaderWhenNoItems:e.bool,mockLoadingItemsCount:e.number,getItemPrice:e.func,buyItem:e.func,onItemClick:e.func,folderId:e.string,headerActions:e.arrayOf(e.element),loaderContainerHeightInRows:e.number}),action:e.func,actionLabel:e.string}}}),define("mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelAddCompData",["lodash","util"],function(C,e){"use strict";var A=e.backgroundUtils.getMediaPlayerVideoObject,n={pdf:"40d80b8089c8418a961cb75d96d491f7.png",doc:"b8964aa7650d463fac3b77e0d00e8f12.png",docx:"b8964aa7650d463fac3b77e0d00e8f12.png",ppt:"a41192b40f324972a1d919a8350965f8.png",ppx:"a41192b40f324972a1d919a8350965f8.png",xls:"757aeccaa7f4409b93913c55e36a194d.png",xlsx:"757aeccaa7f4409b93913c55e36a194d.png",odp:"ac1fbe0592434c58889947de5714b3c7.png",odt:"ac1fbe0592434c58889947de5714b3c7.png",other:"046956f7d55f4143a30b3b54669ee243.png"},b=function(e,t){return{width:e,height:e/t}},D=function(e,t){return{width:e*t,height:e}};var t=function(e){return{type:"Component",componentType:"wysiwyg.viewer.components.LinkBar",skin:"wysiwyg.viewer.skins.LinkBarNoBGSkin",layout:{width:49*(e.length-1)+39,height:39,scale:1,rotationInDegrees:0,fixedPosition:!1},data:{type:"ImageList",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},items:C.map(e,function(e){return{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:e.title,uri:e.uri,description:"",width:200,height:200,alt:"",link:{type:"ExternalLink",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},url:"",target:"_blank"}}})},props:{type:"LinkBarProperties",metaData:{schemaVersion:"1.0"},gallery:"social_icons",iconSize:39,spacing:10,bgScale:1,orientation:"HORIZ"},style:{type:"TopLevelStyle",id:"lb1",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{groups:{displayer:{}}},componentClassName:"",pageId:"",compId:"",styleType:"system",skin:"wysiwyg.viewer.skins.LinkBarNoBGSkin"},activeModes:{}}};return{picture:function(e){var t=e.width,n=e.height,a=t,i=n,r=Math.min(600/t,600/n);return(600<t||600<n)&&(a=Math.floor(t*r),i=Math.floor(n*r)),{componentType:"wysiwyg.viewer.components.WPhoto",layout:{width:a,height:i},data:{width:e.width,height:e.height,alt:"",uri:e.uri,title:e.title,type:"Image",description:""}}},document:function(e){var t=C.split(e.uri,".").pop();return{type:"Component",componentType:"wysiwyg.viewer.components.documentmedia.DocumentMedia",layout:{width:90,height:140},data:{type:"Image",title:e.title,uri:n[t]||n.other,description:"",width:105,height:141,link:{docId:e.uri,name:e.title,type:"DocumentLink"}},style:"dm1",props:{type:"DocumentMediaProperties",showTitle:!1}}},music:function(e){return{componentType:"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer",layout:{width:304,height:60},data:{type:"SingleAudioPlayer",originalFileName:e.title,uri:e.uri},props:{autoplay:!1,loop:!1,showArtist:!0,showTrack:!0,volume:50,type:"SingleAudioPlayerProperties"},style:"SingleAudioPlayer_1"}},musicPlayer:function(e){var t=e.title,n=C.lastIndexOf(t,".");return{componentType:"wixui.MusicPlayer",layout:{width:300,height:70},data:{type:"MusicPlayerData",trackName:-1===n?t:t.slice(0,n),artistName:"",coverRef:{type:"Image",title:"wix-audio-demo-cover.jpg",uri:"f9a47e_e7631916c7e4468091c47929b7acdf8a~mv2.png",height:400,width:400},audioRef:{type:"WixAudio",title:e.title,uri:e.uri,duration:Math.floor(e.fileInput.duration/1e3)}},props:{id:"musicPlayerDefaultProps",type:"MusicPlayerProperties",showCover:!0,showArtistName:!0,showTrackName:!0,showProgressBar:!0,showTimeStamp:!0},style:"MusicPlayer_1",typ:"Component"}},video:function(e,t,n){var a,i,r,s,o,l,d,c,u,m,p,_,h,g,f,I,P,E=A(e,t),M=(a=E,(i=C.head(a.qualities)).width/i.height),S=(s=1<(r=M),r<640/240&&.375<r?s?b(640,r):D(640,r):s?D(240,r):b(240,r)),y=(o=E,l=S,d=n,c=C.omit(d("wysiwyg.viewer.components.MediaPlayer"),"data"),u=C.includes(o.mediaFeatures,"alpha"),c.design.background={type:"BackgroundMedia",mediaRef:o,alignType:"center",fittingType:"fill",imageOverlay:null,colorOverlay:"",colorOverlayOpacity:0},C.assign(c,{skin:"wysiwyg.viewer.skins.mediaPlayerSkin",style:"mp1",type:"Container",layout:{width:l.width,height:l.height}}),C.assign(c.props,{autoplay:!0,loop:!0,mute:!0,disableAudio:!1,playerInteraction:{click:u?"none":"toggle",rollIn:"none",rollOut:"none"}}),c),T=(m=86,p=S,_=n,(h=C.omit(_("wysiwyg.viewer.components.MediaOverlayControls"),"data")).layout={width:m,height:m,x:(p.width-m)/2,y:(p.height-m)/2},h.design={type:"MediaControlsDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},iconsDefaultDesign:{type:"VectorImageDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},shapeStyle:{opacity:.8,strokeOpacity:1,stroke:"#000000",enableStroke:!1,strokeWidth:1},overrideColors:{color1:"#000000"}},icons:[{type:"ControlIconDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},name:"playButton",svgId:"0da768_661bc0cafffa432db3753ad5d17e4f10.svg"}]},h.skin="skins.viewer.mediaOverlayControlsDefaultSkin",h.style={type:"TopLevelStyle",id:"mocntDefault",style:{groups:{},properties:{},propertiesSource:{}},styleType:"custom",skin:"skins.viewer.mediaOverlayControlsDefaultSkin"},h),O=(g=S,f=44,I=n,(P=C.omit(I("wysiwyg.viewer.components.MediaControls"),"data")).props.showStoryboard="none",P.layout={width:g.width,height:f,x:0,y:g.height-f},P.design={type:"MediaControlsDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},iconsDefaultDesign:{type:"VectorImageDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},shapeStyle:{opacity:1,strokeOpacity:1,stroke:"#000000",enableStroke:!1,strokeWidth:1},overrideColors:{color1:"#ffffff"}},icons:[{type:"ControlIconDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},name:"volumeOn",svgId:"0da768_4026746ebab74627a513aa0df1511dea.svg"},{type:"ControlIconDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},name:"volumeOff",svgId:"0da768_c6d2d796452644a6a4a243c3afb7b781.svg"},{type:"ControlIconDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},name:"noAudio",svgId:"0da768_c6d2d796452644a6a4a243c3afb7b781.svg",iconDesign:{type:"VectorImageDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},overrideColors:{color1:"#a9a9a9"}}}]},P.skin="skins.viewer.mediaControlsNoControlsSkin",P.style={type:"TopLevelStyle",id:"mcntLight",style:{groups:{},properties:{},propertiesSource:{}},styleType:"custom",skin:"skins.viewer.mediaControlsNoControlsSkin"},P);return y.components=[T,O],y},socialBar:t,socialIcon:function(e){return t([e])},shape:function(e){return{type:"Component",componentType:"wysiwyg.viewer.components.VectorImage",layout:{width:200,height:200},data:{type:"VectorImage",svgId:e.uri},props:{type:"VectorImageProperties",displayMode:"fit"},design:{type:"VectorImageDesignData",shapeStyle:{opacity:1},overrideColors:null},style:{type:"TopLevelStyle",style:{groups:{},properties:{},propertiesSource:{}},componentClassName:"wysiwyg.viewer.components.VectorImage",styleType:"custom",skin:"skins.viewer.VectorImageSkin"},skin:"skins.viewer.VectorImageSkin"}},swf:function(e){return{type:"Component",componentType:"wysiwyg.viewer.components.FlashComponent",layout:{width:e.width,height:e.height},data:{type:"LinkableFlashComponent",title:e.title,uri:e.fileName,metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},placeHolderImage:{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Default Flash",uri:"7ff659c252dfd1ca5c76533695cb9611.wix_mp",description:"Some description here",width:128,height:128,alt:""}},props:{type:"FlashComponentProperties",metaData:{schemaVersion:"1.0"},displayMode:"original"},skin:"swf1"}}}}),define("mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelUtils",["lodash","thumbnail-generator","util","coreUtilsLib","constants","experiment","mediaManagerPanelInfra/mediaManagerPanelConstants/mediaManagerPanelConstants","mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelAddCompData"],function(h,r,e,a,t,n,i,s){"use strict";var o=e.url,g=t.MEDIA_MANAGER_MEDIA_TYPES,l=i.MEDIA_SOURCES,d=i.MEDIA_MANAGER_UPLOAD_SOURCES,c=i.TRANSCODING_STATUSES,u=i.PUBLIC_MEDIA_ROOT,m=i.MEDIA_MANAGER_OPEN_SOURCE_BASE,p=i.PANEL_BI_SOURCE_SUFFIX,_=i.MEDIA_MANAGER_PANEL_SECTION_ID,f=i.MEDIA_PRODUCER,I=i.SHUTTERSTOCK_MEDIA_TYPE,P=function(e){return e.source===l.SHUTTERSTOCK},E=function(e){return e.source===l.PUBLIC},M=function(e,t,n,a,i){return o.joinURL(function(e){switch(e){case l.PRIVATE:case l.PUBLIC:return"https://static.wixstatic.com";case l.SHUTTERSTOCK:default:return""}}(e),r.resize(t,{width:n,height:a,mode:i},r.ResizeAPI.Vanbrandt))},S=function(e){return h(e||"").split(".").last()},y=function(e){var t=e.fileUrl,n=S(t);return n===t?"":n},T=function(e,t){return e.mediaType===t},O=function(e,t){return h.includes(t,e.mediaType)},C=function(e){return e<10?"0"+e:""+e},A=function(e){return(P(e)?h.get(e,"fileInfo.aspect"):e.width/e.height)||(T(e,g.VIDEO)?1.777:1)},b=function(e,t,n){var a=Math.min(e,n);return a<t?a:Math.max(a,t)},D=function(e){return h.replace(e,/.*\//,"")},v=function(e){return e.mediaType===g.VIDEO},N=function(e){var t=e.systemTags||[];return h.includes(t,"paid")};return{isRecentlyAddedSection:function(e){return e===i.MEDIA_MANAGER_PANEL_SECTION_ID.SITE_FILES},isItemOfType:T,isItemOneOfTypes:O,isSocialIconsRoot:function(e){return e===u.SOCIAL_ICONS},generatePictureThumbnailUrl:function(e,t,n,a){return P(e)?e.thumbnailUrl:E(e)&&N(e)?e.thumbnailUrl:M(e.source,e.fileUrl,t,n,a)},generatePicturePreviewUrl:function(e,t,n,a){return P(e)?e.previewUrl:M(e.source,e.fileUrl,t,n,a)},getVideoThumbnailUrl:function(e,t,n,a){var i=e.thumbnailUrl;if(P(e))return i;var r=h.get(e,"fileOutput.image",[]),s=r.length&&h.last(r).url||i;return s===i?i:M(e.source,s,t,n,a)},getPrivateMediaFileExtension:y,getReadableDuration:function(e){var t=parseInt(e/1e3,10),n=t%60,a=parseInt(t/60,10),i=0;return 60<a&&(i=parseInt(a/60,10),a%=60),(i?C(i)+":":"")+C(a)+":"+C(n)},getPreviewRatio:A,getPreviewDimension:function(e,t,n,a,i){var r=A(e),s=P(e)||!e.width?n:b(e.width,t,n),o=P(e)||!e.height?i:b(e.height,a,i),l=1<=r?{width:s,height:Math.round(s/r)}:{width:Math.round(o*r),height:o};return l.width>n&&(l={width:n,height:Math.round(n/r)}),l},requestShutterStockItemsPrice:function(e,t,n){return a.requestsUtil.fetchJson(e,{credentials:"same-origin",method:"GET",headers:new Headers({Authorization:n})})},timeNow:function(){return Date.now()},prepareItemBeforeAddComponent:function(n){var e=n.id,t=n.mediaType,a=n.name,i=n.width,r=n.height,s=n.fileInput,o=n.fileOutput,l=n.embedHtml,d=n.externalSources,c=n.labels,u=n.tags,m=n.fileUrl,p=void 0===m?"":m,_={id:e,mediaType:t,fileName:D(p),uri:D(p),fileUrl:p,title:h.slice(a,0,40).join(""),fileInput:s,fileOutput:o,labels:c,tags:u};return O(n,[g.PICTURE,g.VIDEO,g.SWF])&&(_.width=i,_.height=r),T(n,g.VIDEO)&&(_.embedHtml=h.isUndefined(l)?null:l,_.externalSources=h.isUndefined(d)?null:d,_.fileBaseUrl=p.split("/").slice(0,2).join("/")),h.forEach(["thumbnailUrl","previewUrl","source"],function(e){var t;h.isUndefined(_[e])&&(_[e]=/Url/i.test(e)?(t=n[e],h.replace(t,/(http:\/\/[^\/]+\/)/i,"")):n[e])}),_},isAddMediaSection:function(e){return e===_.ADD_MEDIA},isRecommendedMediaCard:function(e){return e===_.RECOMMENDED_MEDIA_CARD},isRecommendedMediaSection:function(e){return e===_.RECOMMENDED_MEDIA},isCreateMediaSection:function(e){return e===_.CREATE_MEDIA},isUploadAddMediaSource:function(e){return e===d.COMPUTER},isManageAddMediaSource:function(e){return e===d.MANAGE},isImportAddMediaSource:function(e){return e===d.IMPORT},canShowPreviewForItem:function(e){return O(e,[g.PICTURE,g.SHAPE,g.VIDEO])},isVideoFileTranscodingFailed:function(e){return e.transcodingStatus===c.FAILED},isVideoFileTranscodedSuccessfully:function(e){var t=e.transcodingStatus;return h.isUndefined(t)||t===c.READY},isVideoFileTranscodingInProgress:function(e){var t=e.transcodingStatus;return Boolean(t)&&!h.includes([c.READY,c.FAILED],t)},getNthOrFirstItem:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]?e[t]:h.head(e)},getTopVisibleSectionIndex:function(e,a,t){var n=0;0<a&&(n=a+t>=h.last(e)[1]?e.length-1:h.reduce(e,function(e,t,n){return t[0]<=a&&t[1]>a?n:e},0));return n},transformSectionsDOMInstancesToDimensionIntervals:function(e){return h.map(e,function(e){var t=Math.floor(e.offsetTop);return[t,t+Math.floor(e.offsetHeight)+parseInt(window.getComputedStyle(e).marginBottom,10)]})},shiftDOMInstanceIntervals:function(e,i){return h.map(e,function(e){var t=_slicedToArray(e,2),n=t[0],a=t[1];return[n-i,a-i]})},sectionIdToBiField:function(e){return h.toLower(e)},tagsToString:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return h.join(e,",")},getComponentStructureCreator:function(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).isSocialIcon?s.socialIcon:e.mediaType===g.MUSIC&&n.isOpen("se_audioPlayerAddPanel")?s.musicPlayer:s[e.mediaType]},mapPublicMediaSubcategoryToRoot:function(e){return h.reduce(e,function(e,t){var n=t.id,a=function n(e){var t=e.subFolders;return t&&t.length?h.reduce(t,function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(n(t)))},[]):[e.id]}(t);return h.assign({},e,h.reduce(a,function(e,t){return h.assign({},e,_defineProperty({},t,n))},{}))},{})},extractFolderIdFromPath:function(e){if(!e)return"";var t=h.split(e,"/"),n=h.head(t);if("search"===n)return function(e){switch(h.nth(e,1)){case l.PRIVATE:return h.nth(e,3)||"";case l.PUBLIC:return h.nth(e,4);default:return""}}(t);switch(n){case l.PRIVATE:return h.nth(t,1)||"";case l.PUBLIC:return h.nth(t,2);default:return""}},getComposedComponentStructureCreator:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).isSocialIcon?s.socialBar:null},generateMediaManagerOpenSource:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return m+"_"+p[e]+(t?"_search":"")},generateMediaManagerAddMediaSectionOpenSource:function(e){return m+"_add_media_section_"+e},findFirstParentButtonNode:function(e){return function e(t){return t&&t.tagName?"button"===h.toLower(t.tagName)?t:e(t.parentNode):null}(e)},getComponentStructureSkin:function(e){return h.get(e,"style.skin")||e.skin||e.style},isPublicMediaFilePaid:N,isPublicMediaItem:E,selectExpandedCategories:function(t,e){return h.map(e,function(e){return h.includes(t,e.id)?h.assign({},e,{isSelected:!0}):e})},addComponentData:s,filterOutSectionsItemsIds:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){return!0};return h(e).flatMap("items").compact().filter(t).map("id").value()},isVideoItem:v,sectionsListToObj:function(e){return h.keyBy(e,"id")},isSiteMediaTokenFromTemplateSite:function(e){try{var t=JSON.parse(JSON.parse(window.atob(h.split(e,".")[2])).data).metasiteId;return h.includes(t,"_template_")}catch(e){return!1}},getMediaProducer:function(e){return E(e)?f.WIX:f.SHUTTERSTOCK},getFileExtension:function(e){return e.source===l.PRIVATE?y(e):E(e)?v(t=e)?"mp4":S(t.fileName):v(e)?"mp4":"jpg";var t},generateBiSectionId:function(e,t){if(!h.isEqual(e,_.SITE_FILES))return e;var n=h.get(t,"tags",[]),a=h.includes(n,"_shutterstock"),i=h.includes(n,"_wixstock"),r="";return a?r=f.SHUTTERSTOCK:i&&(r=f.WIX),r?r+"_"+t.mediaType:e},generateMediaManagerOpenPathFromUrlParam:function(e){var t=i.OPEN_BY_URL_SOURCE;switch(e){case t.SITE_FILES:return l.PRIVATE;case t.WIX_IMAGES:return""+l.PUBLIC;case t.WIX_VIDEOS:return l.PUBLIC+"/8e256233-1752-4026-9341-54036e7f875e";case t.WIX_EXCLUSIVES_VIDEOS:return l.PUBLIC+"/8e256233-1752-4026-9341-54036e7f875e/834e0f2d-9836-40c8-a73a-2a4627a84ca2";case t.SHUTTERSTOCK_IMAGES:return l.SHUTTERSTOCK+"/"+I.IMAGE;case t.SHUTTERSTOCK_VIDEOS:return l.SHUTTERSTOCK+"/"+I.VIDEO;case t.UNSPLASH:return""+l.UNSPLASH;default:return l.PRIVATE}},getMediaManagerSectionIdBasedOnUrlParam:function(e){var t=i.OPEN_BY_URL_SOURCE;switch(e){case t.SITE_FILES:return _.SITE_FILES;case t.WIX_IMAGES:return _.WIX_IMAGES;case t.WIX_VIDEOS:return _.WIX_VIDEOS;case t.SHUTTERSTOCK_IMAGES:return _.SHUTTERSTOCK_IMAGES;case t.SHUTTERSTOCK_VIDEOS:return _.SHUTTERSTOCK_VIDEOS;case t.UNSPLASH:default:return _.SITE_FILES}}}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/mediaPreview.rt",["react","lodash","baseUILib"],function(e,t,n){"use strict";return function(){return e.createElement("div",{className:"media-manager-media-preview"},e.createElement("div",{className:"media-manager-media-preview__content "+t({"with-blue-background":this.isBackgroundBlue()}).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),style:this.getContentStyle()},this.isPictureItemPreview()?e.createElement("div",{className:"media-manager-media-preview__"+this.getItemMediaType(),style:this.getPicturePreviewStyle(),key:"picture"}):null,this.isVideoItemPreview()?e.createElement("video",{className:"media-manager-media-preview__video",src:this.getVideoPreviewUrl(),autoPlay:!0,muted:!0,loop:!0,ref:"videoInstance",key:"video"}):null),e.createElement("div",{className:"media-manager-media-preview__footer",style:this.getFooterStyle()},e.createElement("div",{style:this.getTitleTextWrapperStyle()},e.createElement("div",{className:"media-manager-media-preview__title-text"},e.createElement(n.TextLabel,{value:this.getName(),type:"T07",shouldTranslate:!1,enableEllipsis:!1}))),e.createElement("div",{className:"media-manager-media-preview__duration"},e.createElement(n.TextLabel,{value:this.getDuration(),type:"T07",shouldTranslate:!1,enableEllipsis:!1}))))}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/mediaPreview",["reactDOM","create-react-class","prop-types","lodash","util","constants","mediaManagerPanelInfra/mediaManagerPanelTypes/mediaManagerPanelTypes","mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelUtils","mediaManagerPanelInfra/mediaManagerPanelPresets/components/mediaPreview.rt"],function(e,t,n,a,i,r,s,o,l){"use strict";var d=i.imageTransform,c=r.MEDIA_MANAGER_MEDIA_TYPES;return t({displayName:"MediaManagerPanelMediaPreview",propTypes:{item:s.item.isRequired,isBackgroundBlue:n.bool},getInitialState:function(){return{dimension:o.getPreviewDimension(this.props.item,120,228,120,342)}},componentWillUnmount:function(){this.isVideoItemPreview()&&this.unmountVideoSafely()},unmountVideoSafely:function(){var e=this.getVideoInstance();e.pause(),e.src="",e.load()},getVideoInstance:function(){return e.findDOMNode(this.refs.videoInstance)},getName:function(){return this.props.item.name},getDimension:function(){return this.state.dimension},getContentStyle:function(){var e=this.getDimension(),t=e.width,n=e.height;return{width:Math.max(t,120),height:n}},getPicturePreviewStyle:function(){var e=this.getDimension(),t=e.width,n=e.height;return{backgroundImage:"url('"+this.getPicturePreviewUrl()+"')",width:t,height:n}},getItemMediaType:function(){return this.props.item.mediaType},getFooterStyle:function(){return{maxWidth:Math.max(this.getDimension().width,120)+"px"}},getTitleTextWrapperStyle:function(){return this.getFooterStyle()},isBackgroundBlue:function(){return this.props.isBackgroundBlue},isVideoItemPreview:function(){return o.isItemOfType(this.props.item,c.VIDEO)},isPictureItemPreview:function(){return o.isItemOneOfTypes(this.props.item,[c.PICTURE,c.SHAPE])},getPicturePreviewUrl:function(){var e=this.getDimension(),t=e.width,n=e.height;return o.generatePicturePreviewUrl(this.props.item,t,n,d.fittingTypes.SCALE_TO_FILL)},getVideoPreviewUrl:function(){return a.head(this.props.item.videoPreviewUrls)||""},getDuration:function(){var e=a.get(this.props.item,"fileInput.duration",null);return a.isNull(e)?e:o.getReadableDuration(e)},render:l})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnailExtensionLabel.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"media-manager-panel-preset-extension-label"},"\n  ",this.props.label,"\n")}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnailExtensionLabel",["create-react-class","prop-types","mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnailExtensionLabel.rt"],function(e,t,n){"use strict";return e({displayName:"thumbnailExtensionLabel",propTypes:{label:t.string.isRequired},render:n})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnail.rt",["react","lodash","constants","santa-editor-symbols","mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnailExtensionLabel"],function(t,n,a,i,r){"use strict";return function(){return function(){var e=a.MEDIA_MANAGER_MEDIA_TYPES;return t.createElement("div",{className:"media-manager-panel-preset-thumbnail "+n({"with-blue-background":this.isBackgroundBlue()}).transform(function(e,t,n){t&&e.push(n)},[]).join(" ")},this.isItemOneOfTypes([e.PICTURE,e.SHAPE])?t.createElement("div",{className:n(_defineProperty({},this.getMediaType(),!0)).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),key:"picture"},t.createElement("img",{className:"media-manager-panel-preset-thumbnail__picture-image",src:this.getPictureThumbnailUrl(),onError:this.handlePictureError})):null,this.isItemOfType(e.VIDEO)?t.createElement("div",{className:n(_defineProperty({},this.getMediaType(),!0)).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),style:{backgroundImage:"url('"+this.getVideoThumbnailUrl()+"')"},key:"video"},t.createElement("div",{className:"media-manager-panel-preset-thumbnail__video-symbol"},t.createElement(i.symbol,{name:"bgVideoIndicator"})),t.createElement("div",{className:"media-manager-panel-preset-thumbnail__video-bottom-overlay"})):null,this.isItemOfType(e.MUSIC)?t.createElement("div",{className:n(_defineProperty({},this.getMediaType(),!0)).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),key:"music"},t.createElement(i.symbol,{name:"empty-document-illustration"}),t.createElement("div",{className:"media-manager-panel-preset-thumbnail__music-control-wrapper"},t.createElement("div",{className:"media-manager-panel-preset-thumbnail__music-symbol"},t.createElement(i.symbol,{name:"music"})))):null,this.isItemOneOfTypes([e.DOCUMENT,e.SWF])?t.createElement("div",{className:n(_defineProperty({},this.getMediaType(),!0)).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),key:"document"},t.createElement(i.symbol,{name:"document-illustration"})):null,this.isItemOneOfTypes([e.DOCUMENT,e.MUSIC,e.SWF])&&this.hasExtension()?t.createElement("div",{className:"media-manager-panel-preset-thumbnail__extension-label",key:"label"},t.createElement(r,{label:this.getExtension()})):null)}.apply(this,[])}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnail",["create-react-class","prop-types","lodash","util","mediaManagerPanelInfra/mediaManagerPanelTypes/mediaManagerPanelTypes","mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelUtils","mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnail.rt"],function(e,t,n,a,i,r,s){"use strict";var o=a.imageTransform;return e({displayName:"MediaManagerPanelItemThumbnail",propTypes:{item:i.item.isRequired,onPictureError:t.func.isRequired,isBackgroundBlue:t.bool},imageSize:90,isBackgroundBlue:function(){return this.props.isBackgroundBlue},getMediaType:function(){return this.props.item.mediaType},getPictureThumbnailUrl:function(){var e=this.imageSize;return r.generatePictureThumbnailUrl(this.props.item,e,e,o.fittingTypes.SCALE_TO_FILL)},getVideoThumbnailUrl:function(){var e=this.imageSize;return r.getVideoThumbnailUrl(this.props.item,e,e,o.fittingTypes.SCALE_TO_FILL)},hasExtension:function(){return Boolean(r.getPrivateMediaFileExtension(this.props.item))},getExtension:function(){return"."+n.toUpper(r.getPrivateMediaFileExtension(this.props.item))},isItemOfType:function(e){return r.isItemOfType(this.props.item,e)},isItemOneOfTypes:function(e){return r.isItemOneOfTypes(this.props.item,e)},handlePictureError:function(){n.invoke(this.props,"onPictureError")},render:s})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/preset.rt",["react","lodash","baseUI","baseUILib","santa-editor-symbols","constants","mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnail"],function(n,t,a,i,r,s,o){"use strict";return function(){return function(){var e=this.props.item;return n.createElement("div",{className:"media-manager-panel-preset",onClick:this.handlePresetClick,onMouseDown:function(e,t){this.handlePresetMouseDown(t)}.bind(this,e),ref:"presetInstance"},n.createElement(a.tooltip,{value:this.getItemPreviewElement(e),disabled:this.shouldDisablePreview(),styleType:s.UI.TOOLTIP.STYLE_TYPE.CONTENT_ONLY,noArrow:!0,alignment:"right",delay:"300",width:"252px"},n.createElement("div",{},this.hasPriceInfo()?function(e){var t=this.getPriceInfo();return n.createElement("div",{className:"media-manager-panel-preset__purchase-overlay",key:"presetOverlay","data-hook":"media-manager-panel-buy_item_button_wrapper"},n.createElement(i.Button,{className:"btn-sm media-manager-panel-preset__buy-item-button"},n.createElement("span",{dangerouslySetInnerHTML:{__html:t.symbol}}),n.createElement("span",{},t.value)))}.apply(this,[e]):null,this.shouldRenderTranscodingOverlay()?n.createElement("div",{className:"media-manager-panel-preset__transcoding-overlay",key:"videoTranscodingOverlay"},this.isTranscodingInProgress()||this.hasPictureLoadingError?n.createElement("div",{className:"media-manager-panel-preset__transcoding-indicator",key:"transcodingPreloader"},n.createElement(i.Composites.Preloader,{},n.createElement(i.Preloader,{}))):null,this.isTranscodingFailed()?n.createElement(a.tooltip,{value:this.getFailedTranscodingTooltipValue(),width:"171px",key:"transcodingFailedMessage"},n.createElement("div",{className:"media-manager-panel-preset__transcoding-failed-icon"},n.createElement(r.symbol,{name:"media-manager-panel-failed-transcoding-icon"}))):null):null,n.createElement("div",{className:"media-manager-panel-preset__thumbnail "+t({"with-error":this.hasPictureLoadingError}).transform(function(e,t,n){t&&e.push(n)},[]).join(" ")},n.createElement(o,{item:e,isBackgroundBlue:this.isBackgroundBlue(),onPictureError:this.handlePictureError})))),this.shouldDisplayName()?n.createElement("div",{className:"media-manager-panel-preset__title",key:"title"},n.createElement(i.TextLabel,{value:e.name,type:"T12",shouldTranslate:!1})):null)}.apply(this,[])}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/preset",["react","reactDOM","prop-types","lodash","constants","util","mediaManagerPanelInfra/mediaManagerPanelTypes/mediaManagerPanelTypes","mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelUtils","mediaManagerPanelInfra/mediaManagerPanelConstants/mediaManagerPanelConstants","mediaManagerPanelInfra/mediaManagerPanelPresets/components/mediaPreview","mediaManagerPanelInfra/mediaManagerPanelPresets/components/preset.rt"],function(t,a,e,i,n,r,s,o,l,d,c){"use strict";var u=r.hoc.withDoubleClickPrevention,m=n.MEDIA_MANAGER_MEDIA_TYPES,p=function(e){function n(e){_classCallCheck(this,n);var t=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={hasPictureLoadingError:!1},i.bindAll(t,["handlePresetClick","handlePictureError"]),t}return _inherits(n,t.Component),_createClass(n,[{key:"getPresetInstance",value:function(){return a.findDOMNode(this.refs.presetInstance)}},{key:"shouldDisplayName",value:function(){return this.props.shouldDisplayName}},{key:"isBackgroundBlue",value:function(){return this.props.isBackgroundBlue}},{key:"isVideo",value:function(){return o.isItemOfType(this.item,m.VIDEO)}},{key:"canPresetBeUsed",value:function(){var e=this.isVideo();return!this.hasPictureLoadingError&&(!e||e&&!this.isTranscodingFailed())}},{key:"isTranscodingInProgress",value:function(){return o.isVideoFileTranscodingInProgress(this.item)}},{key:"isTranscodingFailed",value:function(){return o.isVideoFileTranscodingFailed(this.item)}},{key:"isTranscodedSuccessfully",value:function(){return o.isVideoFileTranscodedSuccessfully(this.item)}},{key:"shouldRenderTranscodingOverlay",value:function(){return this.hasPictureLoadingError||this.isVideo()&&(this.isTranscodingInProgress()||this.isTranscodingFailed())}},{key:"getFailedTranscodingTooltipValue",value:function(){return l.VIDEO_FILE_TRANSCODING_FAILED_TOOLTIP_MESSAGE}},{key:"getItemPreviewElement",value:function(e){return t.createElement(d,{item:e,isBackgroundBlue:this.isBackgroundBlue()})}},{key:"shouldDisablePreview",value:function(){return this.hasPictureLoadingError||!o.canShowPreviewForItem(this.item)||this.isVideo()&&!this.isTranscodedSuccessfully()}},{key:"getPriceInfo",value:function(){return this.props.priceInfo}},{key:"hasPriceInfo",value:function(){return Boolean(this.getPriceInfo())}},{key:"handlePictureError",value:function(){this.setState({hasPictureLoadingError:!0})}},{key:"buyItem",value:function(){i.invoke(this.props,"onBuyItem",this.item)}},{key:"handlePresetClick",value:function(e){var t=this.props.isAnotherMouseActionAllowed(e);t&&this.canPresetBeUsed()&&!this.canBePurchased&&(i.invoke(this.props,"onClick",this.item),this.props.setClickTimeStamp(e)),t&&this.canBePurchased&&(this.buyItem(),this.props.setClickTimeStamp(e))}},{key:"handlePresetMouseDown",value:function(e){if(e.preventDefault(),e.persist(),this.props.isAnotherMouseActionAllowed(e)&&this.canPresetBeUsed()&&!this.canBePurchased){var t=this.getPresetInstance();i.invoke(this.props,"onItemDrag",e,{item:this.item,rect:i.pick(t.getBoundingClientRect(),["left","top","width","height"])})}}},{key:"render",value:function(){return c.call(this)}},{key:"item",get:function(){return this.props.item}},{key:"hasPictureLoadingError",get:function(){return this.state.hasPictureLoadingError}},{key:"canBePurchased",get:function(){return this.hasPriceInfo()&&i.isFunction(this.props.onBuyItem)}}]),n}();return p.propTypes={item:s.item.isRequired,priceInfo:e.shape({value:e.number,symbol:e.string}),shouldDisplayName:e.bool,isBackgroundBlue:e.bool,onBuyItem:e.func,onClick:e.func,onItemDrag:e.func,setClickTimeStamp:e.func.isRequired,isAnotherMouseActionAllowed:e.func.isRequired},p.defaultProps={shouldDisplayName:!0},u(p)}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/section.rt",["react","lodash","santa-editor-symbols","mediaManagerPanelInfra/mediaManagerPanelPresets/components/preset"],function(e,t,n,a){"use strict";return function(){return e.createElement("div",{className:"media-manager-panel-section "+this.getSectionClassName(),"data-hook":this.props.dataHook},e.createElement("div",{className:"media-manager-panel-section__header-wrapper"},e.createElement("div",{className:"media-manager-panel-section__header"},e.createElement("span",{},"\n      ",this.props.title,"\n    "),e.createElement("span",{className:"media-manager-panel-section__header-actions"},"\n      ",this.props.headerActions,"\n    "))),e.createElement("div",{className:"media-manager-panel-section__content "+t({"media-manager-panel-section__content-with-paddings":!this.props.disabledContentPaddings}).transform(function(e,t,n){t&&e.push(n)},[]).join(" ")},"\n    ",this.props.children,"\n  "))}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/section",["create-react-class","prop-types","lodash","mediaManagerPanelInfra/mediaManagerPanelPresets/components/section.rt"],function(e,t,n,a){"use strict";return e({displayName:"MediaManagerPanelSection",propTypes:{title:t.string.isRequired,className:t.string,children:t.node.isRequired,headerActions:t.arrayOf(t.element),disabledContentPaddings:t.bool,dataHook:t.string},getDefaultProps:function(){return{disabledContentPaddings:!1}},getSectionClassName:function(){return this.props.className||""},render:a})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/presetSection.rt",["react","lodash","baseUILib","santa-editor-symbols","mediaManagerPanelInfra/mediaManagerPanelPresets/components/section","mediaManagerPanelInfra/mediaManagerPanelPresets/components/preset"],function(n,e,t,a,i,r){"use strict";return function(){return n.createElement(i,{title:this.props.title,headerActions:this.props.headerActions,dataHook:this.getDataHook()},this.shouldShowItems()?n.createElement("div",{className:"media-manager-panel-preset-section__content",key:"section-content-items"},n.createElement.apply(this,["ul",{className:"media-manager-panel-preset-section__presets"},e.map(this.props.items,function(e,t){return n.createElement("li",{className:"media-manager-panel-preset-section__preset",key:e.id},n.createElement(r,{item:e,priceInfo:this.getItemPrice(e),onBuyItem:this.buyItem,onClick:this.onItemClick,onItemDrag:this.onItemDrag,shouldDisplayName:this.shouldDisplayPresetName(),isBackgroundBlue:this.shouldSetBlueBackgroundToPreset()}))}.bind(this))]),this.props.action?n.createElement("div",{className:"media-manager-panel-preset-section__action-wrapper",key:"sectionAction"},n.createElement(t.Button,{className:"media-manager-panel-preset-section__action btn-sm btn-light",onClick:function(){this.props.action()}.bind(this)},n.createElement("span",{className:"media-manager-panel-preset-section__action-content-wrapper"},n.createElement("span",{className:"media-manager-panel-preset-section__action-text"},"\n              ",this.getActionLabel(),"\n            "),n.createElement(a.symbol,{name:"arrowRightSmall"})))):null):null,this.shouldShowMocksWhenNoItems()?n.createElement("div",{className:"media-manager-panel-preset-section__content-mocks",key:"section-content-items-mocks"},n.createElement.apply(this,["ul",{className:"media-manager-panel-preset-section__presets"},e.map(this.generateMockItems(),function(e,t){return n.createElement("li",{className:"media-manager-panel-preset-section__preset media-manager-panel-preset-section__preset-mock",key:e.id})}.bind(this))])):null,this.shouldShowLoaderWhenNoItems()?n.createElement("div",{className:"media-manager-panel-preset-section__loader",style:{height:this.getLoaderContainerHeight()},key:"no-items-loader"},n.createElement(t.Composites.Preloader,{},n.createElement(t.Preloader,{className:"medium"}),n.createElement(t.TextLabel,{value:this.getNoItemsLoaderText()}))):null)}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/presetSection",["create-react-class","lodash","util","experiment","mediaManagerPanelInfra/mediaManagerPanelTypes/mediaManagerPanelTypes","mediaManagerPanelInfra/mediaManagerPanelPresets/components/presetSection.rt"],function(e,n,t,a,i,r){"use strict";var s=t.translate;return e({displayName:"MediaManagerPanelPresetSection",propTypes:i.presetSection,getActionLabel:function(){return this.props.actionLabel||(a.isOpen("se_mediaPanelShowRecommendedMedia")?s("Media_Panel_Results_Show_All_Label_OnHover"):s("Media_Panel_Results_Show_More_Label_OnHover"))},hasItems:function(){return!n.isEmpty(this.props.items)},shouldDisplayPresetName:function(){return n.get(this.props,["options","shouldDisplayPresetName"],!1)},shouldShowItems:function(){return this.hasItems()},getMockItemsCount:function(){return n.get(this.props,["options","mockLoadingItemsCount"],0)},shouldShowMocksWhenNoItems:function(){var e=this.getMockItemsCount();return!this.hasItems()&&Boolean(e)},shouldShowLoaderWhenNoItems:function(){return!this.hasItems()&&!this.shouldShowMocksWhenNoItems()&&n.get(this.props,["options","shouldShowLoaderWhenNoItems"],!1)},getLoaderContainerHeight:function(){return 108*(this.props.options.loaderContainerHeightInRows||1)},getNoItemsLoaderText:function(){return"Media_Panel_Recommended_Loading_Text"},shouldSetBlueBackgroundToPreset:function(){return Boolean(n.get(this.props,["options","shouldPresetHaveBlueBackground"],!1))},getItemPrice:function(e){return n.invoke(this.props.options,"getItemPrice",e)},buyItem:function(e){n.invoke(this.props.options,"buyItem",e,this.props.id)},onItemClick:function(e){n.invoke(this.props.options,"onItemClick",{id:this.props.id,folderId:this.props.options.folderId,item:e})},onItemDrag:function(e,t){n.invoke(this.props.options,"startItemDrag",{event:e,dragItemInfo:t,folderId:this.props.options.folderId,id:this.props.id})},generateMockItems:function(){var e=this.getMockItemsCount();return n(e).range().map(function(e){return{id:"mock-"+e}}).value()},getDataHook:function(){return"media-manager-panel-"+n.toLower(this.props.id)+"_section"},render:r})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/addMediaSection.rt",["react","lodash","santa-editor-symbols","baseUI","constants","mediaManagerPanelInfra/mediaManagerPanelPresets/components/section"],function(i,r,s,o,t,n){"use strict";return function(){return function(){var e=t.MEDIA_MANAGER_UPLOAD_SOURCES;return i.createElement(n,{className:"media-manager-panel-add-media-section",title:this.props.title},i.createElement.apply(this,["ul",{className:"media-manager-panel-add-media-section__sources"},r.map(this.getSources(),function(e,t,n){var a=this;return i.createElement("li",{className:"media-manager-panel-add-media-section__source",key:t},i.createElement(o.tooltip,{value:this.getSourceTooltipText(t),delay:"300"},i.createElement("button",{className:"media-manager-panel-add-media-section__source-button "+r({"media-manager-panel-add-media-section__upload-button":this.isLocalSource(t)}).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),onClick:function(){return a.handleAddMediaButtonClick(t)}},i.createElement(s.symbol,{name:this.getIconName(t),key:"externalSource"}))))}.bind(this,e))]))}.apply(this,[])}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/addMediaSection",["create-react-class","prop-types","lodash","mediaManagerPanelInfra/mediaManagerPanelConstants/mediaManagerPanelConstants","mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelUtils","mediaManagerPanelInfra/mediaManagerPanelPresets/components/addMediaSection.rt"],function(e,t,n,a,i,r){"use strict";var s,o,l=a.MEDIA_MANAGER_UPLOAD_SOURCES,d=(_defineProperty(s={},l.COMPUTER,"upload-btn"),_defineProperty(s,l.FACEBOOK,"media-manager-panel-facebook-icon"),_defineProperty(s,l.INSTAGRAM,"media-manager-panel-instagram-icon"),_defineProperty(s,l.GOOGLE_DRIVE,"media-manager-panel-googledrive-icon"),_defineProperty(s,l.GOOGLE_PHOTOS,"media-manager-panel-googlephotos-icon"),s),c=(_defineProperty(o={},l.COMPUTER,"Media_Panel_Upload_Upload_Media_Tooltip"),_defineProperty(o,l.FACEBOOK,"Media_Panel_Upload_Facebook_Tooltip"),_defineProperty(o,l.INSTAGRAM,"Media_Panel_Upload_Instagram_Tooltip"),_defineProperty(o,l.GOOGLE_DRIVE,"Media_Panel_Upload_Google_Drive_Tooltip"),_defineProperty(o,l.GOOGLE_PHOTOS,"Media_Panel_Upload_Google_Photos_Tooltip"),o),u=[l.COMPUTER,l.FACEBOOK,l.INSTAGRAM,l.GOOGLE_DRIVE,l.GOOGLE_PHOTOS];return e({displayName:"MediaManagerPanelAddMediaSection",propTypes:{title:t.string.isRequired,onButtonClick:t.func.isRequired},isLocalSource:function(e){return i.isUploadAddMediaSource(e)},getSources:function(){return u},getIconName:function(e){return d[e]},getSourceTooltipText:function(e){return c[e]},handleAddMediaButtonClick:function(e){this.props.onButtonClick(e)},render:r})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/addMediaSectionNew.rt",["react","lodash","santa-editor-symbols","baseUI","baseUILib"],function(a,i,r,s,o){"use strict";return function(){return a.createElement("div",{className:"media-manager-panel-add-media-section-new"},a.createElement.apply(this,["ul",{className:"media-manager-panel-add-media-section-new__sources"},i.map(this.getSources(),function(e,t){var n=this;return a.createElement("li",{className:"media-manager-panel-add-media-section-new__source",key:e},a.createElement(s.tooltip,{value:this.getSourceTooltipText(e),delay:"300"},a.createElement("span",{className:"media-manager-panel-add-media-section-new__source-content"},a.createElement("button",{className:"media-manager-panel-add-media-section-new__source-button "+i({"media-manager-panel-add-media-section-new__upload-button":this.isLocalSource(e)}).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),onClick:function(){return n.handleAddMediaButtonClick(e)}},a.createElement(r.symbol,{name:this.getIconName(e),key:"externalSource"})),a.createElement(o.TextLabel,{type:"T04",className:"media-manager-panel-add-media-section-new__source-text",value:this.getButtonTitle(e)}))))}.bind(this))]))}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/addMediaSectionNew",["create-react-class","prop-types","lodash","mediaManagerPanelInfra/mediaManagerPanelConstants/mediaManagerPanelConstants","mediaManagerPanelInfra/mediaManagerPanelPresets/components/addMediaSectionNew.rt"],function(e,t,n,a,i){"use strict";var r,s,o,l=a.MEDIA_MANAGER_UPLOAD_SOURCES,d=(_defineProperty(r={},l.COMPUTER,"upload-btn"),_defineProperty(r,l.MANAGE,"media-manager-panel-manage"),_defineProperty(r,l.IMPORT,"media-manager-panel-import"),r),c=(_defineProperty(s={},l.COMPUTER,"Media_Panel_ActionIcon_Upload_Tooltip"),_defineProperty(s,l.MANAGE,"Media_Panel_ActionIcon_Manage_Tooltip"),_defineProperty(s,l.IMPORT,"Media_Panel_ActionIcon_Import_Tooltip"),s),u=[l.MANAGE,l.COMPUTER,l.IMPORT],m=(_defineProperty(o={},l.COMPUTER,"Media_Panel_ActionIcon_Upload"),_defineProperty(o,l.MANAGE,"Media_Panel_ActionIcon_Manage"),_defineProperty(o,l.IMPORT,"Media_Panel_ActionIcon_Import"),o);return e({displayName:"AddMediaSectionNew",propTypes:{onButtonClick:t.func},getSources:function(){return u},isLocalSource:function(e){return e===l.COMPUTER},getSourceTooltipText:function(e){return c[e]},getIconName:function(e){return d[e]},getButtonTitle:function(e){return m[e]},handleAddMediaButtonClick:function(e){n.invoke(this.props,"onButtonClick",e)},render:i})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/search.rt",["react","lodash","baseUILib","santa-editor-symbols"],function(e,t,n,a){"use strict";return function(){return e.createElement("div",{className:"media-manager-panel-search"},e.createElement("div",{className:"media-manager-panel-search__input-wrapper "+t({focused:this.isFocused(),"with-query":!this.isQueryEmpty()}).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),onClick:this.handleWrapperClick,onMouseDown:this.handleWrapperMouseDown},e.createElement("span",{className:"media-manager-panel-search__search-icon"},e.createElement(a.symbol,{name:"media-manager-panel-search"})),e.createElement("input",{className:"media-manager-panel-search__input",value:this.state.query,placeholder:this.getPlaceholderText(),onChange:this.handleInputValueChange,onKeyDown:this.handleKeyDown,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,ref:"inputInstance"}),e.createElement("div",{className:"media-manager-panel-search__button-wrapper "+t(_defineProperty({},"is-visible",this.isButtonVisible())).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),"data-hook":"media-manager-panel-search_button_wrapper"},this.isFocused()?null:e.createElement(n.Button,{className:"media-manager-panel-search__button media-manager-panel-search__clear-search-button btn btn-light",onClick:this.handleClearSearchButtonClick,key:"clearSearchButton"},e.createElement(a.symbol,{name:"headerCloseButton"})),this.isFocused()?e.createElement(n.Button,{className:"media-manager-panel-search__button media-manager-panel-search__start-search-button btn",key:"startSearchButton",ref:"buttonInstance"},e.createElement(a.symbol,{name:"media-manager-panel-arrow-right"})):null)))}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/search",["reactDOM","create-react-class","prop-types","lodash","util","mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelUtils","mediaManagerPanelInfra/mediaManagerPanelPresets/components/search.rt"],function(e,t,n,a,i,r,s){"use strict";return t({displayName:"MediaManagerPanelSearch",propTypes:{value:n.string,onSearchStart:n.func.isRequired,placeholder:n.string,onClearSearchButtonClick:n.func,onBlur:n.func,searchOnEnterPressed:n.bool},getDefaultProps:function(){return{value:"",searchOnEnterPressed:!0}},getInitialState:function(){return{query:this.props.value,isFocused:!1}},getQuery:function(){return this.state.query},isFocused:function(){return this.state.isFocused},getInputInstance:function(){return e.findDOMNode(this.refs.inputInstance)},getStartSearchButtonInstance:function(){return e.findDOMNode(this.refs.buttonInstance)},getPlaceholderText:function(){return i.translate(this.props.placeholder||"Media_Panel_Search_Placeholder_Text")},isQueryEmpty:function(){return a.isEmpty(this.getQuery())},isButtonVisible:function(){return!this.isQueryEmpty()},startSearch:function(e){return a.invoke(this.props,"onSearchStart",e)},handleBlur:function(e){return a.invoke(this.props,"onBlur",e)},handleInputValueChange:function(e){this.setState({query:e.target.value})},handleWrapperClick:function(){this.getInputInstance().focus()},handleWrapperMouseDown:function(e){var t=this,n=this.getStartSearchButtonInstance();n&&r.findFirstParentButtonNode(e.target)===n&&setTimeout(function(){t.startSearch(t.state.query)},0)},handleClearSearchButtonClick:function(){var e=this.props.onClearSearchButtonClick;e&&e(),this.setState({query:""})},handleInputFocus:function(){this.setState({isFocused:!0})},handleInputBlur:function(){this.setState({isFocused:!1}),this.handleBlur(this.state.query)},handleKeyDown:function(e){e&&"Enter"===e.key&&this.props.searchOnEnterPressed&&(this.getInputInstance().blur(),this.startSearch(this.state.query))},render:s})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/dotsButton.rt",["react","lodash","santa-editor-symbols"],function(e,t,n){"use strict";return function(){return e.createElement("button",{className:"media-manager-panel-three-dots-button",onClick:this.onClick},e.createElement(n.symbol,{name:"freeIcon_3dots",style:{width:"25px",height:"25px",fill:"#162d3d"}}))}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/dotsButton",["lodash","prop-types","create-react-class","mediaManagerPanelInfra/mediaManagerPanelPresets/components/dotsButton.rt"],function(e,t,n,a){"use strict";return n({displayName:"dotsButton",propTypes:{onClick:t.func},onClick:function(){e.invoke(this.props,"onClick")},render:a})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/card.rt",["react","lodash","baseUILib","santa-editor-symbols"],function(n,e,a,t){"use strict";return function(){return n.createElement("div",{className:"media-manager-panel-card"},n.createElement("div",{className:"media-manager-panel-card__header"},this.shouldDisplayThreeDots()?n.createElement.apply(this,[a.ContextMenu,{customButton:this.getThreeDotsButton(),closeOnEnterOrSpace:!1,key:"three-dots"},e.map(this.getDotsActions(),function(e,t){return n.createElement(a.ContextMenuAction,{onClick:function(e,t){e.onClick()}.bind(this,e,t),key:e.id},n.createElement("span",{},"\n          ",e.label,"\n        "))}.bind(this))]):null),this.props.title?n.createElement("div",{className:"media-manager-panel-card__title",key:"card-title"},n.createElement(a.TextLabel,{value:this.props.title,type:"T09",enableEllipsis:!1,shouldTranslate:!1})):null,this.props.subtitle?n.createElement("div",{className:"media-manager-panel-card__subtitle",key:"card-subtitle"},n.createElement(a.TextLabel,{value:this.props.subtitle,type:"T04",enableEllipsis:!1,shouldTranslate:!1})):null,n.createElement("div",{className:"media-manager-panel-card__body"},"\n    ",this.props.children,"\n  "))}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/card",["react","lodash","create-react-class","prop-types","mediaManagerPanelInfra/mediaManagerPanelPresets/components/dotsButton","mediaManagerPanelInfra/mediaManagerPanelPresets/components/card.rt"],function(t,e,n,a,i,r){"use strict";return n({displayName:"Card",propTypes:{title:a.string,dotsActions:a.arrayOf(a.shape({id:a.string,label:a.string,onClick:a.func})),subtitle:a.string,onDotsClick:a.func},onDotsClick:function(){e.invoke(this.props,"onDotsClick")},getThreeDotsButton:function(){var e=this;return t.createElement(i,{onClick:function(){return e.onDotsClick()}})},shouldDisplayThreeDots:function(){return!e.isEmpty(this.getDotsActions())},getDotsActions:function(){return this.props.dotsActions},render:r})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/tag.rt",["react","lodash","baseUILib","santa-editor-symbols"],function(e,t,n,a){"use strict";return function(){return e.createElement("span",{className:"media-manager-panel-tag "+t({selected:this.isSelected()}).transform(function(e,t,n){t&&e.push(n)},[]).join(" "),onClick:function(){this.onClick()}.bind(this)},e.createElement("span",{className:"media-manager-panel-tag__text"},e.createElement(n.TextLabel,{value:this.props.text,type:"T04",shouldTranslate:!1})),this.isSelected()?e.createElement("span",{className:"media-manager-panel-tag__icon media-manager-panel-tag__icon-check",key:"check-icon"},e.createElement(a.symbol,{name:"media-manager-panel-check",style:{fill:"#3899ec",width:"9px",height:"7px"}})):null,this.isSelected()?null:e.createElement("span",{className:"media-manager-panel-tag__icon media-manager-panel-tag__icon-plus",key:"plus-icon"},e.createElement(a.symbol,{name:"plus",style:{fill:"#3899ec",width:"7px",height:"7px"}})))}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/tag",["create-react-class","lodash","prop-types","mediaManagerPanelInfra/mediaManagerPanelPresets/components/tag.rt"],function(e,t,n,a){"use strict";return e({displayName:"Tag",propTypes:{id:n.string.isRequired,text:n.string.isRequired,isSelected:n.bool,onClick:n.func},isSelected:function(){return this.props.isSelected},onClick:function(){var e=this.props;t.invoke(e,"onClick",e.id)},render:a})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/recommendedMediaCard.rt",["react","lodash","baseUILib","mediaManagerPanelInfra/mediaManagerPanelPresets/components/card","mediaManagerPanelInfra/mediaManagerPanelPresets/components/tag"],function(a,e,t,n,i){"use strict";return function(){return a.createElement(n,{title:this.title,subtitle:this.subtitle,dotsActions:this.props.dotsActions,onDotsClick:this.handleDotsClick},a.createElement("div",{},a.createElement.apply(this,["ul",{},e.map(this.getCategories(),function(e,t){var n=this;return a.createElement("li",{className:"recommended-media-card__tag",key:e.id},a.createElement(i,{id:e.id,text:e.title,isSelected:this.isCategorySelected(e.id),onClick:function(e){return n.toggleCategory(e)}}))}.bind(this))]),a.createElement("div",{className:"recommended-media-card__footer"},a.createElement(t.Button,{className:"btn-text recommended-media-card__see-all-button",onClick:function(){this.handleSeeAllButtonClick()}.bind(this)},"\n        ",this.seeAllText,"\n      "),a.createElement(t.Button,{className:"btn-sm recommended-media-card__apply-button",onClick:function(){this.handleApplyButtonClick()}.bind(this),disabled:!this.hasSelectedCategories()},"\n        ",this.applyText,"\n      "))))}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/recommendedMediaCard",["create-react-class","prop-types","lodash","util","mediaManagerPanelInfra/mediaManagerPanelPresets/components/recommendedMediaCard.rt"],function(e,t,n,a,i){"use strict";var r=a.translate;return e({displayName:"RecommendedMediaCard",propTypes:{categories:t.arrayOf(t.shape({id:t.string.isRequired,title:t.string.isRequired,isSelected:t.bool})).isRequired,dotsActions:t.arrayOf(t.shape({id:t.string,label:t.string,onClick:t.func})),onDotsClick:t.func,onApply:t.func,onSeeAll:t.func},getInitialState:function(){return{selectedCategories:n(this.props.categories).filter("isSelected").map("id").value()}},get title(){return r("Media_Panel_Recommended_Section_EmptyState_Title")},get subtitle(){return r("Media_Panel_Recommended_Section_EmptyState_Subitle")},get seeAllText(){return r("Media_Panel_Recommended_Section_EmptyState_SeeAll_Text")},get applyText(){return r("Media_Panel_Recommended_Section_EmptyState_Apply_Button")},hasSelectedCategories:function(){return Boolean(this.state.selectedCategories.length)},getCategories:function(){return this.props.categories},isCategorySelected:function(e){return n.includes(this.state.selectedCategories,e)},toggleCategory:function(t){var e=this.state.selectedCategories;this.isCategorySelected(t)?this.setState({selectedCategories:n.reject(e,function(e){return e===t})}):this.setState({selectedCategories:n.concat(e,t)})},handleApplyButtonClick:function(){n.invoke(this.props,"onApply",this.state.selectedCategories)},handleSeeAllButtonClick:function(){n.invoke(this.props,"onSeeAll",this.state.selectedCategories)},handleDotsClick:function(){n.invoke(this.props,"onDotsClick")},render:i})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/settingsButton.rt",["react","lodash","baseUILib","santa-editor-symbols"],function(e,t,n,a){"use strict";return function(){return e.createElement(n.Tooltip,{content:"Media_Panel_Recommended_Section_Tooltip",maxWidth:195},e.createElement("button",{className:"media-manager-panel-settings-button",onClick:function(){this.handleClick()}.bind(this)},e.createElement(a.symbol,{name:"mediaPanelSettingsAction"})))}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/settingsButton",["create-react-class","prop-types","lodash","mediaManagerPanelInfra/mediaManagerPanelPresets/components/settingsButton.rt"],function(e,t,n,a){"use strict";return e({displayName:"settingsButton",propTypes:{onClick:t.func},handleClick:function(){n.invoke(this.props,"onClick")},render:a})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/recommendedMediaSection.rt",["react","lodash","mediaManagerPanelInfra/mediaManagerPanelPresets/components/presetSection"],function(t,e,n){"use strict";return function(){var e=this;return t.createElement(n,{id:this.props.id,title:this.props.title,items:this.getItems(),action:this.isAllItemsShown()?null:function(){return e.action()},actionLabel:this.getActionLabel(),headerActions:this.getHeaderActions(),options:this.getSectionOptions()})}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/recommendedMediaSection",["react","create-react-class","prop-types","lodash","util","mediaManagerPanelInfra/mediaManagerPanelPresets/components/settingsButton","mediaManagerPanelInfra/mediaManagerPanelTypes/mediaManagerPanelTypes","mediaManagerPanelInfra/mediaManagerPanelConstants/mediaManagerPanelConstants","mediaManagerPanelInfra/mediaManagerPanelPresets/components/recommendedMediaSection.rt"],function(e,t,n,a,i,r,s,o,l){"use strict";var d=i.translate,c=o.RECOMMENDED_SECTION_INITIAL_VISIBLE_ITEMS_COUNT,u=o.RECOMMENDED_ITEMS_TO_LOAD_COUNT;return t({displayName:"RecommendedMediaSection",propTypes:a.assign({},s.presetSection,{visibleItemsCount:n.number,pagingOptions:n.shape({initial:n.number,max:n.number,step:n.number}),onShowMoreClick:n.func,onSettingsOpen:n.func}),getInitialState:function(){return{visibleItemsCount:this.props.visibleItemsCount||this.getPagingOptions().initial||c}},getSectionOptions:function(){return a.assign({shouldShowLoaderWhenNoItems:!0,shouldPresetHaveBlueBackground:!0,loaderContainerHeightInRows:3},this.props.options)},getVisibleItemsCount:function(){return this.state.visibleItemsCount},getPagingOptions:function(){return this.props.pagingOptions||{}},getVisibleItemsMaxCount:function(){return this.getPagingOptions().max||u},getVisibleItemsStep:function(){return this.getPagingOptions().step||9},isAllItemsShown:function(){var e=this.getVisibleItemsCount();return e===this.getVisibleItemsMaxCount()||e===this.getTotalItemsCount()},getTotalItemsCount:function(){return a.get(this.props,["items","length"])},getItems:function(){return a.slice(this.props.items,0,this.getVisibleItemsCount())},action:function(){this.isAllItemsShown()?this.showAllItems():this.showMoreItems()},showMoreItems:function(){var e=Math.min(this.getVisibleItemsCount()+this.getVisibleItemsStep(),Math.min(this.getVisibleItemsMaxCount(),this.getTotalItemsCount()));a.invoke(this.props,"onShowMoreClick",e),this.setState({visibleItemsCount:e})},showAllItems:function(){a.invoke(this.props,"action")},getActionLabel:function(){return this.isAllItemsShown()?d("Media_Panel_Results_Show_All_Label_OnHover"):d("Media_Panel_Results_Show_More_Label_OnHover")},getHeaderActions:function(){return[e.createElement(r,{onClick:this.props.onSettingsOpen,key:"settings-button"})]},render:l})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/createMediaSection.rt",["react","lodash","baseUI","mediaManagerPanelInfra/mediaManagerPanelPresets/components/section"],function(n,a,i,e){"use strict";return function(){return n.createElement.apply(this,[e,{title:this.title,disabledContentPaddings:!0},a.map(this.getItemsIds(),function(e,t){return n.createElement(i.listItemWithImage,a.assign({},{key:e},this.getItemProps(e)))}.bind(this))])}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/createMediaSection",["create-react-class","prop-types","lodash","util","mediaManagerPanelInfra/mediaManagerPanelPresets/components/createMediaSection.rt"],function(e,t,n,a,i){"use strict";var r=a.translate,s=a.media,o="create_image",l="create_video",d=[o,l];return e({displayName:"CreateMediaSection",propTypes:{onCreateImageClick:t.func,onCreateVideoClick:t.func},title:r("Media_Panel_Edit_ImagesVideos_Section_Label"),getItemsIds:function(){return d},getItemProps:function(e){switch(e){case o:return this.getCreateImageProps();case l:return this.getCreateVideoProps();default:return null}},getCreateImageProps:function(){var e=this;return{title:"Media_Panel_PhotoStudio_Entry_Title",desc:"Media_Panel_PhotoStudio_Entry_Description",url:s.getMediaUrl("rEditor/mediaManagerPanel/create-image-action.png"),callback:function(){return n.invoke(e.props,"onCreateImageClick")},shouldTranslate:!0}},getCreateVideoProps:function(){var e=this;return{title:"Media_Panel_VideoMaker_Entry_Title",desc:"Media_Panel_VideoMaker_Entry_Description",url:s.getMediaUrl("rEditor/mediaManagerPanel/create-video-action.png"),callback:function(){return n.invoke(e.props,"onCreateVideoClick")},shouldTranslate:!0}},render:i})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/mediaManagerPanelPresets",["mediaManagerPanelInfra/mediaManagerPanelPresets/components/presetSection","mediaManagerPanelInfra/mediaManagerPanelPresets/components/addMediaSection","mediaManagerPanelInfra/mediaManagerPanelPresets/components/addMediaSectionNew","mediaManagerPanelInfra/mediaManagerPanelPresets/components/search","mediaManagerPanelInfra/mediaManagerPanelPresets/components/recommendedMediaCard","mediaManagerPanelInfra/mediaManagerPanelPresets/components/recommendedMediaSection","mediaManagerPanelInfra/mediaManagerPanelPresets/components/createMediaSection"],function(e,t,n,a,i,r,s){"use strict";return{presetSection:e,addMediaSection:t,addMediaSectionNew:n,search:a,recommendedMediaCard:i,recommendedMediaSection:r,createMediaSection:s}}),define("mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelPurchaseUtils",["lodash","constants","mediaManagerPanelInfra/mediaManagerPanelConstants/mediaManagerPanelConstants","mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelUtils"],function(d,e,t,c){"use strict";var r=e.MEDIA_MANAGER_MEDIA_TYPES,u=t.CHECKOUT_MEDIA_TYPE,m=t.CHECKOUT_MEDIA_PRODUCER,p=["fileId","checkoutMediaType","mediaProducer","publicMediaRoot","origin","tab","locale","siteToken"];var s=function(t,s){return new Promise(function(i,r){var e=window.open(t,"purchase","width=1000,height=550,scrollbars=1");window.addEventListener("message",function e(t){if(/premium\./i.test(t.origin)){var n=JSON.parse(t.data),a=n.packageUniqueId.split("_");_slicedToArray(a,1)[0]===s.id&&(window.removeEventListener("message",e,!1),n.success?i(s):r(s))}},!1),e.blur(),window.focus()})};return{purchaseItemNewFlow:function(o,l){return new Promise(function(a,i){var e=c.isVideoItem(o)?u.VIDEO:u.IMAGE,t=c.isPublicMediaItem(o)?m.WIXSTOCK:m.SHUTTERSTOCK,n=d.assign({},l,{fileId:o.id,checkoutMediaType:e,mediaProducer:t}),r=d(p).map(function(e){return e+"="+n[e]}).join("&"),s=window.open("https://editor.wix.com/media-manager/checkout/?"+r,"purchase","width=1150,height=900,scrollbars=1");window.addEventListener("message",function e(t){if(/editor.wix.com/i.test(t.origin)){var n=void 0;try{n=JSON.parse(t.data)}catch(e){n={}}"__mediaPurchase"===n.action&&n.itemId===o.id&&(window.removeEventListener("message",e,!1),n.success?a(o):i(o))}},!1),s.blur(),window.focus()})},buyShutterStockItem:function(e,t){var n=t.shutterStockPaymentAPI+"/services/shutterstock/start_purchase?site_token="+t.siteMediaToken+"&image_id="+e.id+"&altsku=1",a=t.shutterStockPaymentAPI+"/services/shutterstock/video/start_purchase?site_token="+t.siteMediaToken+"&video_id="+e.id+"&altsku=1",i=e.mediaType===r.PICTURE?n:a;return s(i,e)},buyWixMediaItem:function(e,t){var n="https://pix.wix.com/services/wixstock/start_purchase?site_token="+t.siteMediaToken+"&image_id="+e.id;return s(n,e)}}}),define("mediaManagerPanelInfra",["mediaManagerPanelInfra/mediaManagerPanelPresets/mediaManagerPanelPresets","mediaManagerPanelInfra/mediaManagerPanelTypes/mediaManagerPanelTypes","mediaManagerPanelInfra/mediaManagerPanelConstants/mediaManagerPanelConstants","mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelUtils","mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelPurchaseUtils"],function(e,t,n,a,i){"use strict";return{presets:e,types:t,constants:n,utils:a,purchaseUtils:i}});
//# sourceMappingURL=mediaManagerPanelInfra.min.js.map