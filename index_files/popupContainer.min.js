define("popupContainer",["lodash","santa-components","componentsCore","reactDOM","components"],function(e,n,i,t,r){return function(e){var n={};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=n,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)i.d(t,r,function(n){return e[n]}.bind(null,r));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="",i(i.s=951)}({0:function(n,i){n.exports=e},18:function(e,n){e.exports=r},2:function(e,i){e.exports=n},3:function(e,n){e.exports=i},7:function(e,n){e.exports=t},951:function(e,n,i){var t,r,o=function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var i=[],t=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(t=(s=a.next()).done)&&(i.push(s.value),!n||i.length!==n);t=!0);}catch(e){r=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw o}}return i}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t=[i(0),i(7),i(3),i(18),i(2)],void 0===(r=function(e,n,i,t,r){"use strict";var s=r.santaTypesDefinitions,a=t.mediaCommon.mediaLogicMixins.fill,p=r.utils.pinnedLayerHelper,u={displayName:"PopupContainer",mixins:[a,i.mixins.skinBasedComp,i.mixins.cyclicTabbingMixin,i.mixins.createChildComponentMixin,r.mixins.inlineContentMixin],propTypes:{isSiteMembersDialogOpen:r.santaTypesDefinitions.SiteMembersSantaTypes.isSiteMembersDialogOpen,closePopupPage:r.santaTypesDefinitions.popupPage.close,isMeshLayoutMechanism:r.santaTypesDefinitions.Layout.isMeshLayoutMechanism,windowKeyboardEvent:r.santaTypesDefinitions.SiteAspects.windowKeyboardEvent.isRequired,isViewerMode:r.santaTypesDefinitions.isViewerMode.isRequired,defaultContentArea:r.santaTypesDefinitions.Container.defaultContentArea.isRequired,pinnedChildrenIDs:s.Component.pinnedChildrenIDs,wixTopAdsHeight:s.WixAds.wixTopAdsHeight},statics:{behaviors:t.mediaCommon.mediaBehaviors.fill},forceRedrawOnAnimationEnded:!0,previousVisibilityState:"hidden",getDefaultSkinName:function(){return"wysiwyg.viewer.skins.stripContainer.DefaultStripContainer"},componentWillMount:function(){this.props.windowKeyboardEvent&&this.props.windowKeyboardEvent.registerToEscapeKey(this),this.props.isViewerMode&&this.registerOnAnimationEnd(function(){var e=this.refs[""];e&&n.findDOMNode(e).focus(),this.unregisterOnAnimationEnd()})},componentDidMount:function(){(this._focusedElementBeforeLightbox=e.get(window,"document.activeElement"),this.props.isViewerMode)&&(n.findDOMNode(this.refs[""]).contains(window.document.activeElement)||n.findDOMNode(this.refs[""]).focus())},componentWillUnmount:function(){this.props.windowKeyboardEvent&&this.props.windowKeyboardEvent.unRegisterKeys(this),this.forceRedrawOnAnimationEnded=!1,this._focusedElementBeforeLightbox&&this._focusedElementBeforeLightbox.focus()},isScreenWidth:function(){return"fullWidth"===e.get(this.props,"compProp.alignmentType")},isFullHeight:function(){return"fullHeight"===e.get(this.props,"compProp.alignmentType")},onEscapeKey:function(){this.props.closePopupPage()},renderChildrenForMesh:function(){var n=this.props,i=n.id,t=n.browser,r=n.pinnedChildrenIDs,s=n.wixTopAdsHeight,a=e.partition(this.props.children,function(e){return!!r[e.props.id]}),u=o(a,2),d=u[0],l=u[1],c=e.filter(this.props.meshParams.components,function(n){return!0===e.get(n,"isFixed",!1)&&e.has(n,"docked")});return[p.createPinnedLayer({id:i+"-pinned-layer",children:d,childrenMeshParams:c,browser:t,wixTopAdsHeight:s})].concat(function(e){if(Array.isArray(e)){for(var n=0,i=Array(e.length);n<e.length;n++)i[n]=e[n];return i}return Array.from(e)}(this.getChildrenRenderer(e.assign({children:l},this.isScreenWidth()&&{contentArea:this.props.defaultContentArea},this.isFullHeight()&&{overrides:{fitToContentHeight:!0}}))))},getSkinProperties:function(){var n=this.props.isMeshLayoutMechanism,i=e.get(this.props,["compData","a11y"],{});return{"":e.assign({onKeyDown:this.preventTabbingOut,"data-docking":JSON.stringify(e.pick(this.props.compProp,["verticalOffset","verticalAlignment","horizontalOffset","horizontalAlignment","alignmentType"])),role:"dialog",style:e.assign({pointerEvents:"auto"},this.isFullHeight()&&!n&&{minHeight:"100vh"}),"aria-label":i.label,tabIndex:-1},n&&{"data-is-mesh":!0}),background:this.createFillLayers({bgStyle:{height:"auto"}}),inlineContent:{children:n?this.renderChildrenForMesh():this.getChildrenRenderer(this.isScreenWidth()&&{contentArea:this.props.defaultContentArea})}}}};return i.compRegistrar.register("wysiwyg.viewer.components.PopupContainer",u),u}.apply(n,t))||(e.exports=r)}})});
//# sourceMappingURL=popupContainer.min.js.map