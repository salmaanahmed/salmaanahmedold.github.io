define("columnsControls/controls/columnsControlsMapper",["lodash"],function(c){"use strict";function u(t,n){return"wysiwyg.viewer.components.StripColumnsContainer"===t.components.getType(n)}function o(t){return{left:t.x,top:t.y,height:t.height,width:t.width}}function e(t,n,o){var e=t.components.layout.getRelativeToScreen(n);return{x:e.x+o.left,y:e.y,width:e.width-(o.left+o.right),height:e.height}}function a(t,n){return c(n).thru(t.components.getChildren).map(function(t,n){return e(t,n,t.components.layout.getCompMargin(n))}.bind(null,t)).map(o).value()}function h(t){return c(t.columns.manage.getManagedColumn()).thru(function(t,n){return e(t,n,{left:0,right:0})}.bind(null,t)).thru(o).value()}function m(t,n,o){var e,s,r=t.components.isShowOnAllPages(n),i=t.components.isShowOnSomePages(n);return{"components-ui-color-orange":r||i,fade:(e=n,s=o,!c.isEqual(e,s))}}return function(t){var n=t.editorAPI,o=n.selection.getSelectedComponents(),e=function(n,t){var o=t;if(u(n,o))return o;var e=n.utils.findAncestorMatchesCondition(o,function(t){return u(n,t)});return e?n.components.asArray(e):null}(n,o);if(!e)return{};var s,r,i,l={showColumnContainerBox:!0,columnsContainerBoxClasses:m(n,o,e),columnsContainerBoxStyle:(s=n,r=e,i=c(r).thru(s.components.layout.getRelativeToScreen).pick(["x","y","height","width"]).value(),{top:i.y,left:i.x,height:i.height,width:i.width}),contentLayouts:a(n,e),children:n.components.getChildren(e)};return n.columns.manage.getManagedColumn()&&(l.managedColumnLayout=h(n)),l}}),define("columnsControls/controls/columnsContainerBox.rt",["react","lodash"],function(t,n){"use strict";return function(){return t.createElement("div",{className:n(this.getClasses()).transform(function(t,n,o){n&&t.push(o)},[]).join(" "),style:this.props.style})}}),define("columnsControls/controls/columnsContainerBox",["create-react-class","prop-types","lodash","columnsControls/controls/columnsContainerBox.rt"],function(t,n,o,e){"use strict";return t({displayName:"columnsContainerBox",propTypes:{classes:n.object,style:n.object},getClasses:function(){return o.assign(this.props.classes,{"columns-container-box":!0})},render:e})}),define("columnsControls/controls/contentHighlight.rt",["react","lodash"],function(o,t){"use strict";return function(){return o.createElement.apply(this,["div",{},t.map(this.getLayouts(),function(t,n){return o.createElement("div",{key:n+"-"+t.x,style:t,className:"column-content-highlight "+(this.props.flicker?"flicker":"")})}.bind(this))])}}),define("columnsControls/controls/contentHighlight",["create-react-class","prop-types","lodash","columnsControls/controls/contentHighlight.rt"],function(t,n,o,e){"use strict";return t({displayName:"contentHighlight",propTypes:{layouts:n.oneOfType([n.object,n.arrayOf(n.object)]),flicker:n.bool,finishHighlight:n.func},componentDidMount:function(){var t=this.props.finishHighlight;o.isFunction(t)&&window.setTimeout(t,1e3)},getLayouts:function(){var t=this.props.layouts;return o.isPlainObject(t)?[t]:t},render:e})}),define("columnsControls/controls/columnsControls.rt",["react","lodash","columnsControls/controls/columnsContainerBox","columnsControls/controls/contentHighlight"],function(t,n,o,e){"use strict";return function(){return t.createElement("div",{},this.props.showColumnContainerBox?t.createElement(o,{key:"columnsContainerBox",classes:this.props.columnsContainerBoxClasses,style:this.props.columnsContainerBoxStyle}):null,this.state.doneHighlight?null:t.createElement(e,{key:"contentHighlight",finishHighlight:this.finishHighlight,layouts:this.props.contentLayouts,flicker:!0}),this.props.managedColumnLayout?t.createElement(e,{key:"managedColumnHighlight",layouts:this.props.managedColumnLayout}):null)}}),define("columnsControls/controls/columnsControls",["create-react-class","prop-types","lodash","util","columnsControls/controls/columnsControlsMapper","columnsControls/controls/columnsControls.rt"],function(t,n,o,e,s,r){"use strict";var i=t({displayName:"columnsControls",propTypes:{children:n.oneOfType([n.arrayOf(n.object),n.object]),showColumnContainerBox:n.bool,contentLayouts:n.oneOfType([n.object,n.arrayOf(n.object)]),columnsContainerBoxClasses:n.object,columnsContainerBoxStyle:n.object},getInitialState:function(){return this.lastChildren=this.props.children,{doneHighlight:!0}},componentWillReceiveProps:function(t){var n=t.children;!o.isEqual(n,this.lastChildren)&&(this.lastChildren=n,this.setState({doneHighlight:!1}))},finishHighlight:function(){this.setState({doneHighlight:!0})},render:r});return e.hoc.connect(e.hoc.STORES.EDITOR_API,s)(i)}),define("columnsControls",["columnsControls/controls/columnsControls"],function(t){"use strict";return t});
//# sourceMappingURL=columnsControls.min.js.map