!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://static.parastorage.com/services/support-chat-widget-server/1.314.0/",n(n.s=107)}([function(e,t,n){"use strict";var r=n(27),o=n(76),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function s(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t}return e.prototype.isActive=function(){return!0},e.prototype.export=function(){return this.data},e}();t.default=r},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),["setItem","getItem","removeItem","getAllItems"].forEach((function(n){if(t[n]===e.prototype[n])throw new Error("BaseStorage method ["+n+"] must be overriden!")}))}return r(e,[{key:"extendScope",value:function(e){return e}},{key:"setItem",value:function(e,t,n){throw n}},{key:"getItem",value:function(e,t){throw t}},{key:"removeItem",value:function(e,t){throw t}},{key:"getAllItems",value:function(e){throw e}}],[{key:"verify",value:function(t){if(t instanceof e)return t;throw new Error("This class must extend BaseStorage!")}}]),e}();e.exports=o},function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.hasSendBeacon=function(){return"undefined"!=typeof navigator&&navigator&&navigator.sendBeacon},t.sendBeacon=function(e){return navigator.sendBeacon(e)};var n={};t.env=function(){return"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof WorkerGlobalScope?WorkerGlobalScope:n}}).call(this,n(41))},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1);var i=function(e){function t(n,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,{src:72,evid:n,session_id:r,_:(new Date).getTime()}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=o)&&r.__esModule?r:{default:r}).default);t.default=i},function(e,t,n){"use strict";var r={NOT_FOUND:new Error("Key was not found in capsule"),SERVER_ERROR:new Error("Failed to perform operarion on server"),LOCAL_STORAGE_UNSUPPORTED:new Error("LocalStorage is not supported")};e.exports={PREFIX_SEPARATOR:"|",KEY_SEPARATOR:"#",STORAGE_PREFIX:"capsule",NOT_FOUND:r.NOT_FOUND,CONNECTION_MAX_TIMEOUT:2e3,MESSAGE_MAX_TIMEOUT:8e3,SERVER_ERROR:r.SERVER_ERROR,toError:function(e){return Object.keys(r).map((function(e){return r[e]})).find((function(t){return t.message===e}))||new Error(e)},LOCAL_STORAGE_UNSUPPORTED:r.LOCAL_STORAGE_UNSUPPORTED}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(3);t.default={getNavigation:function(){return void 0!==(0,r.env)()&&(0,r.env)().performance?(0,r.env)().performance.navigation:{}},getResources:function(){var e=[];try{return(0,r.env)()&&(0,r.env)().performance&&(0,r.env)().performance.getEntriesByType&&(0,r.env)().performance.getEntriesByType("resource")||e}catch(t){return e}},getTiming:function(){return(0,r.env)()&&(0,r.env)().performance?(0,r.env)().performance.timing:{}},clearResourceTimings:function(){(0,r.env)()&&(0,r.env)().performance&&(0,r.env)().performance.clearResourceTimings&&(0,r.env)().performance.clearResourceTimings()},now:function(){return(0,r.env)()&&(0,r.env)().performance&&(0,r.env)().performance.now?(0,r.env)().performance.now():"undefined"!=typeof performance&&performance&&performance.now?performance.now():(new Date).getTime()},responseEndTime:function(){if("undefined"!=typeof performance&&performance&&performance.timing&&performance.timing.responseEnd&&performance.timing.fetchStart)return performance.timing.responseEnd-performance.timing.fetchStart},mark:function(e){(0,r.env)()&&(0,r.env)().performance&&(0,r.env)().performance.mark&&(0,r.env)().performance.mark(e)},measure:function(e,t,n){(0,r.env)()&&(0,r.env)().performance&&(0,r.env)().performance.measure&&(0,r.env)().performance.measure(e,t,n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11).Host;t.setHost=function(e){r=e},t.getHost=function(){return r},t.isWebWorker=function(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope},t.requestWindow=function(e){if("undefined"!=typeof window&&window)try{return window.top===window.self?e?e(window):window:null}catch(e){return null}return null}},function(e,t,n){e.exports=n(75)},function(e,t,n){"use strict";t.__esModule=!0;t.FEDOPS_BI_ENDPOINT="fed",t.PERFORMANCE_BI_ENPOINT="performance",t.SESSION_ID_STORAGE_KEY="fedops.logger.sessionId",t.DEFAULT_APP_VERSION="0.0.0"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.now=function(){return"undefined"!=typeof performance&&performance&&performance.now?performance.now():-1},t.getDesktopSize=function(e){return(e.screen&&e.screen.width||0)+"x"+(e.screen&&e.screen.height||0)},t.getWindowSize=function(e){var t=0,n=0;return e.innerWidth?(t=e.innerWidth,n=e.innerHeight):e.document&&(e.document.documentElement&&e.document.documentElement.clientWidth?(t=e.document.documentElement.clientWidth,n=e.document.documentElement.clientHeight):e.document.body&&e.document.body.clientWidth&&(t=e.document.body.clientWidth,n=e.document.body.clientHeight)),t+"x"+n},t.sendBeacon=function(e,t){return!("undefined"==typeof navigator||!navigator||!navigator.sendBeacon)&&navigator.sendBeacon(e,t)},t.readCookie=function(e){if("undefined"==typeof document)return null;for(var t=0,n=document.cookie.split(";");t<n.length;t++){for(var r=n[t].split("="),o=r[0],i=r[1];" "===o[0];)o=o.substr(1);if(o===e)return i}return""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Host="frog.wix.com",t.LoggerVersion="2.0.270",function(e){e.Auto="auto",e.PostMessage="postMessage"}(t.PublishMethods||(t.PublishMethods={})),function(e){e[e.Unsupported=0]="Unsupported"}(t.Errors||(t.Errors={})),function(e){e.msid="_msid",e.clientId="_client_id",e.uuid="_uuid",e.visitorId="_visitorId",e.siteMemberId="_siteMemberId"}(t.EventContextMap||(t.EventContextMap={}))},function(e,t,n){"use strict";t.__esModule=!0,t.initializeFedops=i,t.initializeApp=a,t.initializeGlobal=function(e){i(),a(e)},t.getLoadStartTime=function(e){return(o(e)||{}).startLoadTime||0},t.setLoadStartTime=function(e,t){return(o(e)||{}).startLoadTime=t},t.setSessionId=function(e){return((0,r.env)().fedops||{}).sessionId=e};var r=n(3);function o(e){return(((0,r.env)().fedops||{}).apps||{})[e]}function i(){(0,r.env)().fedops=(0,r.env)().fedops||{},(0,r.env)().fedops.apps=(0,r.env)().fedops.apps||{}}function a(e){(0,r.env)().fedops.apps[e]=(0,r.env)().fedops.apps[e]||{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseConnectionMessage=t.constructConnectionMessage=t.parseChannelMessage=t.constructChannelMessage=void 0;var r=n(16);t.constructChannelMessage=function(e,t){return t?t+r.messageDelimiter+e:e},t.parseChannelMessage=function(e){var t=e.indexOf(r.messageDelimiter);return-1===t?{id:null,payload:e}:{id:e.slice(0,t),payload:e.slice(t+1)}},t.constructConnectionMessage=function(e){return r.connectionRequestMsg+r.messageDelimiter+e},t.parseConnectionMessage=function(e){var t=e.indexOf(r.messageDelimiter);if(-1===t||e.slice(0,t)!==r.connectionRequestMsg)throw new Error("Invalid connection message");return e.slice(t+1)}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=e.call(this,t)||this;return n.name=n.constructor.name,n}return o(t,e),t}(Error);t.AssertionError=i;var a=function(e){function t(t){var n=e.call(this,t)||this;return n.name=n.constructor.name,n}return o(t,e),t}(Error);t.APINotSupportedError=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),o=n(7),i=0;t.getCookies=function(e){return Object.keys(e).reduce((function(t,n){var o="string"==typeof e[n]?{name:e[n]}:e[n],i=o.name,a=o.transform,s=(void 0===a?function(e){return e}:a)(r.readCookie(i));return s&&(t[n]=s),t}),{})},t.buildBiUrl=function(e,t,n){var r=e.host,a=void 0===r?"":r,s=e.endpoint,u=void 0===s?"":s;void 0===n&&(n={}),a=a||o.getHost(),u=n.endpoint||u,n.useBatch||(t._=""+(new Date).getTime()+i++);var c=n.useBatch?[]:Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}),[]);return["//"+a+"/"+u].concat(c.length?c.join("&"):[]).join("?")},t.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.connectionRequestMsg="req_con",t.connectionSuccessMsg="connection_success",t.messageDelimiter="|",t.deafultConnectionMaxTimeout=200,t.deafultMessageMaxTimeout=5e3},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(2),i=n(95),a=n(5),s=a.STORAGE_PREFIX,u=a.PREFIX_SEPARATOR,c=a.KEY_SEPARATOR,f=a.NOT_FOUND,l=a.LOCAL_STORAGE_UNSUPPORTED,d=n(36),p=d.getCacheRecords,h=d.deserializeData,g=d.isExpired;function m(e,t){return v(t)+e}function v(e){return[s,e.namespace,(t=e.scope,"string"==typeof t?t:JSON.stringify(t))].filter((function(e){return e})).join(u)+c;var t}function y(e,t){return JSON.stringify({lastUsed:Date.now(),createdAt:t.createdAt||Date.now(),expiration:t.expiration,value:e})}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"setItem",value:function(e,t,n){e=m(e,n),t=y(t,n);try{localStorage.setItem(e,t)}catch(n){i(e.length+t.length),localStorage.setItem(e,t)}return Promise.resolve()}},{key:"getItem",value:function(e,t){var n=m(e,t),r=void 0;try{r=localStorage.getItem(n)}catch(e){return Promise.reject(l)}return(r=r&&h(r))&&!g(r)?(function(e,t){var n=t.expiration,r=t.createdAt;localStorage.setItem(e,y(t.value,{expiration:n,createdAt:r}))}(n,r),Promise.resolve(r.value)):Promise.reject(f)}},{key:"removeItem",value:function(e,t){return e=m(e,t),localStorage.removeItem(e),Promise.resolve()}},{key:"getAllItems",value:function(e){var t=v(e),n={};return p(t).forEach((function(e){g(e)||(n[e.key]=e.value)})),Promise.resolve(n)}}]),t}(o);e.exports=_},function(e,t,n){"use strict";var r=n(91),o=n(17),i=n(96),a=n(100),s=n(101),u=n(102),c=n(5).NOT_FOUND,f=n(2),l=n(103);e.exports={NOT_FOUND:c,BaseStorage:f,DataCapsule:l,FrameStorageListener:r,FrameStorageStrategy:i,LocalStorageStrategy:o,LocalStorageCapsule:function(e){return new l(Object.assign({},e,{strategy:new o}))},WixStorageStrategy:a,CachedStorageStrategy:s,LocalStorageCachedCapsule:function(e){return new l(Object.assign({},e,{strategy:new s({remoteStrategy:e.remoteStrategy})}))},InMemoryStorageStrategy:u,InMemoryStorageCapsule:function(e){return new l(Object.assign({},e,{strategy:new u}))}}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],f=!1,l=-1;function d(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&p())}function p(){if(!f){var e=s(d);f=!0;for(var t=c.length;t;){for(u=c,c=[];++l<t;)u&&u[l].run();l=-1,t=c.length}u=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||f||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";t.__esModule=!0,t.setFactory=function(e){a=e},t.create=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.biLoggerFactory,n=e.baseUrl,r=e.endpoint;return a?a({biLoggerFactory:t,baseUrl:n}):new i.default({biLoggerFactory:t,baseUrl:n,endpoint:r})};var r,o=n(42),i=(r=o)&&r.__esModule?r:{default:r};var a=void 0},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(43)),s=i(n(50)),u=n(51),c=n(15),f=n(11),l=n(11);t.PublishMethods=l.PublishMethods;var d=n(7);t.setHost=d.setHost;var p=function(e){return Object.keys(e).reduce((function(t,n){return f.EventContextMap[n]&&(t[f.EventContextMap[n]]=e[n]),t}),{})},h=function(){return c.getCookies({clientId:"_wixCIDX",uuid:{name:"_wixUIDX",transform:function(e){return"string"==typeof e&&e.split("|")[1]}}})},g=function(e){return-1!==Object.keys(f.PublishMethods).map((function(e){return f.PublishMethods[e]})).indexOf(e)},m=function(){function e(e){void 0===e&&(e={}),this.options=e,this.initialized=!1,this.muted=!1,s.ok(!e.publishMethod||g(e.publishMethod),'Unsupported publish method "'+e.publishMethod+'"'),this.loggerClientFactory=a.default.factory(e),this.withUserContext(h())}return e.prototype.initFactory=function(){if(this.initialized)return this.loggerClientFactory;this.initialized=!0;var e=u.getPublisher(this.options,this.transformer,this.publishFunctions);return this.loggerClientFactory.addPublisher(e)},e.prototype.withTransformer=function(e){return s.defined(e,"Transformer must be provided"),s.ok("function"==typeof e||e&&"function"==typeof e.postMessage,"Valid transformer must be provided"),this.transformer=e,this},e.prototype.withPublishFunction=function(e){return s.defined(e,"Publish function must be provided"),s.ok(e&&"function"==typeof e.postMessage,"Valid publish function must be provided"),this.publishFunctions=e,this},e.prototype.withUserContext=function(e){return s.defined(e,"User context object must be provided"),this.updateDefaults(p(e)),this},e.prototype.withUoUContext=function(e){return s.defined(e,"UoU context object must be provided"),this.updateDefaults(p(e)),this},e.prototype.updateDefaults=function(e){return this.loggerClientFactory.updateDefaults(e),this},e.prototype.setMuted=function(e){return this.muted=e,this},e.prototype.onError=function(e){return this.loggerClientFactory.setPublisherFailHandler(e),this},e.prototype.logger=function(e){void 0===e&&(e={});var t=this,n=void 0!==e.useBatch?e.useBatch:this.options.useBatch,o=this.initFactory().logger(r({},e,{useBatch:n}));return{log:function(e,n){return t.muted?Promise.resolve():o.log(e,n)}}},e}();t.Factory=m,t.factory=function(e){return void 0===e&&(e={}),new m(e)}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name=n.constructor.name,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}();e.exports.defined=function(e,t){if(void 0===e)throw new o(t)},e.exports.object=function(e,t){if(void 0!==e&&("object"!==(void 0===e?"undefined":r(e))||Array.isArray(e)||null===e))throw new o(t)},e.exports.ok=function(e,t){if(!e)throw new o(t)},e.exports.AssertionError=o},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(22),i=n(45),a=i.mapValues,s=i.filterValues,u=n(46),c=n(47),f=n(48),l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._publishers=t.publishers,this._validators=t.validators||[],this._defaults=t.defaults,this._events=t.events||{},this._context=n||{},this._defaultValueTimeout=t.defaultValueTimeout||5e3,this._defaultContinueOnFail=t.defaultContinueOnFail||!1,this._onPublisherFailHandler=t.onPublisherFailHandler||e._defaultPublisherFailHandler}return r(e,[{key:"log",value:function(e,t,n){var r=this;o.defined(e,"Event object or event key must be provided.");var i=this._extractEventAndContext(e,t,n),u=i.event,c=i.context,f=void 0!==c.useBatch?c.useBatch:this._context.useBatch;if(f){var l=this._initBuffer(f),d=s(this._defaults,(function(e){return"function"==typeof e})),p=a(d,(function(e){return e()}));return l.feed(Object.assign({},u,p),c)}return this._getDefaults().then((function(e){var t=Object.assign({},e,u);if(!(0===r._validators.length||r._validators.some((function(e){return e.match(t)&&(e.execute(t)||!0)}))))throw new Error("No validator accepted the event. Source: "+t.src+" Evid: "+(t.evid||t.evtId));return r._send(t,c)}))}},{key:"_send",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Promise.all(this._publishers.map((function(r){var o=Object.assign({},e);return Promise.resolve().then((function(){return r(o,Object.assign({},t._context,n))})).catch((function(e){return t._onPublisherFailHandler(e,{publisherName:r.name})}))}))).then((function(){}))}},{key:"_extractEventAndContext",value:function(e,t,n){var r=void 0,i={};if("string"!=typeof e)r=e,i=t||i;else{if(!(r=this._events[e]))throw new o.AssertionError("Event with key '"+e+"' not found in event map.");t&&(r=Object.assign({},r,t),i=n||i)}return{event:r,context:i}}},{key:"_initBuffer",value:function(e){var t=this,n=!0===e?300:e;return this._buffer||(this._buffer=new f(n).onFlush((function(n){var r=s(t._defaults,(function(e){return"function"!=typeof e}));return n.g=r,t._send(n,{useBatch:e})})))}},{key:"_handleDefaultsError",value:function(e){return this._defaultContinueOnFail?(c.error(e),null):Promise.reject(e)}},{key:"_getDefaults",value:function(){var e=this;if(!this._defaults)return Promise.resolve({});var t=a(this._defaults,(function(t,n){if("function"==typeof t)try{t=t()}catch(t){return e._handleDefaultsError(t)}return t&&"function"!=typeof t.then?t:u.timedPromise(t,{message:"Cannot get default value '"+n+" for BI Event'",timeout:e._defaultValueTimeout}).catch((function(t){return e._handleDefaultsError(t)}))}));return u.allAsObject(t)}}],[{key:"_defaultPublisherFailHandler",value:function(e,t){return t.publisherName}}]),e}();e.exports=l},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(1)),o=i(n(6));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(n){var r=n.name,i=n.phaseStartTime;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,{}));return a.data.name=r,a.data.duration=Math.floor(o.default.now()-i),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default);t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(70),i=(r=o)&&r.__esModule?r:{default:r},a=n(9),s=n(3),u=n(12);var c={getSessionId:function(){var e=void 0!==(0,s.env)()&&(0,s.env)().fedops&&(0,s.env)().fedops.sessionId;return e=(e=e||i.default.getItem(a.SESSION_ID_STORAGE_KEY))||this.generateGuid(),(0,u.setSessionId)(e),i.default.setItem(a.SESSION_ID_STORAGE_KEY,e),e},generateGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}};t.default=c},function(e,t,n){var r=n(73),o=n(74);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(0);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(0),o=n(81),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,u={adapter:(void 0!==t&&"[object process]"===Object.prototype.toString.call(t)?s=n(31):"undefined"!=typeof XMLHttpRequest&&(s=n(31)),s),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(i)})),e.exports=u}).call(this,n(19))},function(e,t,n){"use strict";var r=n(0),o=n(82),i=n(28),a=n(84),s=n(85),u=n(32);e.exports=function(e){return new Promise((function(t,c){var f=e.data,l=e.headers;r.isFormData(f)&&delete l["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",h=e.auth.password||"";l.Authorization="Basic "+btoa(p+":"+h)}if(d.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:e,request:d};o(t,c,r),d=null}},d.onabort=function(){d&&(c(u("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){c(u("Network Error",e,null,d)),d=null},d.ontimeout=function(){c(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var g=n(86),m=(e.withCredentials||s(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;m&&(l[e.xsrfHeaderName]=m)}if("setRequestHeader"in d&&r.forEach(l,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete l[t]:d.setRequestHeader(t,e)})),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),c(e),d=null)})),void 0===f&&(f=null),d.send(f)}))}},function(e,t,n){"use strict";var r=n(83);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){t=t||{};var n={};return r.forEach(["url","method","params","data"],(function(e){void 0!==t[e]&&(n[e]=t[e])})),r.forEach(["headers","auth","proxy"],(function(o){r.isObject(t[o])?n[o]=r.deepMerge(e[o],t[o]):void 0!==t[o]?n[o]=t[o]:r.isObject(e[o])?n[o]=r.deepMerge(e[o]):void 0!==e[o]&&(n[o]=e[o])})),r.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=e.split(t,n);if(r.length===n){var o=0;o="string"==typeof t?r.join(t).length:r.reduce((function(r,o,i){var a=0;return i+1<n&&(a=e.slice(r).match(t).shift().length),r+o.length+a}),0),r[n-1]+=e.slice(o)}return r}},function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(5),i=o.STORAGE_PREFIX,a=o.PREFIX_SEPARATOR,s=o.KEY_SEPARATOR;function u(e){var t=e.split(s),n=r(t,2),o=n[0],i=n[1],u=o.split(a),c=r(u,3),f=c[1],l=c[2];return void 0===l?{namespace:f,key:i}:{namespace:f,scope:l,key:i}}function c(e){return JSON.parse(e)}e.exports={deserializeData:c,getCacheRecords:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i+a,t=[],n=0;n<localStorage.length;n++){var r=localStorage.key(n);if(r.startsWith(e)){var o=localStorage.getItem(r);t.push(Object.assign({size:r.length+o.length,originalKey:r},c(o),u(r)))}}return t},isExpired:function(e){return!!e.expiration&&e.createdAt+1e3*e.expiration<=Date.now()}}},function(e,t,n){(function(r){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(39)(t);const{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(19))},function(e,t,n){"use strict";t.__esModule=!0,t.phasesConfig=void 0,t.create=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;var n=e.replace(/\./g,"-");(0,u.initializeGlobal)(n);var a=(0,i.create)(t);return new s.default(n,(0,r.env)().__CI_APP_VERSION__||o.DEFAULT_APP_VERSION,a,t)},t.reportAppLoadStarted=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).artifactData;(0,u.initializeGlobal)(e),(0,u.setLoadStartTime)(e,f.default.responseEndTime()||f.default.now());var n=c.default.getSessionId();(0,u.setSessionId)(n);var o="//frog.wix.com/fed?appName="+e+"&src=72&evid=14&session_id="+n+"&_="+Math.random();t&&(o+="&artifactId="+t.id+"&artifactVersion="+t.version+"&isRollout="+t.isRollout);(0,r.hasSendBeacon)()?(0,r.sendBeacon)(o):(new Image).src=o};var r=n(3),o=n(9),i=n(20),a=n(53),s=l(a),u=n(12),c=l(n(25)),f=l(n(6));function l(e){return e&&e.__esModule?e:{default:e}}t.phasesConfig=a.phasesConfigValues},function(e,t,n){e.exports=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let n;function a(...e){if(!a.enabled)return;const t=a,o=Number(new Date),i=o-(n||o);t.diff=i,t.prev=n,t.curr=o,n=o,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,o)=>{if("%%"===n)return n;s++;const i=r.formatters[o];if("function"==typeof i){const r=e[s];n=i.call(t,r),e.splice(s,1),s--}return n}),r.formatArgs.call(t,e),(t.log||r.log).apply(t,e)}return a.namespace=e,a.enabled=r.enabled(e),a.useColors=r.useColors(),a.color=t(e),a.destroy=o,a.extend=i,"function"==typeof r.init&&r.init(a),r.instances.push(a),a}function o(){const e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function i(e,t){const n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function a(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){const e=[...r.names.map(a),...r.skips.map(a).map(e=>"-"+e)].join(",");return r.enable(""),e},r.enable=function(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){const e=r.instances[t];e.enabled=r.enabled(e.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(40),Object.keys(e).forEach(t=>{r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t){var n=1e3,r=60*n,o=60*r,i=24*o,a=7*i,s=365.25*i;function u(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var u=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*s;case"weeks":case"week":case"w":return u*a;case"days":case"day":case"d":return u*i;case"hours":case"hour":case"hrs":case"hr":case"h":return u*o;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(e);if("number"===c&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return u(e,t,i,"day");if(t>=o)return u(e,t,o,"hour");if(t>=r)return u(e,t,r,"minute");if(t>=n)return u(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(21)),o=n(9);var i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.biLoggerFactory,i=t.baseUrl,a=t.endpoint;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.factory=n||r.factory({host:i}),this.performancePublisher=this.factory.logger({endpoint:o.PERFORMANCE_BI_ENPOINT}),this.fedopsPublisher=this.factory.logger({endpoint:a||o.FEDOPS_BI_ENDPOINT})}return e.prototype.report=function(e,t){if(!e)return null;switch(t){case o.PERFORMANCE_BI_ENPOINT:return this.performancePublisher.log(e);default:return this.fedopsPublisher.log(e)}},e}();t.default=i},function(e,t,n){"use strict";var r=n(44),o=n(23);e.exports.BiLoggerFactory=r,e.exports.BiLogger=o,e.exports.factory=function(){return new r}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(22),a=n(23),s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._publishers=[],this._validators=[],this._defaults={},this._events={}}return o(e,[{key:"addPublisher",value:function(e){return i.defined(e,"Publisher must be provided"),i.ok("function"==typeof e,"Expected a publisher function"),this._publishers.push(e),this}},{key:"addValidator",value:function(e){return i.defined(e,"Validator must be provided"),i.ok("object"===(void 0===e?"undefined":r(e))&&e,"Expected a validator object"),i.ok(e.execute&&e.match,"Provided validator does not match the interface"),this._validators.push(e),this}},{key:"setDefaults",value:function(e){return i.defined(e,"Defaults must be provided"),i.object(e,"Defaults must be an object"),this._defaults=e,this}},{key:"updateDefaults",value:function(e){return i.defined(e,"Defaults must be provided"),i.object(e,"Defaults must be an object"),Object.assign(this._defaults,e),this}},{key:"setEvents",value:function(e){return i.defined(e,"Events must be provided"),i.object(e,"Events must be an object"),this._events=e,this}},{key:"setDefaultValueTimeout",value:function(e){return i.defined(e,"Default Value Timeout must be provided"),this._defaultValueTimeout=e,this}},{key:"setDefaultContinueOnFail",value:function(e){return i.defined(e,"Default Continue On Fail must be provided"),this._defaultContinueOnFail=e,this}},{key:"setPublisherFailHandler",value:function(e){return i.defined(e,"Publisher Fail Handler must be provided"),this._onPublisherFailHandler=e,this}},{key:"logger",value:function(e){return new a({publishers:this._publishers,validators:this._validators,defaults:this._defaults,events:this._events,defaultValueTimeout:this._defaultValueTimeout,defaultContinueOnFail:this._defaultContinueOnFail,onPublisherFailHandler:this._onPublisherFailHandler},e)}}]),e}();e.exports=s},function(e,t,n){"use strict";e.exports.mapValues=function(e,t){return e?Object.keys(e).reduce((function(n,r){return n[r]=t(e[r],r,e),n}),{}):{}},e.exports.filterValues=function(e,t){return e?Object.keys(e).reduce((function(n,r){return t(e[r],r,e)&&(n[r]=e[r]),n}),{}):{}}},function(e,t,n){"use strict";e.exports.timedPromise=function(e,t){var n=t.message,r=t.timeout,o=new Promise((function(e,t){setTimeout(t,r,n?"Timeout: "+n:"Timeout")}));return Promise.race([e,o])},e.exports.allAsObject=function(e){var t=Object.keys(e);return Promise.all(t.map((function(t){return e[t]}))).then((function(e){return e.reduce((function(e,n,r){return e[t[r]]=n,e}),{})}))}},function(e,t,n){"use strict";e.exports={error:function(){var e;console&&console.error&&(e=console).error.apply(e,arguments)}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(49),i=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._flushHandler=function(e){return e},this._flushDebounced=o((function(){return n._flush()}),t),this._init()}return r(e,[{key:"_init",value:function(){var e=this;this._startTime=Date.now(),this._events=[],this._resolve=null,this._promise=new Promise((function(t){return e._resolve=t}))}},{key:"_flush",value:function(){var e=this._events,t=this._resolve,n=this._startTime;this._init(),this._flushHandler(function(e,t){return{dt:Date.now()-t,e:e}}(e,n)).then(t)}},{key:"onFlush",value:function(e){return this._flushHandler=e,this}},{key:"feed",value:function(e,t){return this._events.push(function(e,t,n){return{dt:Date.now()-n,f:e,context:t}}(e,t,this._startTime)),this._flushDebounced(),this._promise}}]),e}();e.exports=i},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=void 0;return function(){var o=this,i=arguments,a=function(){r=null,n||e.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(o,i)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14);t.defined=function(e,t){if(void 0===e)throw new r.AssertionError(t)},t.object=function(e,t){if(void 0!==e&&("object"!=typeof e||Array.isArray(e)||null===e))throw new r.AssertionError(t)},t.ok=function(e,t){if(!e)throw new r.AssertionError(t)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),a=n(7),s=n(11),u=n(14),c=n(10),f=n(52),l=function(e){return void 0===e&&(e={}),e.ms=Math.round(c.now()),e._lv=s.LoggerVersion,e},d=function(e,t){t&&("function"!=typeof t&&t.postMessage&&e.publishMethod===s.PublishMethods.PostMessage?t=t.postMessage:"function"!=typeof t&&(t=null));var n=t?function(e){return t(l(e))}:l;return function(t,i){return i.useBatch?(t.e=t.e.map((function(t){var a=t.context,s=o(t,["context"]);return r({},s,{f:r({},n(s.f),{_rp:a&&a.endpoint||i.endpoint||e.endpoint})})})),t):n(t)}};function p(e){return void 0===e&&(e={}),function(t,n){void 0===n&&(n={});var r=i.buildBiUrl(e,t,n);return f.beaconTransport(r,t,!!n.useBatch).catch((function(){return f.pixelTransport(r,n.image)}))}}function h(e){return void 0===e&&(e={}),function(t,n){void 0===n&&(n={});var r=i.buildBiUrl(e,t,n),o=n.useBatch?"POST":"GET";return f.fetchTransport(r,t,o).catch((function(e){return e instanceof u.APINotSupportedError?f.xhrTransport(r,t,o):Promise.reject(e)}))}}function g(e,t){return void 0===e&&(e={}),function(e){return f.postMessageTransport(e,t)}}t.imagePublisher=function(e){return void 0===e&&(e={}),function(t,n){if(void 0===n&&(n={}),n.useBatch)throw new u.APINotSupportedError("Can't use image publisher to send batched events.");var r=i.buildBiUrl(e,t,n);return f.pixelTransport(r,n.image)}},t.beaconPublisher=p,t.fetchPublisher=h,t.xhrPublisher=function(e){return void 0===e&&(e={}),function(t,n){void 0===n&&(n={});var r=i.buildBiUrl(e,t,n),o=n.useBatch?"POST":"GET";return f.xhrTransport(r,t,o)}},t.postMessagePublisher=g,t.resolvePublisher=function(e,t){var n,r;return e.publishMethod===s.PublishMethods.PostMessage?(n=g,r=t&&t.postMessage):n=a.isWebWorker()?h:p,n(e,r)},t.getPublisher=function(e,n,r){var o=t.resolvePublisher(e,r),i=d(e,n);return function(e,t){return o(i(e,t),t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),o=n(14);t.beaconTransport=function(e,t,n){return void 0===n&&(n=!1),new Promise((function(o,i){return r.sendBeacon(e,n?JSON.stringify(t):void 0)?o():i(new Error("Transport Error: Cannot send bi using beacon"))}))},t.pixelTransport=function(e,t){return new Promise((function(n,r){var o=t||new window.Image(0,0);o.onload=function(){return n()},o.onerror=function(){return r(new Error("Transport Error: Cannot send bi using pixel"))},o.src=e}))},t.fetchTransport=function(e,t,n){if(void 0===n&&(n="GET"),"undefined"==typeof fetch)return Promise.reject(new o.APINotSupportedError("fetch"));var r={method:n,credentials:"include"};return"POST"===n?r.body=JSON.stringify(t):r.keepalive=!0,fetch(e,r).then((function(e){if(!e.ok)throw Error("Transport Error: Cannot send bi using fetch. Status: "+e.status)}))},t.xhrTransport=function(e,t,n){return void 0===n&&(n="GET"),new Promise((function(r,o){var i=new XMLHttpRequest;i.open(n,location.protocol+":"+e),i.onload=r,i.onerror=function(){o(new Error("Transport Error: Cannot send bi using xhr."))},i.withCredentials=!0,"POST"===n?i.send(JSON.stringify(t)):i.send()}))},t.postMessageTransport=function(e,t){void 0===t&&(t=self.postMessage);var n=[e];return"undefined"==typeof WorkerGlobalScope&&n.push("*"),t.apply(self,n)}},function(e,t,n){"use strict";t.__esModule=!0,t.phasesConfigValues=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),i=j(n(6)),a=j(n(54)),s=j(n(55)),u=j(n(56)),c=j(n(58)),f=j(n(59)),l=j(n(60)),d=j(n(61)),p=j(n(24)),h=j(n(62)),g=j(n(63)),m=j(n(64)),v=j(n(65)),y=j(n(66)),_=j(n(67)),b=j(n(68)),w=j(n(69)),I=j(n(25)),O=n(71),S=j(O),E=n(20),P=n(9),x=j(n(72)),C=j(n(26)),T=j(n(1));function j(e){return e&&e.__esModule?e:{default:e}}var A=function(e,t){if(e)return e(t)},M=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i={appId:null,widgetId:null,metasiteId:null,sessionId:I.default.getSessionId(),isServerSide:null,disableAutoLoadFinish:!1,phasesConfig:k.SEND_ON_START,interactionTimeout:null,timeoutHook:null,startHook:null,endHook:null,isPersistent:!1,corrId:(0,C.default)()},u=Object.assign({},i,o);this.appName=t,this.appVersion=n,this.appId=u.appId,this.widgetId=u.widgetId,this.metasiteId=u.metasiteId,this.corrId=u.corrId,this.isServerSide=u.isServerSide,this.params={sessionId:u.sessionId},this.disableAutoLoadFinish=u.disableAutoLoadFinish,this.phasesConfig=u.phasesConfig,this._appLoadedCalled={},this._appStartLoadCalled={},this.reporter=r||(0,E.create)(),this.loadingPhases=new S.default(t),this.dataSourceBase=new s.default,this.dataSourceBase.addItem(new b.default({appName:t,isServerSide:this.isServerSide})).addItem(new T.default({corrId:this.corrId})),o&&o.artifactData&&this.dataSourceBase.addItem(new x.default(o.artifactData)),this._outgoingInteractions={},this.interactionTimeout=u.interactionTimeout,this.timeoutHook=u.timeoutHook,this.startHook=u.startHook,this.endHook=u.endHook,this.isPersistent=u.isPersistent,this.times=new a.default(t)}return e.prototype._report=function(e,t){return this.reporter.report(e.mergeItems(),t)},e.prototype.getAppName=function(){return this.appName},e.prototype.getAppVersion=function(){return this.appVersion},e.prototype.getReporter=function(){return this.reporter},e.prototype.getParam=function(e){return this.params[e]},e.prototype._isDisableAutoLoadFinish=function(){return this.disableAutoLoadFinish},e.prototype.isDisableAutoLoadFinish=function(){return this._isDisableAutoLoadFinish()},e.prototype.reportNetworkAnalysis=function(){var e=this,t=i.default.getResources();setTimeout((function(){try{var n=new u.default(e.sessionId),r=n.performNetworkAnalysis(t);if(!r)return;var o=e.dataSource.addItem(n).addItem(r);e._report(o)}catch(e){console.error("[fedops] Failed to report resource metrics",e)}}),1e3)},e.prototype.appLoadStarted=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.appId;if(!(n&&this._appStartLoadCalled[n]||!n&&this._appStartLoadCalled[this.appName])){e._markAppLoadStarted(this.appName),this._appStartLoadCalled[n||this.appName]=!0;var r=n||this.appId;this.times.setLoadStarted(r?{appId:n||this.appId}:{});var o=this.dataSource.addItem(new c.default(this.sessionId)).addItem(new _.default({appId:n||this.appId,widgetId:this.widgetId,isServerSide:this.isServerSide}));return n&&o.addItem(new b.default({appName:n,isServerSide:this.isServerSide})),this._report(o,this.isPersistent?P.PERFORMANCE_BI_ENPOINT:P.FEDOPS_BI_ENDPOINT)}},e.prototype.appLoaded=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.appId,r=t.customParams;if(!(n&&this._appLoadedCalled[n]||!n&&this._appLoadedCalled[this.appName])){e._clearLoadTimeout(),e._markAndMeasureAppLoad(this.appName),this._appLoadedCalled[n||this.appName]=!0,this._sendLastAppLoadPhaseIfNeeded(),this.reportNetworkAnalysis();var o=n||this.appId,i=this.dataSource.addItem(new m.default(this.sessionId)).addItem(new _.default({appId:n||this.appId,widgetId:this.widgetId,isServerSide:this.isServerSide})).addItem(new l.default(this.times.getAppLoadTime(o?{appId:n||this.appId}:{})).setFirstRequestDuration(this.times.getFirstRequestDuration()));if(n&&i.addItem(new b.default({appName:n,isServerSide:this.isServerSide})),r&&i.addItem(new w.default({customParams:r})),this.phasesConfig===k.SEND_ON_APP_LOADED){var a=this.loadingPhases.getPhases({appId:n});a.length>0&&i.addItem(new g.default(a))}return this._report(i,this.isPersistent?P.PERFORMANCE_BI_ENPOINT:P.FEDOPS_BI_ENDPOINT)}},e.prototype.appLoadingPhaseStart=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.appId,r=t.widgetId;this.phasesConfig===k.SEND_ON_START&&this.loadingPhases.createCodeParsingPhaseIfNotExist({appId:n,widgetId:r}),this.loadingPhases.saveLoadingPhase({name:e,appId:n,widgetId:r}),this._sendPreviousPhaseIfNeeded(e,{appId:n,widgetId:r}),i.default.mark("[fedops] "+e+" started")},e.prototype._sendPreviousPhaseIfNeeded=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.appId,r=t.widgetId;if(this.phasesConfig===k.SEND_ON_START){var o=this.loadingPhases.getPhasePreviousTo({name:e,appId:n,widgetId:r});i.default.mark("[fedops] "+o.name+" finished");var a=new h.default(o),s=new f.default(this.sessionId),u=this.dataSource.addItem(a).addItem(s);this._report(u)}},e.prototype.appLoadingPhaseFinish=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.appId,r=t.widgetId,o=t.widgetArray;if(this.phasesConfig===k.SEND_ON_START)throw new Error('To use appLoadingPhaseFinish you must create the logger with the "phasesConfig: SEND_ON_FINISH or SEND_ON_APP_LOADED" param');if(i.default.mark("[fedops] "+e+" finished"),this.phasesConfig!==k.SEND_ON_APP_LOADED){var a=this.loadingPhases.getAppLoadingPhaseData({name:e,appId:n,widgetId:r});if(!a)throw new Error("Cannot report end of a phase that wasn't started. Phase "+e+" doesn't exist");var s=new p.default(a),u=new f.default(this.sessionId),c=new _.default({appId:n,widgetId:r,widgetArray:o,isServerSide:this.isServerSide}),l=this.dataSource.addItem(s).addItem(u).addItem(c);return this._report(l,this.isPersistent?P.PERFORMANCE_BI_ENPOINT:P.FEDOPS_BI_ENDPOINT)}this.loadingPhases.endLoadingPhase({name:e,appId:n,widgetId:r,widgetArray:o})},e.prototype._sendLastAppLoadPhaseIfNeeded=function(){var e=this.loadingPhases.getNextPhaseToReport();this.phasesConfig===k.SEND_ON_START&&e&&e.name!==O.CODE_PARSING_PHASE_NAME&&this._report(this.dataSource.addItem(new h.default(e)).addItem(new f.default(this.sessionId)))},e._clearLoadTimeout=function(){(0,o.env)()&&(0,o.env)().fedops&&"function"==typeof(0,o.env)().fedops.clearLoadTimeout&&(0,o.env)().fedops.clearLoadTimeout()},e.prototype.clearResourceTimings=function(){i.default.clearResourceTimings()},e._markAppLoadStarted=function(e){i.default.mark("[fedops] "+e+" app-load-started")},e._markAndMeasureAppLoad=function(e){i.default.mark("[fedops] "+e+" app-loaded");try{i.default.measure("[fedops] "+e+" app-loaded","[fedops] "+e+" app-load-started","[fedops] "+e+" app-loaded")}catch(e){}},e.prototype.interactionStarted=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.interactionTimeout,o=n.startHook,a=n.timeoutHook;i.default.mark(e+" started");var s=function(){if(r||t.interactionTimeout)return setTimeout((function(){var n=t.dataSource.addItem({interactionName:e}).addItem({errorType:"timeout"}).addItem(new d.default(t.sessionId));t._report(n),A(a||t.timeoutHook,{name:e,timeout:r||t.interactionTimeout})}),r||t.interactionTimeout)},u=this.dataSource.addItem({name:e}).addItem(new v.default(this.sessionId));this._outgoingInteractions[e]={timestamp:i.default.now(),timeout:r||this.interactionTimeout},this._report(u),A(o||this.startHook,{name:e});var c=s();return{timeoutId:c}},e.prototype.interactionEnded=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.timeoutId,a=n.endHook;this._outgoingInteractions[e]&&(i.default.mark(e+" ended"),i.default.measure(e+" duration",e+" started",e+" ended")),r&&clearTimeout(r);var s=function(n){return n.fedops&&n.fedops.apps&&n.fedops.apps[t.appName]&&n.fedops.apps[t.appName].interactions&&n.fedops.apps[t.appName].interactions[e]},u=this._outgoingInteractions[e]||s((0,o.env)()),c=u?Math.floor(i.default.now()-u.timestamp):"";A(a||this.endHook,{name:e,duration:c,timeout:this._outgoingInteractions[e]&&this._outgoingInteractions[e].timeout});var f=this.dataSource.addItem({name:e}).addItem({duration:c}).addItem(new y.default(this.sessionId));delete this._outgoingInteractions[e],this._report(f)},e.prototype.getLoggerForWidget=function(t){var n=t.appName,r=t.appId,o=t.widgetId,i=t.version,a=t.timeoutHook,s=t.startHook,u=t.endHook;return new e(n||r+"_"+o,i||this.getAppVersion(),(0,E.create)({biLoggerFactory:this.reporter.factory}),{isServerSide:this.isServerSide,appId:r,widgetId:o,sessionId:this.sessionId,phasesConfig:k.SEND_ON_START,isPersistent:this.isPersistent,timeoutHook:a,startHook:s,endHook:u})},r(e,[{key:"dataSource",get:function(){return this.dataSourceBase.clone()}},{key:"sessionId",get:function(){return this.getParam("sessionId")},set:function(e){this.params.sessionId=e}}]),e}();t.default=M;var k=t.phasesConfigValues={SEND_ON_START:"SEND_ON_START",SEND_ON_FINISH:"SEND_ON_FINISH",SEND_ON_APP_LOADED:"SEND_ON_APP_LOADED"}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(12),i=n(6),a=(r=i)&&r.__esModule?r:{default:r};var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.appName=t,this.apps={},this.apps[t]={}}return e.prototype._getKeyForApp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.appName,t=arguments[1];return t?e+"_"+t:e},e.prototype.setLoadStarted=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.appId,n=e.widgetId,r=this._getKeyForApp(t,n);this.apps[r]||(this.apps[r]={});var i=a.default.now();this.apps[r].startLoadTime=i,t||(0,o.setLoadStartTime)(r,i)},e.prototype.getLoadStartTime=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.appId,n=e.widgetId,r=this._getKeyForApp(t,n);return Math.floor(this.apps[r]&&this.apps[r].startLoadTime||(0,o.getLoadStartTime)(r)||0)},e.prototype.getAppLoadTime=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.appId,n=e.widgetId;return Math.floor(a.default.now()-this.getLoadStartTime({appId:t,widgetId:n}))},e.prototype.getFirstRequestDuration=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.appId,n=e.widgetId;return this.getLoadStartTime({appId:t,widgetId:n})},e}();t.default=s},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r};var a=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=[],n&&(void 0===n.length?[n]:n).forEach((function(e){return t.addItem(e)}))}return e.prototype.clone=function(){return new e(this.items.slice())},e.prototype.addItem=function(e){return this.items.push(e instanceof i.default?e:new i.default(e)),this},e.prototype.mergeItems=function(){for(var e={},t=0;t<this.items.length;t++){var n=this.items[t];if(!n.isActive()){e=null;break}var r=n.export();for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e},e}();t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(4)),o=a(n(57)),i=a(n(6));function a(e){return e&&e.__esModule?e:{default:e}}var s={xmlhttprequest:{count:"countXhr",unsupported:"unsprtXhr",duration:"timeXhr",total:"sizeXhr",longest:"longXhr",http2:"h2Xhr"},script:{count:"countJs",unsupported:"unsprtJs",duration:"timeJs",total:"sizeJs",cached:"cachedJs",http2:"h2Js"},link:{count:"countCss",unsupported:"unsprtCss",duration:"timeCss",total:"sizeCss",cached:"cachedCss",http2:"h2Css"},img:{count:"countImg",unsupported:"unsprtImg",duration:"timeImg",total:"sizeImg",cached:"cachedImages",http2:"h2Images"}},u={link:function(e){return/(.\.css$|.\.css?.)/g.test(e.name)}},c=function(e){return e.responseEnd-e.startTime};function f(e,t){var n=u[t];return e.filter((function(e){return t===e.initiatorType&&(!n||n(e))}))}function l(e){return!e.name.match(/http(s)?:\/\/frog.wix.com\//)}function d(e){return t=e.name,(n=o.default.getHost())&&-1===t.indexOf(n)&&0===e.transferSize&&0===e.requestStart;var t,n}function p(e){var t=e.filter((function(e){return!d(e)}));return Object.keys(s).reduce((function(n,r){var o=f(e,r),i=f(t,r),a=s[r];return n[a.count]=i.length,n[a.duration]=function(e){if(0===e.length)return 0;var t={startTime:1/0,responseEnd:0};return e.forEach((function(e){t.startTime>e.startTime&&(t.startTime=e.startTime),t.responseEnd<e.responseEnd&&(t.responseEnd=e.responseEnd)})),t.responseEnd-t.startTime}(i),n[a.total]=function(e){return e.reduce((function(e,t){return e+t.transferSize}),0)}(i),n[a.unsupported]=function(e){var t=e.length;if(0===t)return 0;var n=e.filter(d).length;return Math.round(n/t*100)}(o),n[a.http2]=function(e){if(0===e.length)return 0;var t=!1,n=Math.round(e.filter((function(e){return t=t||"nextHopProtocol"in e,"h2"===e.nextHopProtocol})).length/e.length*100);return t?n:NaN}(o),a.longest&&(n[a.longest]=function(e){if(0===e.length)return 0;var t=e.reduce((function(e,t){return c(t)>=c(e)?t:e}));return c(t)}(i)),a.cached&&(n[a.cached]=function(e){if(0===e.length)return 0;var t=e.filter((function(e){return 0===e.transferSize}));return Math.round(t.length/e.length*100)}(i)),n}),{})}function h(e){return{url:e.name,downloadDuration:e.responseEnd-e.startTime,bytesTransferred:e.transferSize,isHTTP2:"h2"===e.nextHopProtocol}}var g=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,18,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.performNetworkAnalysis=function(e){if(0===e.length)return null;var t=i.default.now(),n=e.filter(l),r=p(n);r.overhead=i.default.now()-t;var a=function(e){return Object.keys(e).reduce((function(t,n){var r=parseInt(e[n]);return isNaN(r)||"number"!=typeof r||(t[n]=r),t}),{})}(r);if(console.debug&&o.default.isFedopsDev()){var u=function(e){var t=e.reduce((function(e,t){return d(t)?e.unsupported.push(t):e.supported.push(t),e}),{supported:[],unsupported:[]});return Object.keys(s).reduce((function(e,n){return e[n]={},e[n].supported=f(t.supported,n).map((function(e){return h(e)})),e[n].unsupported=f(t.unsupported,n).map((function(e){return h(e)})),e}),{})}(n);console.debug("[fedops network analysis] [bytes analysis]\n"+JSON.stringify(a,null,4)),console.debug("[fedops network analysis] [resources breakdown]\n",u)}return a},t}(r.default);t.default=g},function(e,t,n){"use strict";t.__esModule=!0;var r=n(3),o=function(){return void 0!==(0,r.env)()&&(0,r.env)().location};t.default={getHost:function(){return o()&&(0,r.env)().location.host},isFedopsDev:function(){return((o()||{}).search||"").indexOf("fedops=dev")>-1}}},function(e,t,n){"use strict";t.__esModule=!0,t.APP_LOAD_START_EVID=void 0;var r,o=n(4),i=(r=o)&&r.__esModule?r:{default:r};var a=t.APP_LOAD_START_EVID=14,s=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);t.default=s},function(e,t,n){"use strict";t.__esModule=!0,t.PHASE_END_EVID=void 0;var r,o=n(4),i=(r=o)&&r.__esModule?r:{default:r};var a=t.PHASE_END_EVID=13,s=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);t.default=s},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1);var i=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,{duration:n}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.setFirstRequestDuration=function(e){return this.data.frd=e,this},t}(((r=o)&&r.__esModule?r:{default:r}).default);t.default=i},function(e,t,n){"use strict";t.__esModule=!0,t.EVID=void 0;var r,o=n(4),i=(r=o)&&r.__esModule?r:{default:r};var a=t.EVID=17,s=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);t.default=s},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(24),i=(r=o)&&r.__esModule?r:{default:r};var a=function(e,t){return("0"+t).slice(-2)+"_"+e},s=function(e){function t(n){var r=n.name,o=n.index,i=n.phaseStartTime;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,{name:r,index:o,phaseStartTime:i}));return s.data.name=a(r,o),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);t.default=s},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1);var i=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,{}));return r.data.phases=t.mergePhasesWithoutIndex(n),r.data.phases=JSON.stringify(r.data.phases),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.mergePhasesWithoutIndex=function(e){var n={},r=e,o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var s=a;t.deleteIndexFrom(s),n=Object.assign(n,s)}return n},t.deleteIndexFrom=function(e){delete e[Object.getOwnPropertyNames(e)[0]].index},t}(((r=o)&&r.__esModule?r:{default:r}).default);t.default=i},function(e,t,n){"use strict";t.__esModule=!0,t.APP_LOAD_FINISH_EVID=void 0;var r,o=n(4),i=(r=o)&&r.__esModule?r:{default:r};var a=t.APP_LOAD_FINISH_EVID=11,s=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);t.default=s},function(e,t,n){"use strict";t.__esModule=!0,t.INTERACTION_START_EVID=void 0;var r,o=n(4),i=(r=o)&&r.__esModule?r:{default:r};var a=t.INTERACTION_START_EVID=15,s=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);t.default=s},function(e,t,n){"use strict";t.__esModule=!0,t.INTERACTION_END_EVID=void 0;var r,o=n(4),i=(r=o)&&r.__esModule?r:{default:r};var a=t.INTERACTION_END_EVID=16,s=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);t.default=s},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1);var i=function(e){function t(n){var r=n.appId,o=n.widgetId,i=n.isServerSide,a=n.widgetArray;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return s.data=s._filterUndefined({appId:r,widgetId:o,isServerSide:i,widgetArray:a}),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._filterUndefined=function(e){var t={};return Object.keys(e).forEach((function(n){e[n]&&(t[n]=e[n])})),t},t}(((r=o)&&r.__esModule?r:{default:r}).default);t.default=i},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1);var i=function(e){function t(n){var r=n.appName,o=n.isServerSide;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return i.data={appName:o?r+"_ssr":r},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=o)&&r.__esModule?r:{default:r}).default);t.default=i},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1);var i=function(e){function t(n){var r=n.customParams;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return o.data={customParams:r},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=o)&&r.__esModule?r:{default:r}).default);t.default=i},function(e,t,n){"use strict";t.__esModule=!0;var r=n(3);t.default={getItem:function(e){try{return(0,r.env)().localStorage&&(0,r.env)().localStorage.getItem(e)}catch(e){}},setItem:function(e,t){try{return(0,r.env)().localStorage&&(0,r.env)().localStorage.setItem(e,t)}catch(e){}}}},function(e,t,n){"use strict";t.__esModule=!0,t.CODE_PARSING_PHASE_NAME=void 0;var r,o=n(12),i=n(6),a=(r=i)&&r.__esModule?r:{default:r};var s=t.CODE_PARSING_PHASE_NAME="codeParsingPhase",u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.appName=t,this.phases=new Map,this.indexToKey=new Map}return e._getIndexForPhase=function(e){var t=e.name,n=e.appId,r=void 0===n?"":n,o=e.widgetId;return t+"_"+r+"_"+(void 0===o?"":o)},e.prototype.getAppLoadingPhaseData=function(t){var n=t.name,r=t.appId,o=t.widgetId;return this.phases.get(e._getIndexForPhase({name:n,appId:r,widgetId:o}))},e.prototype.saveLoadingPhase=function(t){var n=t.name,r=t.appId,o=t.widgetId,i=e._getIndexForPhase({name:n,appId:r,widgetId:o});if(!this.phases.has(i)){var s=this.phases.size;this.phases.set(i,{name:n,phaseStartTime:a.default.now(),index:s}),this.indexToKey.set(s,i)}},e.prototype.endLoadingPhase=function(t){var n=t.name,r=t.appId,o=t.widgetId,i=t.widgetArray,s=e._getIndexForPhase({name:n,appId:r,widgetId:o});if(this.phases.has(s)&&!this.phases.get(s).duration){var u=this.phases.get(s);u.duration=a.default.now()-u.phaseStartTime,i&&(u.widgetArray=i),o&&(u.widgetId=o),this.phases.set(s,u)}},e.prototype.getNextPhaseToReport=function(){var e=this.phases.size-1,t=this.indexToKey.get(e);return this.phases.get(t)},e.prototype.getPhasePreviousTo=function(t){var n=t.name,r=t.appId,o=t.widgetId,i=this.phases.get(e._getIndexForPhase({name:n,appId:r,widgetId:o})),a=this.indexToKey.get(i.index-1);return this.phases.get(a)},e.prototype.getPhases=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.appId,n=function(e){var t;return(t={})[e.name]=e,t};return Array.from(this.phases).filter((function(e){var n=e[0].split("_")[1];return t&&n===t||!t})).map((function(e){var t=e[1];return n(t)}))},e.prototype.createCodeParsingPhaseIfNotExist=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.appId,r=t.widgetId,i=e._getIndexForPhase({name:s,appId:n,widgetId:r});this.phases.has(i)||(this.phases.set(i,{phaseStartTime:(0,o.getLoadStartTime)(this.appName),index:0,name:s}),this.indexToKey.set(0,i))},e}();t.default=u},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1);var i=function(e){function t(n){var r=n.id,o=n.version,i=n.isRollout;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return a.data={artifactId:r,artifactVersion:o,isRollout:i},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=o)&&r.__esModule?r:{default:r}).default);t.default=i},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},function(e,t,n){"use strict";var r=n(0),o=n(27),i=n(77),a=n(33);function s(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var u=s(n(30));u.Axios=i,u.create=function(e){return s(a(u.defaults,e))},u.Cancel=n(34),u.CancelToken=n(89),u.isCancel=n(29),u.all=function(e){return Promise.all(e)},u.spread=n(90),e.exports=u,e.exports.default=u},function(e,t){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";var r=n(0),o=n(28),i=n(78),a=n(79),s=n(33);function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,o){return this.request(r.merge(o||{},{method:e,url:t,data:n}))}})),e.exports=u},function(e,t,n){"use strict";var r=n(0);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,n){"use strict";var r=n(0),o=n(80),i=n(29),a=n(30),s=n(87),u=n(88);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!s(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return c(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(32);e.exports=function(e,t,n){var o=n.config.validateStatus;!o||o(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(34);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(92),a=n(35),s=n(2),u=n(17),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.storageStrategy=s.verify(t),this.stopListener}return o(e,[{key:"start",value:function(e,t){if(!e||"function"!=typeof e)throw new Error("start function must get a verifier function as a first argument");if(t&&"function"!=typeof t)throw new Error("the interceptor must be a function");var n=s.verify(this.storageStrategy);this.stopListener=i("data-capsule",(function(o,i){if("string"!=typeof o.data)return;var s=a(o.data,"|",3),u=r(s,3),c=u[0],f=u[1],l=u[2],d=function(e,t){if("resolve"===e){var n=[e,JSON.stringify({data:t})].join("|");return i(n)}var r=[e,t].join("|");return i(r)};if(!e(o.source,o.origin,c))return d("reject","message was not authorized");var p=n[f].bind(n),h=JSON.parse(l).data,g=h[h.length-1],m=t?t(g,o.source,o.origin,c):g;return h[h.length-1]=m,p.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(h)).then((function(e){return d("resolve",e)})).catch((function(e){return d("reject",e.message||e)}))}))}},{key:"stop",value:function(){this.stopListener&&this.stopListener()}}]),e}();e.exports=c},function(e,t,n){e.exports=n(93)},function(e,t,n){"use strict";var r,o=n(16),i=n(13),a=n(94),s=(r=a)&&r.__esModule?r:{default:r};var u=function(){};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;if(!e||"string"!=typeof e)throw new Error("listener function expects to recieve a scope<string> as a first argument");var n=function(n){if(function(e,t){try{return(0,i.parseConnectionMessage)(e)===t}catch(e){return!1}}(n.data,e)){var r=function(e){try{return e.ports[0]}catch(e){}}(n);r&&(!function(e){e.postMessage(o.connectionSuccessMsg)}(r),(0,s.default)(r,t))}};return window.addEventListener("message",n),function(){return window.removeEventListener("message",n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.onmessage=function(n){var o=n.data,i=(0,r.parseChannelMessage)(o),a=i.id,s={data:i.payload,origin:n.origin,lastEventId:n.lastEventId,source:n.source,ports:n.ports};t(s,(function(t){e.postMessage((0,r.constructChannelMessage)(t,a))}))}};var r=n(13)},function(e,t,n){"use strict";var r=n(36),o=r.getCacheRecords,i=r.isExpired;function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.records[0];return localStorage.removeItem(t.originalKey),{records:t===e.records[0]?e.records.slice(1):e.records.filter((function(e){return e.originalKey!==t.originalKey})),requiredSpace:e.requiredSpace-t.size}}function s(e,t){return e.lastUsed-t.lastUsed}function u(e){return e.records.length>0&&e.requiredSpace>0}e.exports=function(e){var t={records:o(),requiredSpace:e};!function(e){for(e.records.sort(s);u(e);)e=a(e)}(t=function(e){return e.records.filter((function(e){return i(e)})).forEach((function(t){return e=a(e,t)})),e}(t))}},function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(35),a=n(97),s=n(2),u=n(5),c=u.CONNECTION_MAX_TIMEOUT,f=u.MESSAGE_MAX_TIMEOUT,l=u.toError,d=function(e){function t(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));i.target=e,i.origin=n,i.token=r,i.channel,i.opts=o;var a=i.opts,s=a.connectionMaxTimeout,u=void 0===s?c:s,l=a.messageMaxTimeout,d=void 0===l?f:l;return i.connectionMaxTimeout=u,i.messageMaxTimeout=d,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"getChannel",value:function(){var e=this;return this.channel?Promise.resolve(this.channel):a("data-capsule",{target:this.target,origin:this.origin,connectionMaxTimeout:this.connectionMaxTimeout,messageMaxTimeout:this.messageMaxTimeout}).then((function(t){return e.channel=t,t}))}},{key:"sendCommand",value:function(e,t){var n=this,o={data:t};return this.getChannel().then((function(t){return t([n.token,e,JSON.stringify(o)].join("|")).then((function(e){var t=i(e.data,"|",2),n=r(t,2),o=n[0],a=n[1];if("reject"===o)throw l(a);return JSON.parse(a).data}))}))}},{key:"setItem",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.sendCommand("setItem",t)}},{key:"getItem",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.sendCommand("getItem",t)}},{key:"removeItem",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.sendCommand("removeItem",t)}},{key:"getAllItems",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.sendCommand("getAllItems",t)}}]),t}(s);e.exports=d},function(e,t,n){e.exports=n(98)},function(e,t,n){"use strict";var r,o=n(16),i=n(13),a=n(99),s=(r=a)&&r.__esModule?r:{default:r};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.targetOrigin,r=void 0===n?"*":n,a=t.connectionMaxTimeout,u=void 0===a?o.deafultConnectionMaxTimeout:a,c=t.messageMaxTimeout,f=void 0===c?o.deafultMessageMaxTimeout:c;return new Promise((function(t,n){setTimeout((function(){n(new Error("max timeout of "+u+"ms exceeded"))}),u);var a=new window.MessageChannel;a.port1.onmessage=function(e){if(e.data===o.connectionSuccessMsg)return t((0,s.default)(a.port1,{messageMaxTimeout:f}));n(new Error("connection could not establise"))};var c=(0,i.constructConnectionMessage)(e);window.parent.postMessage(c,r,[a.port2])}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.messageMaxTimeout,r={};return e.onmessage=function(e){var t=(0,o.parseChannelMessage)(e.data),n=t.id,i=t.payload;if(r[n]){var a={data:i,origin:e.origin,lastEventId:e.lastEventId,source:e.source,ports:e.ports};r[n](a)}},function(t,i){return new Promise((function(s,u){setTimeout((function(){u(new Error("max timeout of "+n+"ms exceeded"))}),n);var c=(0,a.default)(),f=(0,o.constructChannelMessage)(t,c);return r[c]=s,e.postMessage(f,i)}))}};var r,o=n(13),i=n(26),a=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(8),i=n(2),a=n(5),s=a.NOT_FOUND,u=a.SERVER_ERROR;function c(e){return"undefined"==typeof document?"":(document.cookie.match(e+"=([^;]*)")||[""]).pop()}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"extendScope",value:function(e){return e="string"==typeof e?{siteId:e}:e,Object.assign({userId:c("wixClient").split("|")[6]||c("_wixCIDX")},e)}},{key:"setItem",value:function(e,t,n){var r={nameSpace:n.namespace,key:e,blob:t};return n.scope&&n.scope.siteId&&(r.siteId=n.scope.siteId),n.expiration&&(r.TTLInDays=Math.ceil(n.expiration/86400)),o.post("/_api/wix-user-preferences-webapp/set",r).then((function(){})).catch((function(){throw u}))}},{key:"removeItem",value:function(e,t){var n={nameSpace:t.namespace,key:e};return t.scope&&t.scope.siteId&&(n.siteId=t.scope.siteId),o.post("/_api/wix-user-preferences-webapp/delete",n).then((function(){})).catch((function(){throw u}))}},{key:"getItem",value:function(e,t){var n=t.scope&&t.scope.siteId,r=["/_api/wix-user-preferences-webapp",n?"getVolatilePrefForSite":"getVolatilePrefForKey",t.namespace,n,e].filter((function(e){return e})).join("/");return o.get(r).then((function(t){return t.data[e]})).catch((function(e){throw 404===e.response.status?s:u}))}},{key:"getAllItems",value:function(e){var t=e.scope&&e.scope.siteId,n=["/_api/wix-user-preferences-webapp",t?"getVolatilePrefsForSite":"getVolatilePrefs",e.namespace,t].filter((function(e){return e})).join("/");return o.get(n).then((function(e){return e.data})).catch((function(){throw u}))}}]),t}(i);e.exports=f},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(5).NOT_FOUND,i=n(2),a=n(17),s="___DELETED___",u=function(e){function t(e){var n=e.remoteStrategy,r=e.localStrategy,o=void 0===r?new a:r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.remoteStrategy=i.verify(n),s.localStrategy=i.verify(o),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"extendScope",value:function(e){return this.remoteStrategy.extendScope(e)}},{key:"_cacheItem",value:function(e,t,n){return this.localStrategy.setItem(e,t,Object.assign(n,{expiration:3600}))}},{key:"setItem",value:function(e,t,n){var r=this;return this.remoteStrategy.setItem(e,t,n).then((function(){return r._cacheItem(e,t,n)}))}},{key:"removeItem",value:function(e,t){var n=this;return this.remoteStrategy.removeItem(e,t).then((function(){return n._cacheItem(e,s,t)}))}},{key:"_getRemoteAndCache",value:function(e,t){var n=this;return this.remoteStrategy.getItem(e,t).then((function(r){return n._cacheItem(e,r,t).then((function(){return r}))})).catch((function(r){if(r===o)return n._cacheItem(e,s,t).then((function(){throw r}));throw r}))}},{key:"getItem",value:function(e,t){var n=this;return this.localStrategy.getItem(e,t).catch((function(){return n._getRemoteAndCache(e,t)})).then((function(e){if(e===s)throw o;return e}))}},{key:"getAllItems",value:function(e){var t=this;return this.remoteStrategy.getAllItems(e).then((function(n){return Promise.all(Object.keys(n).map((function(r){return t._cacheItem(r,n[r],e)}))).then((function(){return n}))}))}}]),t}(i);e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(5).NOT_FOUND,i=n(2),a=t.InMemoryStrategy=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.memoryMap={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"setItem",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return void 0===this.memoryMap[n.namespace]&&(this.memoryMap[n.namespace]={}),this.memoryMap[n.namespace][e]=t,Promise.resolve()}},{key:"getItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.memoryMap[t.namespace]&&this.memoryMap[t.namespace][e];return void 0!==n?Promise.resolve(n):Promise.reject(o)}},{key:"removeItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return delete this.memoryMap[t.namespace][e],Promise.resolve()}},{key:"getAllItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Promise.resolve(this.memoryMap[e.namespace])}}]),t}(i);e.exports=a},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(2);var i=function(e){function t(e){var n=e.strategy,r=e.namespace,i=e.scope;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.storageStrategy=o.verify(n),a._options={namespace:r,scope:i},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"_buildValidateOptions",value:function(e,t){return(t=Object.assign({},e,t)).scope=this.storageStrategy.extendScope(t.scope),function(e){if(!e.namespace)throw new Error("namespace is required");if("string"!=typeof e.namespace)throw new Error("namespace should be a string")}(t),t}},{key:"setItem",value:function(e,t,n){return n=this._buildValidateOptions(this._options,n),this.storageStrategy.setItem(e,t,n)}},{key:"getItem",value:function(e,t){return t=this._buildValidateOptions(this._options,t),this.storageStrategy.getItem(e,t)}},{key:"removeItem",value:function(e,t){return t=this._buildValidateOptions(this._options,t),this.storageStrategy.removeItem(e,t)}},{key:"getAllItems",value:function(e){return e=this._buildValidateOptions(this._options,e),this.storageStrategy.getAllItems(e)}}]),t}(o);e.exports=i},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(105)),i=r(n(21));t.factory=function(e){return void 0===e&&(e={}),(e.trackSession||void 0===e.trackSession)&&o.track(i.factory),i.factory(e)},t.setHost=i.setHost,t.default={factory:t.factory,setHost:i.setHost}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),o=n(106),i=n(7),a=n(10),s="__isTrackingBiBrowsingSession__",u="p",c=19,f=3;function l(e){var t=function(e){return e({endpoint:u}).updateDefaults({src:c,evid:f,vsi:r.guid()}).logger()}(e),n=1;o.listen((function(e,r){var o=i.requestWindow((function(e){return{sr:a.getDesktopSize(e),wr:a.getWindowSize(e)}})),s=o.sr,u=o.wr;t.log({from:e,to:r,fis:n,sr:s,wr:u}),n=0}))}t.track=function(e){!i.isWebWorker()&&i.requestWindow((function(e){return!e[s]}))&&(i.requestWindow((function(e){return e[s]=!0})),l(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);function o(e){setTimeout((function(){return r.requestWindow((function(t){return e(t.location.href)}))}))}function i(e){r.requestWindow((function(t){var n=t.history;return["pushState","replaceState"].forEach((function(t){!function(e,t,n){if(e&&e[t]){var r=e[t];e[t]=function(){return n.apply(null,arguments),r.apply(e,arguments)}}}(n,t,(function(t,n,r){return e(r)}))}))}))}function a(e){r.requestWindow((function(t){return t.addEventListener("popstate",(function(){return e(t.location.href)}))}))}t.listen=function(e){r.requestWindow((function(t){var n=t.document.referrer;[o,i,a].forEach((function(t){return t((function(t){e(n,t),n=t}))}))}))}},function(e,t,n){"use strict";n.r(t);var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var a=n(37),s=n(38),u=a("unified-chat"),c=Object(s.create)("unified-chat"),f={},l=n(8),d=n.n(l),p={ADI:"aaff4c29-1d2b-4d01-8dc5-399d36181915",BusinessManager:"2a70c433-fa54-4a4c-9a3c-dd2286d2fac5",Helpcenter:"87d190b2-1551-486f-a39c-9ae096892749",Editor:"c1f7d0af-b289-4dd5-8742-6461afd2b290",IntroFunnel:null,TemplatesGallery:"5a477ca2-d310-4b3d-a2e1-b150f73a8821",TemplatesViewer:"4207cc16-8afa-4ad5-aa6d-91be384d049d",PackagePicker:"3f597ed1-df30-4b5e-b4df-e04ee79e7fcf",AcceptPayments:"77ecd5a6-0bb3-4c66-8200-9b0a8599f379",AccountManager:"f5dc4eff-ee73-4b1e-b996-ea3854d60e98",SitesList:"fed7f25e-879e-42a2-8fa3-1467e7b99611",WixPayments:"77ecd5a6-0bb3-4c66-8200-9b0a8599f379"},h=function(e){return o(void 0,void 0,Promise,(function(){var t,n,o,a,s,c;return i(this,(function(i){switch(i.label){case 0:return u("getting dealer offer"),t=""+(e.dealerBaseUrl||"/_api/wix-dealer-webapp/v1/dealerOffers"),(n=e.testMode?"1b4ae825-da4a-4ade-804f-4ef7209047e4":(f=e.origin,p[f]||null))?(o=function(){try{var e=document.cookie.match(/XSRF-TOKEN=([^;]*)/);return e&&e[1]}catch(e){return}}(),a=e.authorizationToken,[4,d.a.post(t,{excludeAssetIds:[],realEstateId:n},{withCredentials:!0,headers:r({"Content-Type":"application/json;charset=UTF-8"},o?{"X-XSRF-TOKEN":o}:{},a?{Authorization:a}:{})})]):(console.error("Error mapping origin to real estate id. Unified chat flow will not send exposure event"),[2]);case 1:return s=i.sent(),u("got dealer offer",s),s.data&&s.data.offers&&s.data.offers.length>0&&(c=function(e){if(e&&e.asset)try{var t=JSON.parse(e.asset.payloadJson);return u("parsed offer",t),t}catch(e){return void u("error parsing offer",e)}}(s.data.offers[0]))?[2,{guid:s.data.offers[0].offerGuid,payload:c}]:[2]}var f}))}))},g=function(e,t,n){var o,i,a;t.automaticFirstResponse&&e.onChatStarted((function(){e.sendChatMessage({content:t.automaticFirstResponse})})),t.customField&&(o=t.customField.key,i=t.customField.value,u("setting '"+o+"' field to: '"+i+"'"),f=r({},f,((a={})[o]=i,a)));var s,c,l,d,p=(c=(s=t).tooltipTitle?'<div style="font-family: HelveticaNeueW01-75, helvetica-neue, Helvetica; font-size: 16px; font-weight: bold; line-height: 1.5; color: #002e42;">'+s.tooltipTitle+"</div>":"",l=s.tooltipContent?'<div style="font-family: HelveticaNeueW01-55Roman, HelveticaNeueW01-55Roma, helvetica-neue, Helvetica; font-size: 13px; line-height: 1.38; color: #737a9e; margin-top: 6px;">'+s.tooltipContent+"</div>":"",d=s.tooltipCta&&s.tooltipCta.key?'<div style="font-family: HelveticaNeueW01-75, helvetica-neue, Helvetica; font-size: 14px; font-weight: bold; letter-spacing: 0.4px; color: #1f77ff; margin-top: 21px;">'+s.tooltipCta.key+"</div>":"",c||l||d?'<div style="padding: 11px 12px 14px 11px;">'+c+l+d+"</div>":"");return p&&n&&e.setTooltipConfig(p,t.tooltipAppearanceAfterXSeconds),e.setLauncherIconSvg((t.chatWidgetIcon,'<svg xmlns="http://www.w3.org/2000/svg" width="46" height="46" viewBox="0 0 46 46"><g fill="none" fill-rule="evenodd"><path fill="#1f77ff" d="M46 23C46 10.297 35.703 0 23 0 10.298 0 0 10.297 0 23c0 12.702 10.298 23 23 23 3.797 0 7.375-.925 10.531-2.555a3.066 3.066 0 0 1 1.658-.346l7.963.664a2 2 0 0 0 2.096-2.52l-1.795-6.584a2.018 2.018 0 0 1 .152-1.431A22.896 22.896 0 0 0 46 23"/><path fill="#FFF" d="M24.876 19.187c.395-.205 1.106-.187 1.106-.187-.001.684-.068 1.09-.504 1.406-.139.1-.38.256-.662.356-.387.139-.647.388-.647.388 0-1.245.191-1.696.707-1.963zm-3.056.292c.68-.594 1.703-.467 1.703-.467l-2.664 9.962s-.88.064-1.319-.159c-.577-.291-.852-.515-1.201-1.871-.312-1.208-1.185-4.758-1.265-5.011-.039-.126-.086-.422-.313-.422-.22 0-.272.297-.312.422-.082.252-.953 3.803-1.264 5.01-.35 1.357-.625 1.58-1.203 1.872-.44.223-1.318.16-1.318.16L10 19.011s1.022-.127 1.704.467c.42.366.542.95.542.95l1.39 5.331 1.159-4.363c.111-.464.315-1.037.637-1.425.409-.494 1.241-.525 1.329-.525.09 0 .922.031 1.33.525.322.388.526.961.638 1.425l1.157 4.363 1.39-5.332s.124-.583.544-.949zm4.16 1.16v.36h.002v6.038c-.005 1.24-.136 1.514-.702 1.8-.44.221-1.111.138-1.111.138v-6.763c0-.34.114-.562.535-.762.25-.12.486-.21.73-.346.38-.21.547-.465.547-.465zm6.64 3.378l3.37 4.958s-1.46.185-2.165-.452c-.452-.406-.916-1.068-.916-1.068l-1.242-1.773c-.061-.092-.14-.193-.266-.193-.125 0-.205.101-.266.193l-1.243 1.773s-.437.662-.89 1.068c-.706.637-2.192.452-2.192.452l3.372-4.958-3.38-4.972s1.427-.24 2.132.396c.453.407.958 1.138.958 1.138l1.243 1.774c.061.092.14.192.266.192s.205-.1.266-.192l1.242-1.774s.506-.731.96-1.138c.705-.637 2.131-.396 2.131-.396l-3.38 4.972z"/></g></svg>')),e.setOverrideTexts({"widget-v3.chat.defaults.title":t.title,"widget-v3.chat.defaults.subtitle":t.subtitle,"widget-v3.chat.chat-room.defaults.during.greeting-message":t.automaticFirstMessage}),{hadTooltip:!!p}},m=function(e,t,n,a,s,l){return void 0===s&&(s=!1),o(void 0,void 0,Promise,(function(){var n,d,p,m,v,y,_,b,O,S,E,P,x,C,T,j,A,M,k,N,F,R,D=this;return i(this,(function(L){switch(L.label){case 0:return n=t.origin,d=t.horizontalOffset,p=t.verticalOffset,m=!1,[4,a.getWidgetOpen()];case 1:return v=L.sent(),y="",_="",b="",function(e){var t;u("setting origin field to: '"+e+"'"),f=r({},f,((t={})["proactive-chat"]=e,t))}(n),e.addAuthenticationFn((function(){return e=t.authUrl||I,n=w,u("fetching for token..."),fetch(e+"/"+n,{credentials:"include",mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return e.token}));var e,n})),[4,e.hasActiveChatConversation()];case 2:return O=L.sent(),S=!1,t.msid&&l.updateContext({msid:t.msid}),t.sessionId&&l.updateContext({sessionId:t.sessionId}),O?(u("open active chat"),m=!0,y="existing_chat",[4,Promise.all([a.getFirstOrigin(),a.getLastOfferId(),a.getLastTicketId(),a.getFirstPage(),a.getLastTitle(),a.getLastSubtitle()])]):[3,4];case 3:return E=L.sent(),P=E[0],x=E[1],C=E[2],T=E[3],j=E[4],A=E[5],b=C||"",l.updateContext({originalPlatform:P||t.origin,offerId:x||"",ticketId:C||"",originalPage:T||"",sessionId:t.sessionId||""}),e.setLauncherIconSvg('<svg xmlns="http://www.w3.org/2000/svg" width="46" height="46" viewBox="0 0 46 46"><g fill="none" fill-rule="evenodd"><path fill="#1f77ff" d="M46 23C46 10.297 35.703 0 23 0 10.298 0 0 10.297 0 23c0 12.702 10.298 23 23 23 3.797 0 7.375-.925 10.531-2.555a3.066 3.066 0 0 1 1.658-.346l7.963.664a2 2 0 0 0 2.096-2.52l-1.795-6.584a2.018 2.018 0 0 1 .152-1.431A22.896 22.896 0 0 0 46 23"/><path fill="#FFF" d="M24.876 19.187c.395-.205 1.106-.187 1.106-.187-.001.684-.068 1.09-.504 1.406-.139.1-.38.256-.662.356-.387.139-.647.388-.647.388 0-1.245.191-1.696.707-1.963zm-3.056.292c.68-.594 1.703-.467 1.703-.467l-2.664 9.962s-.88.064-1.319-.159c-.577-.291-.852-.515-1.201-1.871-.312-1.208-1.185-4.758-1.265-5.011-.039-.126-.086-.422-.313-.422-.22 0-.272.297-.312.422-.082.252-.953 3.803-1.264 5.01-.35 1.357-.625 1.58-1.203 1.872-.44.223-1.318.16-1.318.16L10 19.011s1.022-.127 1.704.467c.42.366.542.95.542.95l1.39 5.331 1.159-4.363c.111-.464.315-1.037.637-1.425.409-.494 1.241-.525 1.329-.525.09 0 .922.031 1.33.525.322.388.526.961.638 1.425l1.157 4.363 1.39-5.332s.124-.583.544-.949zm4.16 1.16v.36h.002v6.038c-.005 1.24-.136 1.514-.702 1.8-.44.221-1.111.138-1.111.138v-6.763c0-.34.114-.562.535-.762.25-.12.486-.21.73-.346.38-.21.547-.465.547-.465zm6.64 3.378l3.37 4.958s-1.46.185-2.165-.452c-.452-.406-.916-1.068-.916-1.068l-1.242-1.773c-.061-.092-.14-.193-.266-.193-.125 0-.205.101-.266.193l-1.243 1.773s-.437.662-.89 1.068c-.706.637-2.192.452-2.192.452l3.372-4.958-3.38-4.972s1.427-.24 2.132.396c.453.407.958 1.138.958 1.138l1.243 1.774c.061.092.14.192.266.192s.205-.1.266-.192l1.242-1.774s.506-.731.96-1.138c.705-.637 2.131-.396 2.131-.396l-3.38 4.972z"/></g></svg>'),e.setOverrideTexts({"widget-v3.chat.defaults.title":j,"widget-v3.chat.defaults.subtitle":A}),[3,14];case 4:return[4,a.setFirstOrigin(n)];case 5:return L.sent(),t.pageName?[4,a.setFirstPage(t.pageName)]:[3,7];case 6:L.sent(),L.label=7;case 7:return c.interactionStarted("get-dealer-offer"),[4,h(t)];case 8:return M=L.sent(),c.interactionEnded("get-dealer-offer"),M?(u("getting tooltip views count"),[4,a.getTooltipViews()]):[3,13];case 9:return k=L.sent(),u("got tooltip views count"),u("settings dealer offer to chat",M.payload),l.updateContext({offerId:M.guid}),_=M.guid,N=g(e,M.payload,k<2),(S=N.hadTooltip)?(u("updating tooltip view count"),[4,a.setTooltipViews(k+1)]):[3,11];case 10:L.sent(),u("updated tooltip view count"),L.label=11;case 11:return u("show chat"),m=!0,M.payload.chatOpened&&(v=!0,y="dealer_offer"),l.sendOfferEligible(M.guid),[4,Promise.all([a.setLastOfferId(M.guid),a.setLastTitle(M.payload.title),a.setLastSubtitle(M.payload.subtitle)])];case 12:return L.sent(),[3,14];case 13:l.sendNoOfferEligible(),L.label=14;case 14:return d&&p&&e.setOffset(d,p),e.setUnreadMessageConfig("#60bc57",!0),function(e){e.setCustomFields(f)}(e),F=v?"open":"closed",l.updateContext({widgetState:F}),m&&(e.show(),l.sendWidgetLoaded(S,F)),v&&(e.open(),l.sendOpenChatBIEvent(y)),s&&("You are using a <strong>@wix.com</strong> account to test the chat which might lead to weird results, including (but not limited to) not seeing your own messages upon refreshing. Please use a <strong>@gmail</strong> account to test the user's side. (Chrome's profiles feature is helpful here).",e.sendChatMessage({content:"You are using a <strong>@wix.com</strong> account to test the chat which might lead to weird results, including (but not limited to) not seeing your own messages upon refreshing. Please use a <strong>@gmail</strong> account to test the user's side. (Chrome's profiles feature is helpful here)."})),e.onWidgetOpened((function(e){return o(D,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return l.sendOpenChatBIEvent(e),F="open",l.updateContext({widgetState:F}),[4,a.setWidgetOpen(!0)];case 1:return t.sent(),[2]}}))}))})),e.onWidgetClosed((function(){return o(D,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return l.sendCloseChatBIEvent(),F="closed",l.updateContext({widgetState:F}),[4,a.setWidgetOpen(!1)];case 1:return e.sent(),[2]}}))}))})),e.onTooltipClosed((function(){return l.sendTooltipClosed()})),e.onChatStarted((function(e){return o(D,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return l.updateContext({ticketId:e}),l.sendChatCreation(e),[4,a.setLastTicketId(e)];case 1:return t.sent(),[2]}}))}))})),R=null,e.onChatMessageSent((function(e){R||(R=e.now||Date.now()),l.sendUserSendMessage({messageId:e.messageId,messageIdx:e.userMessageIdx,isFile:e.isFile,ticketId:e.ticketId})})),e.onChatMessageReceived((function(e){l.sendUserReceivedAgentsMessage({messageId:e.messageId,messageIdx:e.agentMessageIdx,agentId:e.agentId,ticketId:e.ticketId,widgetState:F,waitTime:R?(e.now||Date.now())-R:0}),R=null})),e.onDragEnd((function(e){l.sendWidgetDragEnd({widgetState:F,offset:e})})),m&&O?[2,{visible:!0,reason:{type:"EXISTING_CHAT",ticketId:b}}]:m&&!O?[2,{visible:!0,reason:{type:"OFFER",offerId:_}}]:[2,{visible:!1}]}}))}))},v=function(){return o(void 0,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,d()({url:"https://apps.wix.com/support-chat-widget/flags",method:"GET",withCredentials:!0})];case 1:return[2,e.sent().data]}}))}))},y=n(18),_=n(104);n.d(t,"WIDGET_ID",(function(){return w})),n.d(t,"DEFAULT_AUTH_URL",(function(){return I}));var b=window,w="1f2bb0ea-6409-41ba-a3e0-3f936d721077",I="https://apps.wix.com/support-chat-widget/widget-auth";u("starting support chat widget installation..."),c.appLoadStarted(),c.interactionStarted("main-flow-embedded"),b.WixSupportChatSDK={},b.WixSupportChatSDK.show=function(){},b.WixSupportChatSDK.hide=function(){},b.WixSupportChatSDK.answersScriptLoaded=Promise.resolve(),b.WixSupportChatSDK.init=function(e){return o(void 0,void 0,void 0,(function(){var t,n,a,s,f,l,d,p,g=this;return i(this,(function(O){switch(O.label){case 0:if(!e||!e.origin)throw new Error("Must pass an origin to the init function");return e.dealerBaseUrl||(e.dealerBaseUrl="/_api/wix-dealer-webapp/v1/dealerOffers"),e.authUrl||(e.authUrl=I),[4,o(void 0,void 0,Promise,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,v()];case 1:return[2,{isEnableChatWidget:"true"===(e=t.sent())["specs.unifiedChat.enableChatWidget"],isMainSwitchOn:"true"===e["specs.unifiedChat.mainSwitch"],isTestMode:"true"===e["specs.unifiedChat.testMode"],isWixUser:"true"===e["specs.unifiedChat.isWixUser"],cleanUserMemory:"true"===e["specs.unifiedChat.cleanUserMemory"]}]}}))}))];case 1:return t=O.sent(),e.testMode=e.testMode||t.isTestMode,n=e.testMode,a=!!t.isWixUser,t.isMainSwitchOn||n?(P={lang:e.lang||"en",originalPlatform:e.origin,currentPlatform:e.origin,originalPage:e.pageName,currentPage:e.pageName,ticketId:"",widgetState:"closed",offerId:"",msid:e.msid||"",sessionId:e.sessionId||""},x=P,C=_.factory({endpoint:"unifiedchat"}).updateDefaults({src:4}).logger(),s={sendOpenChatBIEvent:function(e){C.log({evid:3002,open_method:e,ticket_id:x.ticketId,offer_id:x.offerId,orig_platform:x.originalPlatform,current_platform:x.currentPlatform,lang:x.lang,current_page_name:x.currentPage,orig_page_name:x.originalPage,msid:x.msid,session_id:x.sessionId})},sendCloseChatBIEvent:function(){C.log({evid:3003,ticket_id:x.ticketId,offer_id:x.offerId,orig_platform:x.originalPlatform,current_platform:x.currentPlatform,lang:x.lang,current_page_name:x.currentPage,orig_page_name:x.originalPage,msid:x.msid,session_id:x.sessionId})},sendWidgetLoaded:function(e,t){C.log({evid:3001,ticket_id:x.ticketId,offer_id:x.offerId,orig_platform:x.originalPlatform,current_platform:x.currentPlatform,lang:x.lang,widget_state:t,is_tooltip:e,current_page_name:x.currentPage,orig_page_name:x.originalPage,msid:x.msid,session_id:x.sessionId})},sendTooltipClosed:function(){C.log({evid:3004,ticket_id:x.ticketId,offer_id:x.offerId,orig_platform:x.originalPlatform,current_platform:x.currentPlatform,current_page_name:x.currentPage,orig_page_name:x.originalPage,lang:x.lang,msid:x.msid,session_id:x.sessionId})},sendChatCreation:function(e){C.log({current_page_name:x.currentPage,orig_page_name:x.originalPage,evid:3005,ticket_id:e,offer_id:x.offerId,orig_platform:x.originalPlatform,current_platform:x.currentPlatform,lang:x.lang,msid:x.msid,session_id:x.sessionId})},sendUserSendMessage:function(e){C.log({current_page_name:x.currentPage,orig_page_name:x.originalPage,evid:3006,is_file:e.isFile,message_num:e.messageIdx,message_id:e.messageId,ticket_id:e.ticketId,offer_id:x.offerId,orig_platform:x.originalPlatform,current_platform:x.currentPlatform,lang:x.lang,msid:x.msid,session_id:x.sessionId})},sendUserReceivedAgentsMessage:function(e){C.log({wait_time:e.waitTime,evid:3008,ticket_id:e.ticketId,agent_id:e.agentId,message_id:e.messageId,message_num:e.messageIdx,widget_state:e.widgetState,offer_id:x.offerId,orig_platform:x.originalPlatform,current_platform:x.currentPlatform,current_page_name:x.currentPage,orig_page_name:x.originalPage,lang:x.lang,msid:x.msid,session_id:x.sessionId})},sendWidgetDragEnd:function(e){C.log({evid:3009,widget_state:e.widgetState,new_position:JSON.stringify(e.offset),ticket_id:x.ticketId,offer_id:x.offerId,orig_platform:x.originalPlatform,current_platform:x.currentPlatform,current_page_name:x.currentPage,orig_page_name:x.originalPage,lang:x.lang,msid:x.msid,session_id:x.sessionId})},sendOfferEligible:function(e){C.log({evid:3010,offer_id:e,current_platform:x.currentPlatform,lang:x.lang,msid:x.msid,session_id:x.sessionId})},sendNoOfferEligible:function(){C.log({evid:3011,current_platform:x.currentPlatform,current_page_name:x.currentPage,msid:x.msid,session_id:x.sessionId})},sendWidgetShowHide:function(e,t){C.log({evid:3012,state:e,current_page_name:x.currentPage,current_platform:x.currentPlatform,lang:x.lang,msid:x.msid,offer_id:x.offerId,orig_page_name:x.originalPage,origin:t,orig_platform:x.originalPlatform,ticket_id:x.ticketId,session_id:x.sessionId})},updateContext:function(e){x=r({},x,e)}},t.isEnableChatWidget||n?(c.interactionStarted("chat-installed"),[4,(E=w,o(void 0,void 0,void 0,(function(){var e;return i(this,(function(t){return e=window,[2,new Promise((function(t){var n=document,r=n.createElement("script");r.type="text/javascript",r.async=!0,r.src="https://wix.wixanswers.com/apps/widget/v1/wix/"+E+"/en/embed.js?cache=3600",r.onload=r.onreadystatechange=function(){var n=this.readyState;n&&"complete"!==n&&"loaded"!==n||(e.AnswersWidget.hide(),t())};var o=n.getElementsByTagName("script")[0];o&&o.parentNode&&o.parentNode.insertBefore(r,o)}))]}))})))]):[3,6]):(console.warn('Chat is globally not enabled, please open flag "specs.unifiedChat.testMode" to test the chat'),[2,{visible:!1}]);case 2:return O.sent(),c.interactionEnded("chat-installed"),c.interactionStarted("init-chat"),f=new y.DataCapsule({strategy:new y.WixStorageStrategy,namespace:"SUPPORT_CHAT_WIDGET"}),l=function(e){return{setFirstOrigin:function(t){return o(void 0,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,e.setItem("FIRST_ORIGIN",t)];case 1:return n.sent(),[2]}}))}))},getFirstOrigin:function(){return o(void 0,void 0,Promise,(function(){return i(this,(function(t){return[2,e.getItem("FIRST_ORIGIN").catch((function(){return null}))]}))}))},setFirstPage:function(t){return o(void 0,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,e.setItem("FIRST_PAGE",t)];case 1:return n.sent(),[2]}}))}))},getFirstPage:function(){return o(void 0,void 0,Promise,(function(){return i(this,(function(t){return[2,e.getItem("FIRST_PAGE").catch((function(){return null}))]}))}))},setLastTicketId:function(t){return e.setItem("TICKET_ID",t)},getLastTicketId:function(){return e.getItem("TICKET_ID").catch((function(){return null}))},setLastTitle:function(t){return e.setItem("TITLE",t)},getLastTitle:function(){return e.getItem("TITLE").catch((function(){return null}))},setLastSubtitle:function(t){return e.setItem("SUBTITLE",t)},getLastSubtitle:function(){return e.getItem("SUBTITLE").catch((function(){return null}))},setLastOfferId:function(t){return e.setItem("OFFER_ID",t)},getLastOfferId:function(){return e.getItem("OFFER_ID").catch((function(){return null}))},getTooltipViews:function(){return o(void 0,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,e.getItem("TOOLTIP_VIEWS").catch((function(){return"0"}))];case 1:return[2,(t=n.sent())?parseInt(t,10):0]}}))}))},setTooltipViews:function(t){return o(void 0,void 0,void 0,(function(){return i(this,(function(n){return[2,e.setItem("TOOLTIP_VIEWS",t)]}))}))},getWidgetOpen:function(){return o(void 0,void 0,void 0,(function(){return i(this,(function(t){return[2,e.getItem("WIDGET_OPEN").catch((function(){return!1}))]}))}))},setWidgetOpen:function(t){return o(void 0,void 0,void 0,(function(){return i(this,(function(n){return[2,e.setItem("WIDGET_OPEN",t)]}))}))}}}(f),t.cleanUserMemory?[4,l.setTooltipViews(0)]:[3,4];case 3:O.sent(),O.label=4;case 4:try{(S=document.createElement("style")).id="support-widget-styles-override",S.innerHTML="\n\t#answers-widget-launcher-container #frame-container {\n\t\twidth: 360px !important;\n\t\tborder-radius: 8px !important;\n\t\tbox-shadow: 0 2px 34px 0 rgba(0, 0, 0, 0.15) !important;\n\t}\n",document.head.appendChild(S)}catch(e){console.error("error applying custom styles for support widget")}return[4,m(b.AnswersWidget,e,0,l,a,s)];case 5:return d=O.sent(),c.interactionEnded("init-chat"),b.WixSupportChatSDK={open:b.AnswersWidget.open,close:b.AnswersWidget.close,show:function(e){b.AnswersWidget.show(),s.sendWidgetShowHide("show",e||"api")},hide:function(e){b.AnswersWidget.hide(),s.sendWidgetShowHide("hide",e||"api")},sendChatMessage:b.AnswersWidget.sendChatMessage,setPageName:function(e){return o(g,void 0,void 0,(function(){return i(this,(function(t){return u("setting page name to",e),s.updateContext({currentPage:e}),[2]}))}))},initResult:d},[3,8];case 6:return[4,h(e)];case 7:(p=O.sent())?s.sendOfferEligible(p.guid):s.sendNoOfferEligible(),b.WixSupportChatSDK.initResult={visible:!1},O.label=8;case 8:return[2,b.WixSupportChatSDK]}var S,E,P,x,C}))}))},b.WixSupportChatSDK._init=b.WixSupportChatSDK.init,c.interactionEnded("main-flow-embedded"),c.appLoaded()}]);
//# sourceMappingURL=main.bundle.min.js.map