define("shoutOut/utils/shoutOutUtils",["lodash","coreUtilsLib","constants","stateManagement"],function(e,i,t,s){"use strict";var n="shoutout",a="135c3d92-0fea-1f9d-2ba5-2a1dfb04297e",o="1375baa8-8eca-5659-ce9d-455b2009250d",r="https://editor.wix.com/shoutout/",u="//editor.wix.com/shoutout/api/",l=t.SUPER_APPS.SHOUTOUT_PANEL_NAME,p={userState:{isReturning:!1,openedSo:!1},gsState:{installed:null,touched:null}};function c(e,t){var s=u+"services/instance?metaSiteId="+e;i.requestsUtil.fetchJson(s).then(function(e){var t=e?e.instance:null;if(!t)return Promise.reject();var s=u+"messages/counts?instance="+t;return i.requestsUtil.fetchJson(s)}).then(function(e){e&&0<e.total?t({isReturning:!0}):t({isReturning:!1,openedSo:!0})}).catch(function(){return t({isReturning:!1})})}function d(e,t){var s=e.dsRead.tpa.app.getDataByAppDefId(t);return s?e.dsRead.tpa.app.getAllCompsByApplicationId(s.applicationId):[]}return{appDefId:a,getReturningUserIframeUrl:function(e){return r+e+"/direct#/messages-list"},getDirectTemplatesUrl:function(e){return r+e+"/direct#/template-choose/wix-editor"},getShoutOutNewMessageUrl:function(e,t){var s=encodeURIComponent("?dl=message&referralInfo=editorSoPanel&tags="+(t||"so-template-site-promotion"));return"https://www.wix.com/my-account/sites/"+e+"/app/"+a+"?referralInfo=editorSoPanel&appState="+s},getUserState:c,apps:{store:{appId:"1380b703-ce81-ff05-f115-39571d94dfcd"},music:{appId:"13bb5d67-1add-e770-a71f-001277e17c57"},getSubscribers:{appId:o,widgetId:"1375babd-6f2b-87ed-ff19-5778602c8b86"},feed:{widgetId:"141995eb-c700-8487-6366-a482f7432e2b"}},getNewReturningUserIframeUrl:function(e){return r+e+"/direct#/messages-list-new"},getShoutOutTemplatesUrl:function(e){var t=encodeURIComponent("?dl=template-choose/wix-editor");return"https://www.wix.com/my-account/sites/"+e+"/app/"+a+"?referralInfo=editorSoPanel&appState="+t},getMyShoutOutsUrl:function(e){var t=encodeURIComponent("?dl=my-shoutouts");return"https://www.wix.com/my-account/sites/"+e+"/app/"+a+"?referralInfo=editorSoPanel&appState="+t},pimpleShouldAppear:function(e){return!(p.gsState.touched||(t=e,s.editorPlugins.userPreferences.selectors.getSiteUserPreferences(n+"/pimpleViewed")(t.store.getState()))||!p.userState.isReturning);var t},setPimpleViewed:function(e){e.store.dispatch(s.editorPlugins.leftBar.actions.setNotificationsCount(l,0)),e.store.dispatch(s.editorPlugins.userPreferences.actions.setSiteUserPreferences(n+"/pimpleViewed","true"))},showPimple:function(e){e.store.dispatch(s.editorPlugins.leftBar.actions.setNotificationsCount(l,1))},isPimpleVisible:function(e){return 0<s.editorPlugins.leftBar.selectors.getNotificationsCount(e.store.getState(),l)},isUserReturning:function(){return!!p.userState&&p.userState.isReturning},isUserOpenedSo:function(){return!!p.userState&&(p.userState.isReturning||p.userState.openedSo)},isUserFirstTimer:function(e){var t=s.editorPlugins.userPreferences.selectors.getSiteUserPreferences(n+"/in_first_time_tour")(e.store.getState());return!t||"false"!==t},fetchSoState:function(i,n){var e,t;e=function(e){var t,s;p.gsState.installed=e,t=function(e){p.gsState.touched=e,c(i.site.getMetaSiteId(),function(e){p.userState=e,n()})},(s=d(i,o))&&0<s.length?1<s.length?t(!0):s[0].tpaData?t(!0):t(!1):t(!1)},(t=d(i,o))&&0<t.length?e(!0):e(!1)},gs:{isInstalled:function(){return p.gsState.installed},isTouched:function(){return p.gsState.touched}}}}),define("shoutOut/panels/soMenuPanel.rt",["react","lodash","superAppMenuInfra"],function(e,t,s){"use strict";return function(){return e.createElement(s.superAppPanel,t.assign({},{superApp:this.getSuperApp(),panelClass:"shoutout-panel"},this.filteredProps()))}}),define("shoutOut/utils/bi/shoutOutEvents",["lodash"],function(e){"use strict";return{biEvents:{SHOUTOUT_NEW_MESSAGE:{evid:77,src:36,endpoint:"shout",sampleRatio:0,fields:{context:"string",msid:"guid",origin:"string",package_group:"string",package_id:"string"}},SHOUTOUT_EDITOR_PANEL_OPEN:{evid:89,src:36,endpoint:"shout",sampleRatio:0,fields:{is_first:"bool",msid:"guid"}},SHOUTOUT_EDITOR_PANEL_CLOSE:{evid:90,src:36,endpoint:"shout",sampleRatio:0,fields:{is_first:"bool",type:"string",notification:"string",msid:"guid"}},SIE_WELCOME_PANEL_GET_STARTED_CLICK:{evid:111,src:36,endpoint:"shout",sampleRatio:0,fields:{shoutout_user:"bool",msid:"guid"}},SIE_SHOUTOUT_PANEL_RETURNING_BANNER_VIEW:{evid:112,src:36,endpoint:"shout",sampleRatio:0,fields:{type:"string",msid:"guid"}},SIE_SHOUTOUT_PANEL_RETURNING_BANNER_CLICK:{evid:113,src:36,endpoint:"shout",sampleRatio:0,fields:{type:"string",msid:"guid"}}},registerEvents:e.noop}}),define("shoutOut/utils/bi/shoutOutBi",["shoutOut/utils/bi/shoutOutEvents"],function(e){"use strict";return{events:e.biEvents,registerEvents:e.registerEvents}}),define("shoutOut/panels/shoutOutPanel/shoutOutPanel.rt",["react","lodash","util","baseUI","santa-editor-symbols"],function(e,t,s,i,n){"use strict";return function(){return e.createElement("div",{className:"welcome-slide shoutout-add-panel"},this.state.userState==this.userStates.loading?e.createElement("div",{key:"shoutOutLoadingState",className:"shoutout-loading shoutout-panel-loading"}):null,this.state.userState==this.userStates.firstTime?e.createElement("div",{key:"shoutOutFirstTimeState",className:"shoutout-panel-first-time"},e.createElement("div",{className:"close",onClick:this.onClose},e.createElement(n.symbol,{name:"headerCloseButton",className:"headerCloseButton"})),e.createElement("div",{className:"shoutout-first-time-image",src:this.promotionalImage,alt:"shoutout"},e.createElement("img",{src:this.promotionalImage,alt:"shoutout"})),e.createElement("h1",{className:"title shoutout-first-time-title"},s.translate("SiteApp_ShoutOut_Panel_Title")),e.createElement("div",{className:"sub-title shoutout-first-time-sub-title"},e.createElement("div",{className:"shoutout-first-time-sub-title-line"},s.translate("SiteApp_ShoutOut_Panel_Sub_Title_Get_The_Word")),e.createElement("div",{className:"shoutout-first-time-sub-title-line"},s.translate("SiteApp_ShoutOut_Panel_Sub_Title_Market_Your")," ",s.translate("SiteApp_ShoutOut_Panel_Sub_Title_Send_NewsLetter"))),e.createElement(i.button,{label:"SiteApp_ShoutOut_Panel_Next_button_Label",onClick:this.startNowClick,className:"shoutout-returning-create-new"})):null,this.state.userState==this.userStates.returning?e.createElement("div",{key:"shoutOutReturningState",className:"shoutout-panel-returning"},e.createElement("header",{className:"panel-header light shoutout-returning-header"},e.createElement("span",{className:"panel-header-title"},s.translate("SiteApp_ShoutOut_Common_My_ShoutOuts")),e.createElement("div",{className:"close",onClick:this.onClose},e.createElement(n.symbol,{name:"headerCloseButton",className:"headerCloseButton"}))),e.createElement("iframe",{className:"shoutout-returning-user-iframe",src:this.returningUserIframeUrl(),width:"100%"}),e.createElement("div",{className:"shoutout-returning-footer"},e.createElement(i.button,{label:"SiteApp_ShoutOut_Panel_Returning_New",onClick:this.createNewClick,className:"shoutout-returning-create-new"}))):null)}}),define("shoutOut/panels/shoutOutPanel/shoutOutPanel",["create-react-class","prop-types","core","util","shoutOut/utils/shoutOutUtils","shoutOut/utils/bi/shoutOutBi","shoutOut/panels/shoutOutPanel/shoutOutPanel.rt","tpa"],function(e,t,s,i,n,a,o){"use strict";return e({displayName:"shoutOutPanel",mixins:[s.mixins.editorAPIMixin,i.propTypesFilterMixin,i.postMessageMixin],propTypes:{onClose:t.func.isRequired},promotionalImage:i.media.getMediaUrl("shoutOut/shoutOutPromotional.png"),userStates:{loading:"loading",firstTime:"firstTime",returning:"returning"},returningUserIframeUrl:function(){var e=this.getEditorAPI().site.getMetaSiteId();return n.getReturningUserIframeUrl(e)},getInitialState:function(){return{userState:"none"}},componentDidMount:function(){this._updatedState()},startNowClick:function(){var e=this.getEditorAPI().site.getMetaSiteId();this._newMessageEvent();var t=n.getShoutOutNewMessageUrl(e);window.open(t)},createNewClick:function(){var e=this.getEditorAPI();this._newMessageEvent();var t=this.getEditorAPI().site.getMetaSiteId();e.panelManager.openPanel("panels.focusPanels.shoutOutTemplatesPanel",{frameUrl:n.getDirectTemplatesUrl(t)},!0)},onClose:function(){var e={is_first:this.state.userState===this.userStates.firstTime};this.getEditorAPI().bi.event(a.events.SHOUTOUT_EDITOR_PANEL_CLOSE,e),this.props.onClose()},_newMessageEvent:function(){this.getEditorAPI().bi.event(a.events.SHOUTOUT_NEW_MESSAGE,{context:"editor",msid:"guid",origin:"editorShotoutPanel",package_group:"",package_id:""})},_updatedState:function(){var e=this.getEditorAPI().site.getMetaSiteId();this.setState({userState:this.userStates.loading}),n.getUserState(e,this._onDone)},_onDone:function(e){var t=e.isReturning?this.userStates.returning:this.userStates.firstTime,s={is_first:!e.isReturning};this.getEditorAPI().bi.event(a.events.SHOUTOUT_EDITOR_PANEL_OPEN,s),this.setState({userState:t})},render:o})}),define("shoutOut/panels/soMenuPanel",["create-react-class","lodash","util","shoutOut/utils/shoutOutUtils","shoutOut/panels/soMenuPanel.rt","shoutOut/panels/shoutOutPanel/shoutOutPanel"],function(e,t,s,i,n,a){"use strict";return e({displayName:"soMenuPanel",mixins:[s.propTypesFilterMixin],getSuperApp:function(){return{id:"shoutout",appDefId:i.appDefId,appName:"shoutout",firstTimeTour:{templateFlow:[a],manuallyInstalledFlow:[a],promotionalFlow:[a]},panel:{name:"shoutOut.menuPanel",manage:{title:"no_title",helpId:"1",template:a},pages:{title:"no_title",helpId:"1",template:a},addElements:{title:"no_title",helpId:"1",template:a},learnMore:{title:"no_title",helpId:"1",template:a}},upgradeLinkText:"superAppTranslationKeys.upgradeLinkText",isAppInstalled:function(){return!1}}},render:n})}),define("shoutOut/panels/soMenuPanelNew.rt",["react","lodash","superAppMenuInfra"],function(e,t,s){"use strict";return function(){return e.createElement(s.superAppPanel,{superApp:this.getSuperApp(),panelClass:this.getClass()})}}),define("shoutOut/panels/shoutOutPanel/firstTimeTour.rt",["react","lodash","util","baseUI","santa-editor-symbols"],function(s,e,i,t,n){"use strict";return function(){return s.createElement("div",{className:"get-started-slide shoutout-first-time-tour"},s.createElement("div",{className:"button",onClick:this.onClose},s.createElement(n.symbol,{name:"headerCloseButton"})),s.createElement("div",{className:"shoutout-first-time-tour-image-container "+e({"shoutout-first-time-tour-image-container-large":3<this.state.banner.pros.length}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},s.createElement("img",{src:this.firstTimePromoImage,alt:"shoutout"})),s.createElement("h1",{className:"title"},i.translate(this.state.banner.title)),s.createElement("div",{className:"bullets-wrapper"},s.createElement.apply(this,["ul",{className:"tip-bullets"},e.map(this.state.banner.pros,function(e,t){return s.createElement("li",{className:"bullet",key:e},s.createElement("span",{className:"bullet-symbol"},s.createElement(n.symbol,{name:"cyclePickerV",className:"cyclePickerV"})),s.createElement("p",{className:"bullet-text"},i.translate(e)))}.bind(this))])),s.createElement(t.button,{label:this.state.banner.action,onClick:this.onNextButtonClick,className:"get-started-add-btn"}))}}),define("shoutOut/panels/shoutOutPanel/firstTimeTour",["create-react-class","prop-types","util","core","shoutOut/panels/shoutOutPanel/firstTimeTour.rt","shoutOut/utils/bi/shoutOutBi","shoutOut/utils/shoutOutUtils"],function(e,t,s,i,n,a,o){"use strict";return e({displayName:"shoutOutFirstTimeTour",mixins:[i.mixins.editorAPIMixin,s.propTypesFilterMixin],render:n,firstTimePromoImage:s.media.getMediaUrl("shoutOut/shoutOutFirstTimeTour.png"),propTypes:{onClose:t.func.isRequired,nextSlide:t.func.isRequired},getInitialState:function(){var e={title:"SiteApp_ShoutOut_First_Time_Heading",pros:["SiteApp_ShoutOut_First_Time_Bullet_Promote","SiteApp_ShoutOut_First_Time_Bullet_Share","SiteApp_ShoutOut_First_Time_Bullet_Subscribers"],action:"SiteApp_ShoutOut_First_Time_Action"};return(o.isUserOpenedSo()||o.isUserReturning())&&(e.title="SiteApp_ShoutOut_First_Time_Opened_Heading",e.pros=["SiteApp_ShoutOut_First_Time_Opened_Bullet_Introduce","SiteApp_ShoutOut_First_Time_Opened_Bullet_Promote","SiteApp_ShoutOut_First_Time_Opened_Bullet_Share","SiteApp_ShoutOut_First_Time_Opened_Bullet_Subscribers"],e.action="SiteApp_ShoutOut_First_Time_Opened_Action"),{banner:e}},onClose:function(){this.props.onClose()},onNextButtonClick:function(){this.getEditorAPI().bi.event(a.events.SIE_WELCOME_PANEL_GET_STARTED_CLICK,{shoutout_user:o.isUserOpenedSo()||o.isUserReturning()}),this.props.nextSlide()}})}),define("shoutOut/panels/shoutOutPanel/addSections/actionsProvider",["tpa","constants","shoutOut/utils/shoutOutUtils"],function(i,n,s){"use strict";var a=void 0;function o(e,t,s){i.superApps.addWidget(e,t,s,{origin:i.constants.BI.type.ADD_WIDGET}),a.panelManager.closePanelByName(n.SUPER_APPS.SHOUTOUT_PANEL_NAME)}return{onGsWidgetDrop:function(e,t){e.width=t.structure.layout.width,e.height=t.structure.layout.height,o(s.apps.getSubscribers.appId,t.structure.data.widgetId,e)},onGsWidgetClick:function(e){o(s.apps.getSubscribers.appId,e.data.widgetId)},onFeedWidgetDrop:function(e,t){e.width=t.structure.layout.width,e.height=t.structure.layout.height,o(s.appDefId,t.structure.data.widgetId,e)},onFeedWidgetClick:function(e){o(s.appDefId,e.data.widgetId)},init:function(e){a=e}}}),define("shoutOut/panels/shoutOutPanel/leftBar/shoutOutMailPanel.rt",["react","lodash","util","santa-editor-symbols"],function(t,e,s,i){"use strict";return function(){return t.createElement("div",{className:"shoutout-email-panel"},this.state.userState===this.userStates.loading?t.createElement("div",{className:"shoutout-panel-loading",key:"shoutout-email-panel-loading"}):null,this.state.userState===this.userStates.new?t.createElement("div",{className:"shoutout-panel-new-user",key:"shoutout-email-panel-new-user"},t.createElement("div",{className:"shoutout-new-user-standard"},t.createElement("div",{className:"shoutout-new-user-image"},t.createElement("img",{src:this.newUserPromoImage,alt:"shoutout"})),t.createElement("div",{className:"shoutout-new-user-overlay"},t.createElement("p",{className:"shoutout-new-user-title"},s.translate("SiteApp_ShoutOut_Email_Panel_First_Title")),t.createElement("a",{href:this.getCreateNewUrl(),target:"_blank",className:"control-button shoutout-panel-url-as-button",onClick:this.createNewClick},s.translate("SiteApp_ShoutOut_Email_Panel_First_Create")),t.createElement("button",{onClick:this.viewTemplates,className:"shoutout-panel-button-as-url shoutout-open-templates"},s.translate("SiteApp_ShoutOut_Email_Panel_First_Templates"))))):null,this.state.userState===this.userStates.returning?t.createElement("div",{className:"shoutout-email-panel-returning",key:"shoutout-email-panel-returning"},this.state.gsState.visible?t.createElement("div",{className:"shoutout-email-panel-returning-gs",key:"visible"},t.createElement("div",{className:"first-time-info-box in-header shoutout-new-user-gs-banner"},t.createElement("div",{className:"top-line"},t.createElement("div",{className:"close",onClick:this.closeGsBanner},t.createElement(i.symbol,{name:"firstTimeInfoBoxClose"}))),t.createElement("div",{className:"shoutout-new-user-gs-banner-image"},t.createElement("img",{src:this.newUserGsBannerIcon,alt:"shoutout"}),t.createElement("div",{className:"shoutout-new-user-gs-banner-notification"},"1")),t.createElement("div",{className:"shoutout-new-user-gs-banner-content"},t.createElement("div",{className:"shoutout-new-user-gs-banner-text"},this.state.gsState.installed?s.translate("SiteApp_ShoutOut_Email_Panel_First_Gs_Installed_Banner_Text"):s.translate("SiteApp_ShoutOut_Email_Panel_First_Gs_Banner_Text")),t.createElement("div",{className:"shoutout-new-user-gs-banner-actions"},t.createElement("button",{className:"control-button link no-margin btn-sm btn-text",onClick:this.openGsHelp},t.createElement("span",{},s.translate("add_category_teaser_link")),t.createElement(i.symbol,{className:"arrow",name:"firstTimeInfoBoxArrowRight",key:"learnMoreSymbol"})),!1===this.state.gsState.installed?t.createElement("button",{className:"control-button shoutout-new-user-gs-banner-action",onClick:this.addGsToSiteClick,key:"installed"},"\n                    ",s.translate("SiteApp_ShoutOut_Email_Panel_First_Gs_Banner_Action"),"\n                "):null)))):null,this.state.gsState.visible?null:function(){var e=this.getBanner();return t.createElement("div",{className:"shoutout-email-panel-returning-standard",key:"notVisible"},t.createElement("div",{className:"shoutout-email-returning-banner-image"},t.createElement("img",{src:e.imageUrl,alt:"shoutout"})),t.createElement("div",{className:"shoutout-email-returning-banner-bottom"},t.createElement("p",{className:"shoutout-email-returning-banner-title"},s.translate(e.titleKey)),t.createElement("button",{onClick:this.bannerActionClick,className:"control-button shoutout-email-returning-banner-action"},s.translate(e.actionKey))))}.apply(this,[]),t.createElement("iframe",{className:"shoutout-email-returning-shoutouts-iframe",src:this.returningUserIframeUrl(),width:"100%"}),t.createElement("a",{href:this.myShoutOutsUrl(),target:"_blank",className:"shoutout-panel-url shoutout-panel-url-my-shoutouts"},s.translate("SiteApp_ShoutOut_Email_Panel_Returning_View_ShoutOuts"))):null)}}),define("shoutOut/panels/shoutOutPanel/leftBar/shoutOutMailPanel",["create-react-class","core","util","tpa","shoutOut/utils/shoutOutUtils","shoutOut/utils/bi/shoutOutBi","shoutOut/panels/shoutOutPanel/addSections/actionsProvider","constants","shoutOut/panels/shoutOutPanel/leftBar/shoutOutMailPanel.rt"],function(e,t,s,i,n,a,o,r,u){"use strict";return e({displayName:"shoutOutPanel",mixins:[t.mixins.editorAPIMixin,s.propTypesFilterMixin,s.postMessageMixin],propTypes:{},newUserPromoImage:s.media.getMediaUrl("shoutOut/shoutOutNewUser.png"),newUserGsBannerIcon:s.media.getMediaUrl("shoutOut/shoutOutNewUserGrowBannerIcon.png"),metaSiteId:"",userStates:{loading:"loading",new:"new",returning:"returning"},bannerTypes:{generic:"generic",store:"store"},getInitialState:function(){return{userState:function(){return n.isUserReturning()?this.userStates.returning:this.userStates.new}.call(this),gsState:function(){var e={visible:!1,installed:!1,touched:!1};return n.isPimpleVisible(this.getEditorAPI())&&(e.visible=!0,e.installed=n.gs.isInstalled(),e.touched=n.gs.isTouched()),e}.call(this)}},componentDidMount:function(){n.isUserReturning()&&this.getEditorAPI().bi.event(a.events.SIE_SHOUTOUT_PANEL_RETURNING_BANNER_VIEW,{type:this.getBanner().type})},myShoutOutsUrl:function(){return n.getMyShoutOutsUrl(this.getEditorAPI().site.getMetaSiteId())},returningUserIframeUrl:function(){return n.getNewReturningUserIframeUrl(this.getEditorAPI().site.getMetaSiteId())},createNewClick:function(){this.getEditorAPI().bi.event(a.events.SHOUTOUT_NEW_MESSAGE,{context:"editor",msid:"guid",origin:"editorShotoutPanel",package_group:"",package_id:""})},getCreateNewUrl:function(){return n.getShoutOutNewMessageUrl(this.getEditorAPI().site.getMetaSiteId())},getBanner:function(){var e={type:this.bannerTypes.generic,templatesUrl:n.getShoutOutTemplatesUrl(this.getEditorAPI().site.getMetaSiteId()),imageUrl:s.media.getMediaUrl("shoutOut/shoutOutReturningUserBannerGeneric.png"),titleKey:"SiteApp_ShoutOut_Email_Panel_Returning_Title",actionKey:"SiteApp_ShoutOut_Email_Panel_Returning_Create"};return i.superApps.isInstalled(n.apps.store.appId)&&(e.type=this.bannerTypes.store,e.imageUrl=s.media.getMediaUrl("shoutOut/shoutOutReturningUserBannerStore.png"),e.titleKey="SiteApp_ShoutOut_Email_Panel_Returning_Store_Title",e.actionKey="SiteApp_ShoutOut_Email_Panel_Returning_Store_Create"),e},viewTemplates:function(){this.getEditorAPI().panelManager.openPanel("panels.focusPanels.shoutOutTemplatesPanel",{frameUrl:n.getDirectTemplatesUrl(this.getEditorAPI().site.getMetaSiteId())},!0)},addGsToSiteClick:function(){o.onGsWidgetClick({data:{widgetId:n.apps.getSubscribers.widgetId}})},closeGsBanner:function(){this.setState({gsState:{visible:!1}})},openGsHelp:function(){var e=this.getEditorAPI(),t={origin:r.SUPER_APPS.SHOUTOUT_PANEL_NAME,component:"shoutoutGs",learn_more:!0};e.panelManager.openHelpCenter("012fc8f2-e84b-4bfb-b419-2f76bacc03aa",null,t)},bannerActionClick:function(){this.viewTemplates(),this.getEditorAPI().bi.event(a.events.SIE_SHOUTOUT_PANEL_RETURNING_BANNER_CLICK,{type:this.getBanner().type})},render:u})}),define("shoutOut/panels/shoutOutPanel/leftBar/shoutOutFeedPanel.rt",["react","lodash","util","santa-editor-symbols"],function(i,n,a,o){"use strict";return function(){return function(){var e=this.props.superApp.panel.addElements,t=this.isMobile(),s=this.getEditorAPI().addPanelInfra.categoryView;return i.createElement("div",{className:"super-app-add-elements-panel category-view-wrapper"},t?null:i.createElement(s,n.assign({},{key:"categoryView",teaser:this.getTeaser(),origin:"vertical_button",items:this.getSections()},this.getCategoryViewProps())),t?i.createElement("div",{className:"super-app-mobile-view",key:"mobileView"},i.createElement(o.symbol,{name:this.props.superApp.panel.addElements.mobileImage}),i.createElement("p",{className:"bigger-text"},a.translate(e.disabledInMobileMessageTitle)),i.createElement("p",{},"\n            ",a.translate(e.disabledInMobileMessageDescription)," ",i.createElement("a",{onClick:this.goToDesktop},a.translate(e.disabledInMobileMessageDescriptionLink)))):null)}.apply(this,[])}}),define("shoutOut/panels/shoutOutPanel/leftBar/shoutOutFeedPanel",["lodash","create-react-class","prop-types","core","mixins","shoutOut/panels/shoutOutPanel/leftBar/shoutOutFeedPanel.rt"],function(t,e,s,i,n,a){"use strict";return e({displayName:"superAppAddElementsPanel",mixins:[i.mixins.editorAPIMixin,n.dragToStageMixin],propTypes:{onChangeStateOnInnerNavigationOpen:s.func.isRequired,superApp:s.shape({panel:{addElements:s.object},extraTabs:s.array}).isRequired},getInitialState:function(){return{firstTimeInfoBoxHeight:0}},isMobile:function(){return this.getEditorAPI().viewMode.get()===this.getEditorAPI().dsRead.viewMode.VIEW_MODES.MOBILE},getSections:function(){return this.props.superApp.extraTabs[0].sections},getTeaser:function(){return this.props.superApp.extraTabs[0].teaser},getCategoryViewProps:function(){var e=t.cloneDeep(this.props);return t.assign(e,{changeStateOnInnerNavigationOpen:this.props.onChangeStateOnInnerNavigationOpen,firstTimeInfoBoxHeight:this.state.firstTimeInfoBoxHeight,onItemDrag:this.startItemDrag})},goToDesktop:function(){this.getEditorAPI().setDesktopEditor()},render:a})}),define("shoutOut/panels/shoutOutPanel/addSections/subscribe",["addPanelDataConsts","shoutOut/utils/shoutOutUtils","shoutOut/panels/shoutOutPanel/addSections/actionsProvider"],function(e,t,s){"use strict";return{type:e.SECTIONS_TYPES.PRESET,hide:!1,title:"SiteApp_ShoutOut_Panels_Subscribe_Add_Title",showSectionHeader:!0,additionalBehaviours:{labelMode:e.LABEL_BEHAVIOUR.NONE,infoIcon:e.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:e.HOVER_IMAGE_ACTIONS.NONE,scaleProportion:e.DEFAULT_SCALE_FOR_PRESET,iconEnabledForComps:[]},props:{image:"shoutOut/shoutOutSectionGetSub.png",imageHover:null,onDrop:s.onGsWidgetDrop,onClick:s.onGsWidgetClick,items:[{id:"shoutout_get_subscribers_main",structure:{skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:500,height:126,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},applicationId:"16",widgetId:t.apps.getSubscribers.widgetId},style:{type:"TopLevelStyle",id:"tpaw0",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{groups:{},properties:{},propertiesSource:{}},componentClassName:"",pageId:"",compId:"",styleType:"system",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"}},preset:{rect:{width:436,height:134,x:0,y:0},label:""}}],compTypes:["wysiwyg.viewer.components.tpapps.TPAWidget"]},help:{hide:!1,text:"SiteApp_ShoutOut_Panels_Subscribe_Add_Tooltip"}}}),define("shoutOut/panels/shoutOutPanel/addSections/feed",["addPanelDataConsts","shoutOut/utils/shoutOutUtils","shoutOut/panels/shoutOutPanel/addSections/actionsProvider"],function(e,t,s){"use strict";return{type:e.SECTIONS_TYPES.PRESET,hide:!1,title:"SiteApp_ShoutOut_Panels_Feed_Add_Title",showSectionHeader:!0,additionalBehaviours:{labelMode:e.LABEL_BEHAVIOUR.NONE,infoIcon:e.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:e.HOVER_IMAGE_ACTIONS.NONE,scaleProportion:e.DEFAULT_SCALE_FOR_PRESET,iconEnabledForComps:[]},props:{image:"shoutOut/shoutOutSectionFeed.png",imageHover:null,onDrop:s.onFeedWidgetDrop,onClick:s.onFeedWidgetClick,items:[{id:"shoutout_get_feed_main",structure:{skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:420,height:280,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},applicationId:"16",widgetId:t.apps.feed.widgetId},style:{type:"TopLevelStyle",id:"tpaw0",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{groups:{},properties:{},propertiesSource:{}},componentClassName:"",pageId:"",compId:"",styleType:"system",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"}},preset:{rect:{width:435,height:286,x:0,y:0},label:""}}],compTypes:["wysiwyg.viewer.components.tpapps.TPAWidget"]},help:{hide:!1,text:"SiteApp_ShoutOut_Panels_Feed_Add_Tooltip"}}}),define("shoutOut/panels/soMenuPanelNew",["create-react-class","core","shoutOut/utils/shoutOutUtils","shoutOut/utils/bi/shoutOutBi","shoutOut/panels/soMenuPanelNew.rt","shoutOut/panels/shoutOutPanel/firstTimeTour","shoutOut/panels/shoutOutPanel/leftBar/shoutOutMailPanel","shoutOut/panels/shoutOutPanel/leftBar/shoutOutFeedPanel","shoutOut/panels/shoutOutPanel/addSections/subscribe","shoutOut/panels/shoutOutPanel/addSections/feed"],function(e,t,s,i,n,a,o,r,u,l){"use strict";var p={id:"shoutout",appDefId:s.appDefId,appName:"shoutout",firstTimeTour:{templateFlow:[a],manuallyInstalledFlow:[a],promotionalFlow:[a]},panel:{name:"shoutOut.menuPanel",manage:{title:"SiteApp_ShoutOut_Panels_Email_Title",helpId:"b4bf9ded-bf71-412b-889f-8586727adc24",template:o},pages:{title:"to-hide",helpId:"1",template:o},addElements:{title:"SiteApp_ShoutOut_Panels_Subscribe_Title",helpId:"012fc8f2-e84b-4bfb-b419-2f76bacc03aa",sections:[u],teaser:{id:"category_shoutout_get_subscribers_teaser",hide:!1,title:"SiteApp_ShoutOut_GsTeaser_Title",text:"SiteApp_ShoutOut_GsTeaser_Text",linkText:"true",helpId:"afc595d9-3b30-4d59-ac61-4ad3d7c2777d"}},learnMore:{title:"to-hide",helpId:"1",template:o}},extraTabs:[{title:"SiteApp_ShoutOut_Panels_Feed_Title",helpId:"c6b8ccb7-47bf-4045-ba36-21c44ce3111d",template:r,isDynamicHeight:!0,index:4,teaser:{id:"category_shoutout_feed_teaser",hide:!1,title:"SiteApp_ShoutOut_FeedTeaser_Title",text:"SiteApp_ShoutOut_FeedTeaser_Text"},sections:[l]}],upgradeLinkText:"superAppTranslationKeys.upgradeLinkText",isAppInstalled:function(){return!0}};return e({displayName:"soMenuPanel",mixins:[t.mixins.editorAPIMixin],componentWillUnmount:function(){s.isPimpleVisible(this.getEditorAPI())&&s.setPimpleViewed(this.getEditorAPI())},componentDidMount:function(){var e,t;e=this.getEditorAPI().bi.event,t="none",s.gs.isInstalled()?s.gs.isTouched()||(t="gsNotTouched"):t="gsNotInstalled",e(i.events.SHOUTOUT_EDITOR_PANEL_OPEN,{type:"Email",notification:t})},getClass:function(){return"shoutout-panel shoutout-panel-new"},getSuperApp:function(){return p},render:n})}),define("shoutOut",["superAppMenuInfra","shoutOut/panels/soMenuPanel","shoutOut/panels/soMenuPanelNew","shoutOut/panels/shoutOutPanel/addSections/actionsProvider","shoutOut/utils/shoutOutUtils","constants","experiment"],function(a,e,t,o,r,u,l){"use strict";return{onPreviewReady:function(t){if(t.dsRead){var s=u.SUPER_APPS.SHOUTOUT_PANEL_NAME,e=t.dsRead.generalInfo.isSitePublished(),i=!1;e?n(!1):t.registerSitePublishedCallbacks(function(){i||n(!0)}),o.init(t)}function n(e){a.button.registerButton(t,"shoutout",!0,s,"SiteApp_ShoutOut_Button_Hover_Caption","SiteApp_ShoutOut_Button_Hover_Caption","shoutout-panel","shoutOutLeftBarIcon",e),i=!0,l.isOpen("shoutOutNewFlow")&&t.registerInitUserPrefsCallback(function(){r.fetchSoState(t,function(){!r.isUserFirstTimer(t)&&r.pimpleShouldAppear(t)&&r.showPimple(t)})})}},menuPanel:l.isOpen("shoutOutNewFlow")?t:e}});
//# sourceMappingURL=shoutOut.min.js.map