var _createClass=function(){function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}(),_slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,s=!1,i=void 0;try{for(var o,r=e[Symbol.iterator]();!(n=(o=r.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){s=!0,i=e}finally{try{!n&&r.return&&r.return()}finally{if(s)throw i}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}define("pageSettingsPanel/utils/constants",["constants"],function(e){"use strict";var t={USI_SEO_MAX_LENGTH:35,NAME_MAX_LENGTH:40,TITLE_SEO_MAX_LENGTH:70,TITLE_TOOLTIP_MARGIN_TOP:-6,TITLE_TOOLTIP_MARGIN_LEFT:-376,KEYWORD_SEO_MAX_LENGTH:250,KEYWORD_SEO_MAX_WORDS:10,DESCRIPTION_SEO_MAX_LENGTH:320,PASSWORD_TEMPLATE:"########",PASSWORD_MAX_LENGTH:15,INVALID_CHARACTERS:'[!#$%^&()+=}{";:\\/><~\\]\\[]',PERMISSION_STATES:{NONE:"none",PASSWORD:"password",MEMBERS:"members"},MEMBER_ACCESS_PERMISSIONS:{ALL:"all",SPECIFIC:"specific"},INPUT_TYPES:{PASSWORD:"password",TEXT:"text"},STATIC_PAGES_HELP_IDS:{},GOOGLE_PREVIEW_HELP_ID:"0aafdc03-cf40-40c1-8e72-fdcbd95d006c",SIGNUP_HELP_ID:"4e10353d-4091-49fb-8e6e-eb6d26b43468",FIND_OUT_MORE_HELP_ID:"2e86c42a-98de-42c2-8d02-397fc5944687",PRICING_PLANS_APP_DEF_ID:"1522827f-c56c-a5c9-2ac9-00f9e6ae12d3"};return t.STATIC_PAGES_HELP_IDS[e.PAGE_SETTINGS_TABS.PAGE_INFO]="04945784-71f2-4312-9fd5-73804fc4556d",t.STATIC_PAGES_HELP_IDS[e.PAGE_SETTINGS_TABS.LAYOUT]="9a6cfe92-2d54-4107-8a46-c83ac8a51a39",t.STATIC_PAGES_HELP_IDS[e.PAGE_SETTINGS_TABS.PERMISSIONS]="b893d6b5-13b3-44d0-9e11-46eecd862a87",t.STATIC_PAGES_HELP_IDS[e.PAGE_SETTINGS_TABS.SEO]="5faf282c-200b-4f6b-ac3c-9cc38feb81b3",Object.freeze(t)}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopMapper",["lodash"],function(p){"use strict";return{mapStateToProps:function(e,t){var a,n,s,i=e.editorAPI,o=i.pages.getPagesData(),r=i.developerMode.isEnabled(),l=(a=t.menuItem.pageData.id,n=i.dsRead.pages.getReference(a),s=p.find(o,{id:a}),p.get(s,"managingAppDefId")?i.pages.appPages.getPageSettings(s.managingAppDefId,[],n):i.pages.dynamicPages.getDynamicPageActions(t.menuItem.pageData.id,"pageSettings"));return{isDeveloperModeEnabled:r,isApplicationOverridingSettingTab:!p.isEmpty(l),applicationTabs:l}},mapDispatchToProps:function(a){return{sendBi:function(e,t){var n,s;a((n=e,s=t,function(e,t,a){a.editorAPI.bi.event(n,s)}))},getRouterDataForPageIfExist:function(){return a(function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return function(e,t,a){var n;return(n=a.editorAPI.dsRead.routers).getRouterDataForPageIfExist.apply(n,s)}}.apply(void 0,arguments))}}}}}),define("pageSettingsPanel/settings/tabs/dynamicPageSettingsNoDevMode.rt",["react","lodash","util","baseUILib"],function(e,t,a,n){"use strict";return function(){return e.createElement("div",{className:"tab tab-dynamic-page-no-dev-node"},function(){return a.translate,e.createElement(n.CustomScroll,{},e.createElement("div",{className:t({"tab-inner":!0}).transform(function(e,t,a){t&&e.push(a)},[]).join(" ")},e.createElement(n.Composites.RichTextLabeled,{},e.createElement(n.TextLabel,{type:"T06",value:a.translate("PLATFORM_PAGE_SETTINGS_DEVTOOLS_DISABLED_TITLE"),shouldTranslate:!1}),e.createElement(n.RichText,{},e.createElement("p",{},a.translate("Platform_Page_Settings_DevTools_Disabled_Paragraph1")),e.createElement("p",{},a.translate("Platform_Page_Settings_DevTools_Disabled_Paragraph2"))))))}.apply(this,[]))}}),define("pageSettingsPanel/settings/tabs/dynamicPageSettingsNoDevMode",["create-react-class","pageSettingsPanel/settings/tabs/dynamicPageSettingsNoDevMode.rt"],function(e,t){"use strict";return e({displayName:"dynamicPageSettingsNoDevModeNew",render:t})}),define("pageSettingsPanel/settings/tabs/pageSettingsPanelTabsHolder.rt",["react","lodash","baseUI","baseUILib"],function(n,e,s,t){"use strict";return function(){return n.createElement("div",{},n.createElement(s.tabs.holder,{value:this.props.selectedTabType,className:"top page-settings-tabs"},n.createElement(t.HorizontalTabs,{value:this.props.selectedTabType,onChange:function(e){this.props.setActiveTabType(e)}.bind(this),options:this.getTabs(),shouldTranslate:!1,maxVisibleTabs:4,tabsToSkipOnClick:2}),n.createElement.apply(this,[s.tabs.content,{className:"page-settings-panel-pp-content"},e.map(this.props.tabs,function(e,t,a){return function(e,t){var a=e.panelClass;return n.createElement(s.tabs.tab,{name:e.tag,key:e.tag},n.createElement(a,e.props))}.apply(this,[e,t])}.bind(this))])))}}),define("pageSettingsPanel/settings/tabs/pageSettingsPanelTabsHolder",["create-react-class","prop-types","lodash","pageSettingsPanel/settings/tabs/pageSettingsPanelTabsHolder.rt"],function(e,t,a,n){"use strict";return e({displayName:"pageSettingsTabsHolder",propTypes:{menuItem:t.object.isRequired,selectedTabType:t.string,setActiveTabType:t.func.isRequired,tabs:t.PropTypes.arrayOf(t.shape({tag:t.string.isRequired,name:t.string.isRequired,panelClass:t.string.element,props:t.object}))},getTabs:function(){return a.map(this.props.tabs,function(e){return{label:e.name,value:e.tag}})},render:n})}),define("pageSettingsPanel/settings/applicationSettingsPanelTabs.rt",["react","lodash","pageSettingsPanel/settings/tabs/pageSettingsPanelTabsHolder"],function(e,t,a){"use strict";return function(){return e.createElement(a,t.assign({},{tabs:this.getTabsPanel()},this.props))}}),define("pageSettingsPanel/settings/tabs/tabLayout.rt",["react","lodash","baseUI","santa-editor-symbols","util","baseUILib"],function(t,e,a,n,s,i){"use strict";return function(){return function(){var e=s.translate;return t.createElement(i.CustomScroll,{},t.createElement("div",{className:"layout tab-inner"},t.createElement(a.tabs.holder,{className:"left radio",valueLink:this.linkPageProperty("isLandingPage")},t.createElement(a.tabs.header,{},t.createElement(a.tabs.label,{htmlFor:!1},t.createElement(n.symbol,{name:"layoutStandardSelected"}),t.createElement(n.symbol,{name:"layoutStandardNotSelected"}),t.createElement("div",{},t.createElement("h3",{},e("Pages_Layouts_Standard_Title")),t.createElement("p",{},e("Pages_Layouts_Standard_Text")))),t.createElement(a.tabs.label,{htmlFor:!0},t.createElement(n.symbol,{name:"layoutLandingSelected"}),t.createElement(n.symbol,{name:"layoutLandingNotSelected"}),t.createElement("div",{},t.createElement("h3",{},e("Pages_Layouts_Landing_Title")),t.createElement("p",{},e("Pages_Layouts_Landing_Text"),t.createElement("br",{}),t.createElement(a.button,{label:"Pages_Layouts_Landing_Learn",className:"btn-text",onClick:this.openLearnMore}))))))))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/pageSettingsTabMixin",["core"],function(e){"use strict";return{mixins:[e.mixins.editorAPIMixin],getPageData:function(){return this.props.pageData||this.props.menuItem.pageData},getPageId:function(){var e=this.getPageData();return e?e.id:null},getValueFromPageData:function(e){var t=this.getPageData();return t&&t[e]},linkPageProperty:function(t){var a=this.getPageId(),n=this.getEditorAPI(),s={};return{value:this.getValueFromPageData(t),requestChange:function(e){n.history.add("page property change"),s[t]=e,n.pages.data.update(a,s)}}},linkInversePageProperty:function(t){var a=this.getPageId(),n=this.getEditorAPI(),s={};return{value:!this.getValueFromPageData(t),requestChange:function(e){s[t]=!e,n.pages.data.update(a,s)}}}}}),define("pageSettingsPanel/settings/tabs/tabLayout",["create-react-class","prop-types","pageSettingsPanel/settings/tabs/tabLayout.rt","constants","pageSettingsPanel/settings/tabs/pageSettingsTabMixin"],function(e,t,a,n,s){"use strict";return e({displayName:"tabLayoutNew",mixins:[s],propTypes:{menuItem:t.object.isRequired},openLearnMore:function(){var e={panel_name:"tab_layout",origin:n.BI.HELP.ORIGIN.PAGES,learn_more:!0};this.getEditorAPI().panelManager.openHelpCenter("3ff92482-4a9e-48f1-af56-c7ed01571ad2",null,e)},render:a})}),define("pageSettingsPanel/utils/permissions",["lodash","pageSettingsPanel/utils/constants"],function(s,a){"use strict";function n(e,t){return!s.isEmpty(s.get(t,"pageSecurity.passwordDigest"))||(a=e,n=t.id,a.pages.permissions.hasPassword(n));var a,n}return{getProtectionType:function(e,t){return s.get(t,"pageSecurity").requireLogin?a.PERMISSION_STATES.MEMBERS:n(e,t)?a.PERMISSION_STATES.PASSWORD:a.PERMISSION_STATES.NONE},isPageProtectedWithPassword:n}}),define("pageSettingsPanel/settings/tabs/tabPermissions.rt",["react","lodash","baseUI","santa-editor-symbols","util","pageSettingsPanel/utils/constants","experiment","baseUILib"],function(s,a,e,n,i,o,r,l){"use strict";return function(){function t(e){var t=this.getDialogLanguageType();return s.createElement.apply(this,[l.DropDown,{value:this.state[t],openOnSelected:!0,shouldTranslate:!1,onChange:this.getHandleChangeDialogLanguage(t)},a.map(i.languages.getLanguagesList(),function(e,t,a,n){return s.createElement(l.DropDownOption,{key:a.value,value:a.value,label:a.label,shouldTranslate:!1})}.bind(this,e,t))])}return function(){var e=i.translate;return s.createElement(l.CustomScroll,{},s.createElement("div",{className:"permissions-tab tab-inner"},s.createElement(l.Composites.Thumbnails,{},s.createElement(l.TextLabel,{value:"NewPages_Panel_Permissions_Title"}),s.createElement(l.Thumbnails,{value:this.state.focusedProtectionType,maxThumbsPerRow:3,options:this.getThumbnailOptions(),borderType:"thumbnailAndLabel",labelsType:"T15",shoudAddTooltipOnEllipsis:!1,onChange:this.handleChangePermission})),s.createElement(l.Composites.RichText,{},s.createElement(l.RichText,{},s.createElement("p",{},"\n                    ",e(this.getPermissionDescription())+" ","\n                    ",s.createElement("a",{onClick:this.handleClickLearnMore},"\n                        ",e("NewPages_Panel_Permissions_Password_Learn_More"),"\n                    ")))),s.createElement(l.Divider,{}),this.state.focusedProtectionType===o.PERMISSION_STATES.PASSWORD?s.createElement(l.Composites.TextInputLabeled,{key:"page-permissions-password-input"},s.createElement(l.TextLabel,{value:"Pages_Permissions_Password_Choose"}),this.shouldShowPasswordMockElement()?s.createElement(l.TextInput,{key:"passwordMockElement",onClick:this.onPasswordFocus,value:o.PASSWORD_TEMPLATE,type:"password"}):null,this.shouldShowPasswordMockElement()?null:s.createElement(l.TextInput,{key:"visible-password-input",focus:!this.isPasswordHidden(),onFocus:this.onPasswordFocus,onBlur:this.onPasswordBlur,value:this.state.plainPassword,type:this.state.passwordInputType,placeholder:"NewPages_Panel_Permissions_Set_Password_InputField_Text",maxLength:o.PASSWORD_MAX_LENGTH,validator:this.isValidPassword,invalidMessage:"Pages_Permissions_Password_Error_Tooltip"})):null,this.state.focusedProtectionType===o.PERMISSION_STATES.PASSWORD||this.state.focusedProtectionType===o.PERMISSION_STATES.MEMBERS?s.createElement(l.Divider,{key:"divider-password-input"}):null,this.state.focusedProtectionType===o.PERMISSION_STATES.PASSWORD||this.state.focusedProtectionType===o.PERMISSION_STATES.MEMBERS?s.createElement(l.Composites.DropDownLabeled,{key:"dialog-language-dropdown-labeled"},s.createElement(l.TextLabel,{value:"NewPages_Panel_Permissions_Password_Language"}),t.apply(this,[e])):null,this.shouldShowRolesForPage()?s.createElement(l.Divider,{key:"divider-roles"}):null,this.isPricingPlansOptionsOn()?s.createElement("div",{key:"is-pricing-options-on"},s.createElement(l.Composites.RadioButtonsLabeled,{},s.createElement(l.TextLabel,{value:"NewPages_Panel_Permissions_Member_Roles_Options_Title",shouldTranslate:!0}),s.createElement(l.RadioButtons,{value:this.state.membersAccessPermissions,onChange:this.handleMembersAccessChange,shouldTranslate:!0,options:this.getMembersAccessOptions()}),this.shouldDisplaySpecificAccessOptions()?s.createElement("div",{key:"should-display-specific-options",className:"indented-members-access-options"},s.createElement("div",{className:"indented-divider"},s.createElement(l.Divider,{})),s.createElement("div",{className:"action-with-symbol-container"},s.createElement(l.Composites.ActionWithSymbolLabeled,{},s.createElement(l.TextLabel,{value:"NewPages_Panel_Permissions_Member_Roles_Select_From_Roles_Label"}),s.createElement(l.ActionWithSymbol,{action:this.openRolesPanel,symbol:this.getEditRolesSymbol()},s.createElement(l.TextLabel,{value:this.getRolesActionLabel(),shouldTranslate:!1})))),s.createElement(l.Divider,{}),this.isPricingPlansAppInstalled()?null:s.createElement("div",{key:"pricing-plans-banner"},s.createElement(l.Composites.RichTextLabeled,{},s.createElement(l.TextLabel,{type:"T07",value:"NewPages_Panel_Permission_Pricing_Plans_Splash_Label",shouldTranslate:!0}),s.createElement(l.RichText,{},"\n                                ",e("NewPages_Panel_Permission_Pricing_Plans_Splash_Text")+" ","\n                                ",s.createElement("a",{onClick:this.openPricingPlansInAppMarket},e("NewPages_Panel_Permission_Pricing_Plans_Splash_Link"))))),this.isPricingPlansAppInstalled()?s.createElement("div",{key:"pricing-plans-action"},s.createElement(l.Composites.ActionWithSymbolLabeled,{},s.createElement(l.TextLabel,{value:"NewPages_Panel_Permissions_Member_Roles_Select_From_Paid_Plans_Label"}),s.createElement(l.ActionWithSymbol,{action:this.openPaidPlansPanel,symbol:this.getEditRolesSymbol()},s.createElement(l.TextLabel,{value:this.getPlansActionLabel(),shouldTranslate:!1})))):null):null)):null,this.isPricingPlansOptionsOn()?null:s.createElement("div",{key:"pricing-plans-options"},this.shouldShowRolesForPage()?s.createElement(l.Composites.ActionWithSymbolLabeled,{key:"page-roles"},s.createElement(l.TextLabel,{value:"NewPages_Panel_Permissions_Member_Roles"}),s.createElement(l.ActionWithSymbol,{action:this.openRolesPageModal,symbol:this.getEditRolesSymbol()},s.createElement(l.TextLabel,{value:this.getRolesActionLabel(),shouldTranslate:!1}))):null),this.state.focusedProtectionType===o.PERMISSION_STATES.MEMBERS?s.createElement(l.Divider,{key:"divider-dialog-language"}):null,this.state.focusedProtectionType===o.PERMISSION_STATES.MEMBERS?s.createElement(l.Composites.RichText,{className:"members-links-container",key:"members-links-container"},this.isSiteSaved()?s.createElement(l.RichText,{key:"manage-site-members-container"},s.createElement(n.symbol,{name:"goToURLAction"}),s.createElement("a",{href:this.getSiteMembersUrl(),target:"_blank"},"\n                    ",e("NewPages_Panel_Permissions_Member_ManageMembers_Link"),"\n                ")):null,r.isOpen("se_customRegistrationPagesPanel")?null:s.createElement(l.RichText,{key:"8986"},s.createElement(n.symbol,{name:"site-members"}),s.createElement("a",{onClick:this.openSiteMembersSettingsPanel},"\n                    ",e("NewPages_Panel_Permissions_Member_ManagePages_Link"),"\n                "))):null))}.apply(this,[])}}),define("pageSettingsPanel/utils/groupsApi",["lodash","util","constants","coreUtilsLib"],function(i,e,t,l){"use strict";var a,n="00000000-0000-0000-0000-000000000000",s=e.translate("NewPages_Panel_Permissions_Member_Roles_Default_Role"),o="00000000-0000-0000-0000-000000000001",r=e.translate("NewPages_Panel_Permissions_Member_Roles_Admins_Role"),g=(_defineProperty(a={},n,{title:s,disabled:!1}),_defineProperty(a,o,{title:r,disabled:!0}),a),p=function(){return{title:r,id:o,disabled:!0,checked:!0,type:"role"}},c="//editor.wix.com/_api/members-groups-web/v1/groups",u=function(e){return c+"/"+e+"/permissions"},d=function(e){return c+"/"+e+"/permissions/delete"},m=function(e){return c+"/"+e+"/permissions"},_=function(e){return c+"/resources/"+e},S=function(e){return""+c+(e&&"?type="+e||"")},P=function(e,t,a){var n=t.url;return l.requestsUtil.fetchJson(n,{credentials:"same-origin",method:"GET",headers:new Headers({Authorization:a})})},h=function(e,t,a){var n,s,i=t.url,o=t.pageId,r=t.groupId;return l.requestsUtil.fetch(i,{credentials:"same-origin",method:"POST",body:JSON.stringify((n={pageId:o,groupId:r},s=n.pageId,{groupId:n.groupId,permissions:[{context:"Pages",resourceIds:[s],id:"cce6b124-b14c-4383-aee9-5e0814811ae2"}]})),headers:new Headers({Authorization:a})})},b=function(e){var t=e.shouldCheck,p=void 0!==t&&t,a=e.data,n=i.get(a,"groups",[]);return i.uniqBy(n.map(function(e){var t=e.id,a=e.type,n=void 0===a?"role":a,s=e.title,i=e.disabled,o=void 0!==i&&i,r=e.checked,l=void 0===r?p:r;return{id:t,title:g[t]&&g[t].title||s,disabled:g[t]&&g[t].disabled||o,checked:l,type:n}}),"id")};return{getAdminGroup:p,getAllMembersGroup:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return{title:s,id:n,checked:e}},membersGroupsApi:function(e){e.dsRead.generalInfo.getMetaSiteId();var s=i.get(e.dsRead.platform.getAppDataByApplicationId(t.APPLICATIONS.META_SITE_APPLICATION_ID),"instance");return{getAvailableRoles:function(){return P(0,{url:S()},s).then(function(e){return b({data:e})})},getAvailablePlans:function(){return P(0,{url:S("plan")},s).then(function(e){return b({data:e,groupType:"plan"})})},getPagesOnlyForAdmin:function(){return P(0,{url:m(o)},s).then(function(e){return i.get(i.find(i.get(e,"permissions"),{context:"Pages"}),"resourceIds",[])})},getGroupsForPage:function(e){var t=e.pageId;return P(0,{url:_(t)},s).then(function(e){return b({data:e,shouldCheck:!0})})},updateGroupsPermissions:function(e){var n=e.pageId,t=e.groupsToUpdate;return Promise.all(t.map(function(e){var t=e.id,a=e.checked;return h(0,a?{url:u(t),pageId:n,groupId:t}:{url:d(t),pageId:n,groupId:t},s)}))}}},ensureAdminsRole:function(e){return[p()].concat(i.reject(e,{id:o}))}}}),define("pageSettingsPanel/settings/tabs/tabPermissions",["react","create-react-class","lodash","util","santa-editor-symbols","pageSettingsPanel/utils/constants","pageSettingsPanel/utils/permissions","pageSettingsPanel/settings/tabs/tabPermissions.rt","coreBi","constants","pageSettingsPanel/settings/tabs/pageSettingsTabMixin","pageSettingsPanel/utils/groupsApi"],function(e,t,i,a,n,o,s,r,l,p,g,c){"use strict";var u=o.MEMBER_ACCESS_PERMISSIONS,d=o.PRICING_PLANS_APP_DEF_ID,m=o.INPUT_TYPES,_=function(e){var t=e.groups,a=e.type;return t.filter(function(e){return e.checked&&(!e.type||e.type===a)}).map(function(e){return e.title}).join(", ")},S=function(e,t,a,n){var s,i;e.pages.data.update(t,{pageSecurity:a}),s=t,i=n,e.bi.event(l.events.topbar.pages.top_bar_PAGES_settings_privacy_changed,{privacy:i,page_id:s})},P=function(e,t){e.pages.permissions.removePassword(t)};return t({displayName:"tabPermissionsNew",mixins:[g],getInitialState:function(){return this.getPageState(this.props)},componentWillReceiveProps:function(e){var t=this;e.pageData.id!==this.state.pageId&&this.setState(this.getPageState(e),function(){return t.refreshRoles(e.pageData.id)})},componentDidMount:function(){this.mounted=!0,this.refreshRoles(this.props.pageData.id)},componentWillUnmount:function(){this.mounted=!1},getPageState:function(e){return{focusedProtectionType:this.getInitialProtectionType(e),passwordDialogLanguage:this.getInitialLanguage(e),membersDialogLanguage:this.getInitialLanguage(e),pageId:e.pageData.id,isNewValidPasswordInserted:!1,passwordInputType:m.PASSWORD,plainPassword:"",membersAccessPermissions:u.ALL,groupsForPage:[],availableRoles:[c.getAdminGroup()],availablePlans:[]}},getInitialProtectionType:function(e){return s.getProtectionType(this.getEditorAPI(),e.pageData)},isPageProtectedWithPassword:function(e){return s.isPageProtectedWithPassword(this.getEditorAPI(),e.pageData)},savePageSecurityData:function(){var e,t,a,n=this.props.pageData.id,s=i.partialRight(S,this.state.focusedProtectionType);switch(this.state.focusedProtectionType){case o.PERMISSION_STATES.NONE:s(this.getEditorAPI(),n,{requireLogin:!1}),P(this.getEditorAPI(),n);break;case o.PERMISSION_STATES.PASSWORD:this.state.isNewValidPasswordInserted&&(e=this.getEditorAPI(),t=n,a=this.state.plainPassword,e.pages.permissions.updatePassword(t,a)),(this.state.isNewValidPasswordInserted||this.isPageProtectedWithPassword(this.props))&&s(this.getEditorAPI(),n,{requireLogin:!1,dialogLanguage:this.state.passwordDialogLanguage});break;case o.PERMISSION_STATES.MEMBERS:s(this.getEditorAPI(),n,{requireLogin:!0,dialogLanguage:this.state.membersDialogLanguage}),P(this.getEditorAPI(),n)}},getThumbnailOptions:function(){return[{illustration:e.createElement(n.symbol,{name:"everyonePermissionThumbnail"}),value:o.PERMISSION_STATES.NONE,label:"NewPages_Panel_Permissions_Public_Label"},{illustration:e.createElement(n.symbol,{name:"passwordPermissionThumbnail"}),value:o.PERMISSION_STATES.PASSWORD,label:"NewPages_Panel_Permissions_Password_Label"},{illustration:e.createElement(n.symbol,{name:"membersPermissionThumbnail"}),value:o.PERMISSION_STATES.MEMBERS,label:"NewPages_Panel_Permissions_Members_Label"}]},setFocusedProtectionType:function(e){this.setState({focusedProtectionType:e},this.savePageSecurityData)},isSiteSaved:function(){return!this.getEditorAPI().dsRead.generalInfo.isFirstSave()},getSiteMembersUrl:function(){return"//www.wix.com/dashboard/"+this.getEditorAPI().dsRead.generalInfo.getMetaSiteId()+"/member-permissions/members/"},getInitialLanguage:function(e){var t=this.getEditorAPI().dsRead.generalInfo.getLanguage(),a=i.get(e,"pageData.pageSecurity.dialogLanguage");return i.isEmpty(a)?t:a},isValidPassword:function(e){var t=a.validate.byInvalidCharacters(o.INVALID_CHARACTERS);return a.validate.notEmpty(e)&&t(e)},isPasswordHidden:function(){return this.state.passwordInputType===m.PASSWORD},shouldShowPasswordMockElement:function(){return this.isPasswordHidden()&&i.isEmpty(this.state.plainPassword)&&this.isPageProtectedWithPassword(this.props)},onPasswordBlur:function(e){var t=e.target.value;this.setState({plainPassword:t,isNewValidPasswordInserted:this.isValidPassword(t),passwordInputType:m.PASSWORD},this.savePageSecurityData)},onPasswordFocus:function(){this.state.passwordInputType!==m.TEXT&&this.setState({passwordInputType:m.TEXT})},getDialogLanguageType:function(){var e={};return e[o.PERMISSION_STATES.PASSWORD]="passwordDialogLanguage",e[o.PERMISSION_STATES.MEMBERS]="membersDialogLanguage",i.get(e,this.state.focusedProtectionType)},setDialogLanguage:function(e,t){var a={};a[e]=t,this.setState(a,this.savePageSecurityData),this.getEditorAPI().bi.event(l.events.topbar.pages.top_bar_PAGES_settings_privacy_language_selected_click,{language_selected:t,category:this.state.focusedProtectionType})},getHandleChangeDialogLanguage:function(t){return function(e){this.state[t]!==e&&this.setDialogLanguage(t,e)}.bind(this)},handleClickLearnMore:function(){this.getEditorAPI().panelManager.openHelpCenter(this.getLearnMoreHelpId(),null,{origin:p.BI.HELP.ORIGIN.PAGES_PANEL,learn_more:!0})},getLearnMoreHelpId:function(){var e={};return e[o.PERMISSION_STATES.NONE]="e34561a8-1323-4cbb-ad09-ca215e083050",e[o.PERMISSION_STATES.PASSWORD]="89081a7e-ebec-4553-af0f-0ad6aa21b0c5",e[o.PERMISSION_STATES.MEMBERS]="e3004c6c-234e-4819-9333-9178d26358f3",i.get(e,this.state.focusedProtectionType)},getPermissionDescription:function(){var e={};return e[o.PERMISSION_STATES.NONE]="NewPages_Panel_Permissions_Public_Text",e[o.PERMISSION_STATES.PASSWORD]="NewPages_Panel_Permissions_Password_Title",e[o.PERMISSION_STATES.MEMBERS]="NewPages_Panel_Permissions_Members_Text",i.get(e,this.state.focusedProtectionType)},handleChangePermission:function(e){this.state.focusedProtectionType!==e&&this.setFocusedProtectionType(e)},openSiteMembersSettingsPanel:function(){var e="panels.focusPanels.siteMembersSettingsPanel";this.getEditorAPI().panelManager.openPanel(e,{panelName:e},!0)},isPricingPlansOptionsOn:function(){return this.state.focusedProtectionType===o.PERMISSION_STATES.MEMBERS},shouldShowRolesForPage:function(){return this.state.focusedProtectionType===o.PERMISSION_STATES.MEMBERS},getEditRolesSymbol:function(){return e.createElement(n.symbol,{name:"pencil"})},getMembersAccessPermissions:function(t,e,a){return!i.isEmpty(e)||i.some(a,function(e){return e===t})?u.SPECIFIC:u.ALL},refreshRoles:function(r){var l=this;if(this.isSiteSaved()){var e=c.membersGroupsApi(this.getEditorAPI());return Promise.all([e.getGroupsForPage({pageId:r}),e.getPagesOnlyForAdmin(),e.getAvailableRoles(),e.getAvailablePlans()]).then(function(e){var t=_slicedToArray(e,4),a=t[0],n=t[1],s=t[2],i=t[3];if(l.mounted){var o=l.getMembersAccessPermissions(r,a,n);a=c.ensureAdminsRole(a),s=c.ensureAdminsRole(s),l.setState({groupsForPage:a,availableRoles:s,availablePlans:i,membersAccessPermissions:o})}})}var t=this.shouldDisplaySpecificAccessOptions()?[c.getAdminGroup]:[];this.setState({groupsForPage:t})},getRolesActionLabel:function(){var e=this.state.groupsForPage;return _({groups:e,type:"role"})},getPlansActionLabel:function(){var e=this.state.groupsForPage;return _({groups:e,type:"plan"})||""+a.translate("NewPages_Panel_Permissions_Member_Plans_Empty")},openRolesPageModal:function(){var t=this,a=this.getEditorAPI();a.saveManager.saveInBackground(function(){a.panelManager.closePanelByName("panels.toolPanels.rolesManagerPanel","out_of_focus");var e={url:"//www.wix.com/dashboard/"+a.dsRead.generalInfo.getMetaSiteId()+"/member-permissions/roles/manage-permissions?referralInfo=editor&viewMode=editor",onClose:function(){return t.refreshRoles(t.props.pageData.id)},helpId:"",isBareMode:!0,width:"100%",height:"100%"};a.panelManager.openPanel("tpa.compModals.tpaSettingsModal",e,!0)})},openPlansPageModal:function(){var t=this,a=this.getEditorAPI();a.saveManager.saveInBackground(function(){a.panelManager.closePanelByName("panels.toolPanels.rolesManagerPanel","out_of_focus");var e={url:"//www.wix.com/dashboard/"+a.dsRead.generalInfo.getMetaSiteId()+"/membership/setup?referralInfo=editor&viewMode=editor",onClose:function(){return t.refreshRoles(t.props.pageData.id)},helpId:"",isBareMode:!0,width:"100%",height:"100%"};a.panelManager.openPanel("tpa.compModals.tpaSettingsModal",e,!0)})},getMembersAccessOptions:function(){return[{value:u.ALL,label:"NewPages_Panel_Permissions_Member_Roles_All_Members"},{value:u.SPECIFIC,label:"NewPages_Panel_Permissions_Member_Roles_Specific_Members"}]},shouldDisplaySpecificAccessOptions:function(){return this.state.membersAccessPermissions===u.SPECIFIC},handleMembersAccessChange:function(e){var a=this,n=e===u.ALL;if(this.isSiteSaved())this.setState({membersAccessPermissions:e},function(){var e=n?a.state.groupsForPage.map(function(e){return i.assign(e,{checked:!1})}):[c.getAdminGroup()],t=[c.getAllMembersGroup(n)];a.updateGroupsPermissions(t.concat(e))});else{var t=n?[]:[c.getAdminGroup()];this.setState({membersAccessPermissions:e,groupsForPage:t})}},openPaidPlansPanel:function(){var e={panelName:"panels.toolPanels.rolesManagerPanel",groups:this.state.availablePlans.filter(function(e){return"plan"===e.type}),selectedGroups:this.state.groupsForPage.filter(function(e){return"plan"===e.type}),headerTitle:"NewPages_Plans_Manager_Header_Title",applyButtonLabel:"NewPages_Plans_Manager_Apply_Button",applyButtonCallback:this.updateGroupsPermissions,addNewButtonLabel:"NewPages_Plans_Manager_Add_New_Plan",addNewButtonCallback:this.openPlansPageModal};this.getEditorAPI().panelManager.openPanel("panels.toolPanels.rolesManagerPanel",e,!0)},openRolesPanel:function(){var e={panelName:"panels.toolPanels.rolesManagerPanel",groups:this.state.availableRoles.filter(function(e){return"role"===e.type}),headerTitle:"NewPages_Roles_Manager_Header_Title",selectedGroups:this.state.groupsForPage.filter(function(e){return"role"===e.type}),applyButtonLabel:"NewPages_Roles_Manager_Apply_Button",applyButtonCallback:this.updateGroupsPermissions,addNewButtonLabel:"NewPages_Roles_Manager_Add_New_Role",addNewButtonCallback:this.openRolesPageModal};this.getEditorAPI().panelManager.openPanel("panels.toolPanels.rolesManagerPanel",e,!0)},openPricingPlansInAppMarket:function(){var e={urlParams:{openAppDefId:d,openMarketOrigin:"pageSettings",appDefinitionId:d}};this.getEditorAPI().panelManager.openPanel("tpa.compPanels.appMarketPanel",e,!0)},updateGroupsPermissions:function(e){var t=this,a=this.props.pageData.id;return c.membersGroupsApi(this.getEditorAPI()).updateGroupsPermissions({pageId:a,groupsToUpdate:e}).then(function(){return t.refreshRoles(a)})},isPricingPlansAppInstalled:function(){return this.getEditorAPI().documentServices.tpa.app.isInstalled(d)},render:r})}),define("pageSettingsPanel/settings/tabs/tabPageInfoMainMenu.rt",["react","lodash","baseUI","santa-editor-symbols","util","constants","experiment","pageSettingsPanel/utils/constants","baseUILib"],function(i,n,o,s,r,l,p,g,c){"use strict";return function(){return function(){var e=this.props.menuItem.pageData,t=r.translate,a=this.isHomePage();return i.createElement(c.CustomScroll,{keepAtBottom:this.state.scrollingPage},i.createElement("div",{className:"page-info tab-inner"},i.createElement("section",{className:"section-page-title"},i.createElement(o.textInput,{className:"control-text-input",label:"Pages_Info_Name_Title",maxLength:g.NAME_MAX_LENGTH,validator:[r.validate.notEmptyString,r.validate.noHTMLTags,r.validate.noEmoji],invalidMessage:"Pages_Info_Name_Error_Tooltip",value:this.getValueFromPageData("title"),onChange:this.onChange,validateOnBlurOnly:!0,infoText:"Pages_Info_Name_Tooltip",alwaysShowInfoIcon:!0})),i.createElement("section",{className:"section-hide-page"},i.createElement(c.ToggleSwitch,{value:this.linkPageProperty("hidePage").value,label:"Pages_Info_Hide_Toggle",className:"hide-page-toggle-text",onChange:this.linkPageProperty("hidePage").requestChange})),this.isHomePage()?null:i.createElement("section",{key:"page-settings-tab-page-non-home",className:"page-settings-control-description"},i.createElement("span",{className:"home-page-span-text"},t("Pages_Info_Home_NotSelected")),i.createElement(o.button,{icon:"settingsHome",className:"home-page-button-set",label:"Pages_Info_Home_Set",onClick:this.setAsHomepage})),this.isHomePage()?i.createElement("section",{key:"page-settings-tab-page-home",className:"page-settings-control-description"},i.createElement("span",{className:"label-with-icon"},i.createElement(s.symbol,{name:"settingsHome"}),t("Pages_Info_Home_IsSelected")),i.createElement(o.infoIcon,{className:"page-settings-change-homepage-tooltip",uniqueId:"changeHomePageTooltip",title:"Pages_Info_Home_Popup_Title",text:"Pages_Info_Home_Popup_Text"})):null,this.shouldRenderAdvancedSettings()?i.createElement("div",{className:"pages-info-advanced-settings-info",key:"ssrCacheAccordionToggle"},i.createElement("div",{},i.createElement("section",{className:"pages-info-advanced-settings-info"},i.createElement(o.accordion,{className:"pages-info-advanced-settings-accordion",label:"Pages_Info_Advanced_Settings",useNewSymbol:!0,onToggle:this.onAccordionToggle,openedOnInit:this.state.advancedSettingsDropDown})),this.state.advancedSettingsDropDown?i.createElement("section",{className:"advanced-setting-info-text",key:"advanced-setting-info-text"},i.createElement(c.RichText,{},"\r\n                        ",t("Pages_Info_SSR_Cache_Info_Text"),"\r\n                        ",i.createElement("a",{onClick:this.openCacheRenderingHelp},t("Pages_Info_SSR_Cache_Info_Link")))):null),p.isOpen("se_autoCachingUiSSR")&&this.state.advancedSettingsDropDown?i.createElement("div",{className:"pages-info-ssr-cache-drop-down-status",key:"pages-info-ssr-cache-drop-down-status"},i.createElement(o.dropDown.select,{value:this.state.cacheMode,label:"Pages_Info_SSR_Cache_Dropdown_Label",onClick:this.onClickDropDown,onChange:this.onChangeManualAuto},i.createElement(o.dropDown.option,{key:"Pages_Info_SSR_Cache_Dropdown_Auto",value:l.SSR_CACHE.AUTO}," ",t("Pages_Info_SSR_Cache_Dropdown_Auto"),"\r\n                    "),i.createElement(o.dropDown.option,{key:"Pages_Info_SSR_Cache_Dropdown_Manual",value:l.SSR_CACHE.MANUAL}," ",t("Pages_Info_SSR_Cache_Dropdown_Manual"),"\r\n                    "))):null,p.isOpen("se_autoCachingUiSSR")&&this.state.advancedSettingsDropDown?i.createElement(c.Divider,{long:!0,key:"advanced-setting-warning-divider-0"}):null,this.shouldRenderToggleSwitchForSSR()?i.createElement("div",{className:"pages-info-advanced-settings-switch",key:"advanced-settings-ssr-accordion"},i.createElement(c.ToggleSwitch,{className:"pages-info-ssr-cache-switch",value:this.state.ssrToggle,label:"Pages_Info_SSR_Cache_Toggle_Label",onChange:this.onSSRToggleChange})):null,this.shouldRenderToggleSwitchForSSR()?i.createElement(c.Divider,{long:!this.state.ssrToggle,key:"advanced-setting-warning-divider-1"}):null,this.state.ssrToggle&&this.state.advancedSettingsDropDown?i.createElement("div",{className:"ssr-cache-warning",key:"ssr-cache-warning"},i.createElement("div",{className:"ssr-cache-warning-section"},i.createElement("div",{className:"ssr-cache-warning-icon"},i.createElement(s.symbol,{name:"symbol-warning"})),i.createElement("div",{className:"ssr-cache-warning-text"},i.createElement(c.RichText,{},"\r\n                            ",t("Pages_Info_SSR_Cache_Toggle_Warning_Text"),"\r\n                            ",i.createElement("a",{onClick:this.openCacheRenderingHelp},t("Pages_Info_SSR_Cache_Toggle_Warning_Link")))))):null,this.state.advancedSettingsDropDown&&this.state.ssrToggle?i.createElement(c.Divider,{long:!this.state.ssrToggle,key:"advanced-setting-warning-divider-2"}):null,this.state.ssrToggle&&this.state.advancedSettingsDropDown?i.createElement("div",{className:"ssr-cache-drop-down-container",key:"advanced-settings-ssr-toggle"},i.createElement("div",{className:"ssr-cache-drop-down"},i.createElement.apply(this,[o.dropDown.select,{value:this.state.cacheMaxAgeHours,label:"Pages_Info_SSR_Cache_Frequency_Dropdown_Label",onClick:this.onClickDropDown,onChange:this.onSSRDurationChange},n.map(this.getOptions(),function(e,t,a,n,s){return i.createElement(o.dropDown.option,{shouldTranslate:!1,key:"option.key",value:n.value}," ",t(n.key),"\r\n                        ")}.bind(this,e,t,a))]))):null):null))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/tabPageInfoMainMenu",["create-react-class","prop-types","lodash","pageSettingsPanel/settings/tabs/pageSettingsTabMixin","coreBi","core","experiment","stateManagement","constants","pageSettingsPanel/settings/tabs/tabPageInfoMainMenu.rt"],function(e,t,a,n,o,s,i,r,l,p){"use strict";function g(e,t,a){e.store.dispatch(r.editorPlugins.userPreferences.actions.setSiteUserPreferences(l.USER_PREFS.SSR_CACHE.MAX_HOURS+"_"+t,a))}function c(e,t){return r.editorPlugins.userPreferences.selectors.getSiteUserPreferences(l.USER_PREFS.SSR_CACHE.MAX_HOURS+"_"+t)(e.store.getState())}function u(e,t){return!!r.editorPlugins.userPreferences.selectors.getSiteUserPreferences(l.USER_PREFS.SSR_CACHE.ADVANCED_SETTING+"_"+t)(e.store.getState())}var d=[{key:"Pages_Info_SSR_Cache_Frequency_Dropdown_Option1",value:1},{key:"Pages_Info_SSR_Cache_Frequency_Dropdown_Option2",value:2},{key:"Pages_Info_SSR_Cache_Frequency_Dropdown_Option3",value:4},{key:"Pages_Info_SSR_Cache_Frequency_Dropdown_Option4",value:6},{key:"Pages_Info_SSR_Cache_Frequency_Dropdown_Option5",value:12},{key:"Pages_Info_SSR_Cache_Frequency_Dropdown_Option6",value:24}];function m(e){return i.isOpen("se_autoCachingUiSSR")?e.cacheMode||(0<e.cacheMaxAgeHours?l.SSR_CACHE.MANUAL:l.SSR_CACHE.AUTO):l.SSR_CACHE.MANUAL}return e({displayName:"tabPageInfoMainMenuNew",mixins:[n],render:p,propTypes:{menuItem:t.object.isRequired},getInitialState:function(){var e=this.props.menuItem.pageData;return{cacheMode:m(e),ssrToggle:0<e.cacheMaxAgeHours,advancedSettingsDropDown:i.isOpen("se_autoCachingUiSSR")?u(this.getEditorAPI(),e.id):0<e.cacheMaxAgeHours,homePageId:this.getHomepageId(),scrollingPage:!1,cacheMaxAgeHours:e.cacheMaxAgeHours}},getHomepageId:function(){return this.getEditorAPI().homePage.get()},componentWillReceiveProps:function(e){var t=e.pageData||e.menuItem.pageData,a=m(t);this.setState({cacheMode:a,ssrToggle:0<t.cacheMaxAgeHours,advancedSettingsDropDown:i.isOpen("se_autoCachingUiSSR")?u(this.getEditorAPI(),t.id):0<t.cacheMaxAgeHours,cacheMaxAgeHours:t.cacheMaxAgeHours})},setAsHomepage:function(){var e=this.getEditorAPI();e.homePage.set(this.getPageId()),this.setState({homePageId:this.getPageId()}),e.bi.event(o.events.topbar.pages.top_bar_PAGES_settings_page_info_home_page_change_set_click)},onChange:function(e){var t=this.props.menuItem.pageData;this.getEditorAPI().menus.renamePage(t.id,t.title,e)},isHomePage:function(){return this.getPageId()===this.state.homePageId},onAccordionToggle:function(){var e,t,a,n=this.getEditorAPI();this.state.advancedSettingsDropDown||n.bi.event(o.events.ssrCache.click_advanced_page_settings_page_panel),this.setState({advancedSettingsDropDown:!this.state.advancedSettingsDropDown}),e=n,t=this.props.menuItem.pageData.id,a=!this.state.advancedSettingsDropDown,e.store.dispatch(r.editorPlugins.userPreferences.actions.setSiteUserPreferences(l.USER_PREFS.SSR_CACHE.ADVANCED_SETTING+"_"+t,a))},shouldRenderAdvancedSettings:function(){if(!i.isOpen("se_ssrCacheTogglePagesPanel"))return!1;var e=this.getEditorAPI(),t=e.pages.data.get(this.props.menuItem.pageData.id),a=s.utils.blogTypeUtils.isBlogPage(e,t)&&i.isOpen("se_enableBlogSSRCache"),n=s.utils.wixStoreTypeUtils.isWixStore(e,t)&&i.isOpen("se_enableStoreSSRCache");return!(!a&&!n)||!s.utils.tpaTypeUtils.isTPA(t)},shouldRenderToggleSwitchForSSR:function(){return i.isOpen("se_autoCachingUiSSR")?this.state.advancedSettingsDropDown&&this.state.cacheMode===l.SSR_CACHE.MANUAL:this.state.advancedSettingsDropDown},onChangeManualAuto:function(e){if(e!==this.state.cacheMode){var t=this.getEditorAPI(),a=Boolean(e!==l.SSR_CACHE.AUTO&&(n=t,s=this.props.menuItem.pageData.id,r.editorPlugins.userPreferences.selectors.getSiteUserPreferences(l.USER_PREFS.SSR_CACHE.TOGGLE_STATE+"_"+s)(n.store.getState())));t.pages.data.update(this.props.menuItem.pageData.id,{cacheMaxAgeHours:a?c(t,this.props.menuItem.pageData.id):null,cacheMode:e}),this.setState({cacheMode:e,ssrToggle:a}),t.bi.event(o.events.ssrCache.auto_manual_drop_down_change,{pageId:this.props.menuItem.pageData.id,selection:e})}var n,s},onSSRToggleChange:function(e){var t,a,n,s=this.getEditorAPI(),i=e?c(s,this.props.menuItem.pageData.id)||1:null;s.pages.data.update(this.props.menuItem.pageData.id,{cacheMaxAgeHours:i}),g(s,this.props.menuItem.pageData.id,i),t=s,a=this.props.menuItem.pageData.id,n=e,t.store.dispatch(r.editorPlugins.userPreferences.actions.setSiteUserPreferences(l.USER_PREFS.SSR_CACHE.TOGGLE_STATE+"_"+a,n)),this.setState({ssrToggle:e,cacheMaxAgeHours:i}),s.bi.event(o.events.ssrCache.enable_ssr_cache_for_a_page_toggle,{toggle:e,pageId:this.props.menuItem.pageData.id})},getOptions:function(){return d},onClickDropDown:function(){this.setState({scrollingPage:!0})},onSSRDurationChange:function(e){var t=this.getEditorAPI();g(t,this.props.menuItem.pageData.id,e),t.pages.data.update(this.props.menuItem.pageData.id,{cacheMaxAgeHours:e}),this.setState({cacheMaxAgeHours:e}),t.bi.event(o.events.ssrCache.chose_timeframe_in_dropdown,{selection:e})},openCacheRenderingHelp:function(){this.getEditorAPI().panelManager.openHelpCenter("a218bf29-0948-4a27-ac1d-6bf682d164fe",null,{})}})}),define("pageSettingsPanel/settings/applicationSettingsPanelTabsMapper",["lodash","wixData"],function(p,g){"use strict";return{mapStateToProps:function(e,t){var a=e.editorAPI,n=a.pages.getPagesData(),s=a.dsRead.generalInfo.getPublicUrl(),i=a.components.get.byId(t.menuItem.pageData.id),o=g.isDataModeOn(a),r={},l=void 0;return i&&(r=(l=a.dsRead.routers.getRouterRef.byPage(i))?a.dsRead.routers.get.byRef(l):{}),{pageRef:i,routerRef:l,dataModeIsOn:o,pageData:p.find(n,{id:t.menuItem.pageData.id}),publicUrl:s,routerData:r}},mapDispatchToProps:function(t){return{getAppDataByAppDefId:function(e){return t((n=e,function(e,t,a){return a.editorAPI.dsRead.platform.getAppDataByAppDefId(n)}));var n}}}}}),define("pageSettingsPanel/settings/tabs/applicationIframe/applicationIframe.rt",["react","lodash","baseUI"],function(e,t,a){"use strict";return function(){return e.createElement("div",{className:"container-preloader-iframe"},e.createElement(a.iframe,{className:this.props.className,onPostMessage:this.props.onPostMessage,name:this.props.name,appData:this.props.appData,src:this.props.src,onLoad:this.props.onLoad,key:this.props.iframeKey}),this.props.iframeLoaded?null:e.createElement(a.preloader,{key:"search-preloader"}))}}),define("pageSettingsPanel/settings/tabs/applicationIframe/applicationIframe",["create-react-class","prop-types","pageSettingsPanel/settings/tabs/applicationIframe/applicationIframe.rt"],function(e,t,a){"use strict";return e({displayName:"applicationIframe",propTypes:{className:t.string,onPostMessage:t.func,name:t.string,src:t.string,iframeKey:t.string,onLoad:t.func,appData:t.object,iframeLoaded:t.bool},render:a})}),define("pageSettingsPanel/utils/pageUtils",["util"],function(a){"use strict";return{getPublicUrl:function(e,t){var a=e.dsRead.generalInfo.getPublicUrl(),n=e.dsRead.generalInfo.isFirstSave()?a+"your-site-name":"";return e.pages.getPageUrl(t.id,n)},convertPageNameToUrl:function(e){var t=e.replace(/\s/g,"-");return a.validate.byInvalidCharacters(a.validationExpressions.invalidUrlCharacters)(t)?t.toLowerCase():"blank"}}}),define("pageSettingsPanel/settings/tabs/socialSharePreviewTooltip.rt",["react","lodash","util","baseUILib","santa-editor-symbols"],function(e,t,a,n,s){"use strict";return function(){return e.createElement("div",{className:"social-share-preview-tooltip"},e.createElement(n.TextLabel,{type:"T03",value:this.props.title}),e.createElement("div",{className:"preview-container"},e.createElement("div",{className:"image-container",style:this.getImageStyle()}),e.createElement(n.RichText,{className:"link",type:"T04",shouldTranslate:!1},"\n                                ",this.props.pageURL,"\n                        "),e.createElement(n.RichText,{className:"title",type:"T03",shouldTranslate:!1},"\n                                ",this.props.pageTitle,"\n                        "),e.createElement(n.RichText,{className:"description",type:"T02",shouldTranslate:!1},"\n                                ",this.props.pageDesc,"\n                        ")),e.createElement(n.RichText,{className:"seo-image-desc"},"\n                        ",a.translate("socialShare_image_preview_text"),"\n                        ",e.createElement("a",{onClick:this.props.openHelp},"\n                                ",a.translate("socialShare_image_preview_note_link"),"\n                        ")))}}),define("pageSettingsPanel/settings/tabs/socialSharePreviewTooltip",["prop-types","lodash","create-react-class","pageSettingsPanel/settings/tabs/socialSharePreviewTooltip.rt"],function(e,t,a,n){"use strict";return a({displayName:"socialSharePreviewTooltip",propTypes:{title:e.string,imageWidth:e.number,ImageHeight:e.number,siteLink:e.string,pageTitle:e.string,pageDesc:e.string,onOpen:e.func,onClose:e.func},componentDidMount:function(){t.isFunction(this.props.onOpen)&&this.props.onOpen()},componentWillUnmount:function(){t.isFunction(this.props.onClose)&&this.props.onClose()},getImageStyle:function(){return{backgroundImage:"url("+this.props.image+")",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",width:this.props.imageWidth,height:this.props.ImageHeight}},render:n})}),define("pageSettingsPanel/settings/tabs/googlePreviewExpandable.rt",["react","lodash","baseUI","util","santa-editor-symbols","pageSettingsPanel/utils/pageUtils"],function(a,n,e,s,i,o){"use strict";return function(){return function(){var e=s.translate,t="Pages_SEO_Description_Placeholder";return a.createElement("div",{className:n({"google-preview":!0,expanded:this.isExpanded()}).transform(function(e,t,a){t&&e.push(a)},[]).join(" ")},this.props.shouldHideExpandingButton?null:a.createElement("div",{key:"google-seo-expand-button",className:"google-preview-header",onClick:function(e,t){this.openGooglePreview()}.bind(this,e,t)},a.createElement("div",{className:"google-preview-corner-container left"},a.createElement("div",{className:"google-preview-corner"})),a.createElement("div",{className:"google-preview-corner-container right"},a.createElement("div",{className:"google-preview-corner"})),a.createElement(i.symbol,{name:"equals"}),a.createElement(i.symbol,{name:"arrowDown"}),a.createElement("span",{className:"google-preview-header-title"},e("Pages_SEO_Preview_Caption")),a.createElement("div",{className:"google-preview-bottom-header-border"})),a.createElement("p",{className:"google-preview-title"},a.createElement("span",{className:"google-preview-title-site-name"},this.getTitle())),a.createElement("p",{className:"google-preview-url"},o.getPublicUrl(this.getEditorAPI(),this.props.pageData)),a.createElement("p",{className:"google-preview-description"},this.props.previewDescriptionText||this.getValueFromPageData("descriptionSEO")||e(t)))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/googlePreviewExpandable",["react-addons-linked-state-mixin","create-react-class","prop-types","pageSettingsPanel/settings/tabs/pageSettingsTabMixin","pageSettingsPanel/settings/tabs/googlePreviewExpandable.rt"],function(e,t,a,n,s){"use strict";return t({displayName:"googlePreviewExpandableNew",mixins:[n,e],render:s,propTypes:{pageData:a.object.isRequired,isExpanded:a.bool,shouldHideExpandingButton:a.bool,isExpandedLink:a.object,previewDescriptionText:a.string,title:a.string},isExpanded:function(){return this.props.isExpanded||this.props.isExpandedLink.value},openGooglePreview:function(){this.props.isExpandedLink.requestChange(!this.props.isExpandedLink.value)},getTitle:function(){if(this.props.title)return this.props.title;var e=this.getEditorAPI();return this.getValueFromPageData("pageTitleSEO")?this.getValueFromPageData("pageTitleSEO"):(e.dsRead.seo.title.get()||e.siteName.get())+(e.pages.isHomePage(this.props.pageData.id)?"":" | "+this.getValueFromPageData("title"))}})}),define("pageSettingsPanel/settings/tabs/seoUrlSettings.rt",["react","lodash","baseUI","util","pageSettingsPanel/settings/tabs/googlePreviewExpandable","pageSettingsPanel/utils/pageUtils","pageSettingsPanel/utils/constants","baseUILib"],function(e,t,a,n,s,i,o,r){"use strict";return function(){return e.createElement("div",{className:this.getClassName("seo-section-page-address"),key:"section-page-address"},e.createElement("span",{className:"seo-section-title-label"},n.translate("Pages_Info_Address_Title")),e.createElement("div",{className:"seo-section-site-url"},e.createElement("span",{className:"page-address-prefix"},"http://www.../"),e.createElement(a.textInput,{className:"control-text-input-seo",maxLength:o.NAME_MAX_LENGTH,validator:this.getPageUriSEOValidators(),invalidMessage:this.getPageUriSEOInvalidMessages(),valueLink:this.linkUrlProperty("pageUriSEO"),inputFocusTooltipMessage:this.props.inputFocusTooltipMessage,infoText:"Pages_Info_Address_Tooltip"})),e.createElement("a",{key:"page-web-address",href:i.getPublicUrl(this.getEditorAPI(),this.props.pageData),target:"_blank"},e.createElement(a.button,{className:"btn-text",label:"Pages_SEO_Goto_URL"})),this.isUriSEOTranslated()?e.createElement("span",{className:"translated-by",key:"googleAttribution"},n.translate("Pages_Info_URL_Popup_Google")," ",e.createElement(a.symbol,{name:"google-logo"})):null)}}),define("pageSettingsPanel/settings/tabs/seoUrlSettings",["react-addons-linked-state-mixin","lodash","create-react-class","prop-types","util","pageSettingsPanel/settings/tabs/pageSettingsTabMixin","pageSettingsPanel/utils/pageUtils","experiment","pageSettingsPanel/settings/tabs/seoUrlSettings.rt"],function(e,n,t,a,s,i,o,r,l){"use strict";function p(e,t){var a=[{callback:s.validate.notEmptyString,message:"Pages_Info_URL_Error_Tooltip"},{callback:s.validate.byInvalidCharacters(s.validationExpressions.invalidUrlCharacters),message:"Pages_Info_URL_Error_Tooltip"}];return e.dsRead.generalInfo.urlFormat.isSlash()?a.concat([{callback:n.negate(e.pages.data.pageUriSEO.isForbidden.bind(null,t)),message:"Pages_Info_Forbidden_URI_SEO_Error_Tooltip"},{callback:n.negate(e.pages.data.pageUriSEO.isDuplicate.bind(null,t)),message:"Pages_Info_Duplicate_URI_SEO_Error_Tooltip"}]):a}return t({displayName:"seoUrlSettingsNew",mixins:[i,e],render:l,propTypes:{pageData:a.object.isRequired},shouldShowLinkToPage:function(){return this.props.shouldShowLinkToPage&&this.getEditorAPI().dsRead.generalInfo.isSitePublished()},linkUrlProperty:function(t){var a=this.getPageId(),n=this.getEditorAPI(),s={},i=n.dsRead.generalInfo.urlFormat.isSlash()?n.pages.data.pageUriSEO:o;return{value:this.getValueFromPageData(t),requestChange:function(e){s[t]=e&&i.convertPageNameToUrl(e),n.pages.data.update(a,s)}}},isUriSEOTranslated:function(){var e=this.getValueFromPageData("translationData");return r.isOpen("urlFormatGoogleTranslate")&&e&&e.uriSEOTranslated},getPageUriSEOValidators:function(){var e=p(this.getEditorAPI(),this.getPageId());return n.map(e,"callback")},getPageUriSEOInvalidMessages:function(){var e=p(this.getEditorAPI(),this.getPageId());return n.map(e,"message")},getClassName:function(e){return s.inheritClassName(this.props,e)}})}),define("pageSettingsPanel/settings/tabs/tabSEO.rt",["react","lodash","baseUI","util","pageSettingsPanel/settings/tabs/googlePreviewExpandable","pageSettingsPanel/utils/pageUtils","pageSettingsPanel/utils/constants","pageSettingsPanel/settings/tabs/seoUrlSettings","baseUILib","experiment","constants","santa-editor-symbols"],function(t,e,a,n,s,i,o,r,l,p,g,c){"use strict";return function(){return function(){var e=n.translate;return t.createElement(l.CustomScroll,{key:"newSeoTab"},t.createElement("div",{className:"tab-seo-new"},t.createElement("div",{className:"tab-seo-title"},t.createElement(l.Composites.RichTextLabeled,{className:"composite-centered"},t.createElement(l.TextLabel,{value:e("Pages_SEO_Wizard_Title"),type:"T03",shouldTranslate:!1}),t.createElement(l.RichText,{},t.createElement("p",{},"\n                        ",n.translate("Pages_SEO_Wizard_Description"),"\n                    "),t.createElement("p",{},t.createElement(l.Button,{className:"btn-confirm-secondary",onClick:this.onSeoWizardClick},"\n                            ",n.translate("Pages_SEO_Wizard_NewButton_Label"),"\n                        "))))),t.createElement("div",{key:"seoSettingsSection"},t.createElement(l.Divider,{key:"longDivider1",long:!0}),t.createElement(a.sectionDividerLabeled,{key:"SEOSettings",label:"seo_seoSettings_section_header"}),t.createElement(l.Divider,{key:"longDivider2",long:!0})),t.createElement("div",{},t.createElement(l.Composites.GooglePreviewWithRichText,{},t.createElement(l.RichText,{},"\n                    ",n.translate("Pages_SEO_Preview_Caption"),"\n                    ",t.createElement(l.Tooltip,{content:this.getTooltipContent(),shouldTranslate:!1,interactive:!0,onOpen:this.reportTooltipOpened,openDelay:350},t.createElement("a",{},"\n                            ",n.translate("Pages_SEO_Preview_HoverLink_Caption"),"\n                        "))),t.createElement(l.GooglePreview,{title:this.getTitle(),url:this.props.publicURL,description:this.props.previewDescriptionText||this.linkGooglePreviewProperty("descriptionSEO").value||e("Pages_SEO_Description_Placeholder"),shouldTranslate:!1}))),t.createElement(l.Divider,{long:!1}),t.createElement("div",{className:"seo-tab-title-input-section"},t.createElement(l.Composites.TextInputLabeled,{},t.createElement(l.InfoIcon,{text:"Pages_SEO_Title_Tooltip"}),t.createElement(l.TextLabel,{value:"Pages_SEO_Title_NewCaption"}),t.createElement(l.Tooltip,{content:"Pages_SEO_Title_NewTooltip",isOpen:this.state.enableTitleTooltip,openOnMouseEnter:!1,alignment:"TOP",shouldTranslate:!0,marginTop:o.TITLE_TOOLTIP_MARGIN_TOP,marginLeft:o.TITLE_TOOLTIP_MARGIN_LEFT},t.createElement(l.TextInput,{className:"control-text-input",placeholder:this.getPageTitlePlaceHolder(),shouldTranslate:!1,maxLength:o.TITLE_SEO_MAX_LENGTH,validator:[n.validate.noHTMLTags,n.validate.noEmoji],invalidMessage:e("Pages_SEO_Title_Error_Tooltip"),onValidationStatus:this.onTitleInputValidation,value:this.linkGooglePreviewProperty("pageTitleSEO").value,onChange:this.changeSeoTitle,onFocus:this.enableTitleTooltip,onBlur:this.disableTitleTooltip})))),t.createElement(l.Divider,{long:!1}),t.createElement("div",{className:"seo-tab-input-section"},t.createElement(a.textInput,{className:"control-text-input",isMultiLine:!0,label:"Pages_SEO_Description_Caption",placeholder:"Pages_SEO_Description_Placeholder",maxLength:o.DESCRIPTION_SEO_MAX_LENGTH,validator:[n.validate.noHTMLTags,n.validate.noEmoji],invalidMessage:"Pages_SEO_Description_Error_Tooltip",value:this.linkGooglePreviewProperty("descriptionSEO").value,onChange:this.linkGooglePreviewProperty("descriptionSEO").requestChange,infoText:"Pages_SEO_Description_Tooltip",onBlur:this.onPagesSEODescBlur})),t.createElement(l.Divider,{long:!1}),t.createElement("div",{className:"seo-tab-page-address-section",key:"section-page-address"},t.createElement(a.textInput,{disabled:this.isUriInputDisabled(),className:"control-text-input",label:"Pages_Info_Address_Title",maxLength:o.USI_SEO_MAX_LENGTH,validator:this.getPageUriSEOValidators(),invalidMessage:this.getPageUriSEOInvalidMessages(),valueLink:this.linkUrlProperty("pageUriSEO"),onBlur:this.onPageAddressBlur,infoText:"Pages_Info_Address_Tooltip"}),t.createElement("span",{className:"page-address-prefix"},"https://www.../"),this.getEditorAPI().dsRead.generalInfo.isSitePublished()?t.createElement("a",{className:"page-address-link",key:"page-web-address",href:this.props.publicURL,onClick:this.onGoToUrlClicked,target:"_blank"},t.createElement(a.button,{className:"btn-text",label:"Pages_SEO_Goto_URL"})):null,this.isUriSEOTranslated()?t.createElement("span",{className:"translated-by",key:"googleAttribution"},n.translate("Pages_Info_URL_Popup_Google")," ",t.createElement(a.symbol,{name:"google-logo"})):null),t.createElement(l.Divider,{long:!1}),t.createElement(l.Composites.ToggleSwitch,{},t.createElement(l.ToggleSwitch,{value:!this.linkGooglePreviewProperty("indexable").value,label:"Pages_SEO_Hide_Toggle",onChange:this.onHidePageChanged})),t.createElement(l.Divider,{long:!1}),t.createElement("div",{className:"seo-tab-input-section"},t.createElement(a.textInput,{className:"control-text-input",label:"Pages_SEO_Keywords_Caption",placeholder:"Pages_SEO_Keywords_Placeholder",maxLength:o.KEYWORD_SEO_MAX_LENGTH,validator:this.getValidatorsForSeoKeywords(),invalidMessage:"Pages_SEO_Keywords_Error_Tooltip",valueLink:this.linkPageProperty("metaKeywordsSEO"),infoText:"Pages_SEO_Keywords_New_Tooltip",validateOnBlurOnly:!0,onBlur:this.onPagesSEOKeywordsBlur})),t.createElement(l.Divider,{long:!1}),t.createElement(l.Composites.RichText,{},t.createElement(l.RichText,{type:"T02"},"\n                ",n.translate("Pages_SEO_Advanced_SEO_Text"),"\n                ",t.createElement("a",{onClick:this.reportAdvancedSEOLinkClicked},n.translate("Pages_SEO_Advanced_SEO_Link"),"\n                "))),t.createElement("div",{key:"socialShareSection"},t.createElement(l.Divider,{key:"longDivider3",long:!0}),t.createElement(a.sectionDividerLabeled,{key:"socialShare",label:"seo_socialShare_section_header"}),t.createElement(l.Divider,{key:"longDivider4",long:!0}),t.createElement(l.Composites.RichText,{key:"socialShareSubtitle"},t.createElement(l.RichText,{type:"T02"},t.createElement("p",{},"\n                        ",n.translate("seo_socialShare_subtitle"),"\n                    "))),t.createElement(l.Composites.SecondaryMedia,{key:"socialShareMedia"},t.createElement(l.SecondaryMediaImage,{key:"socialShareMediaImage",src:this.getPageSEOImage(),onClick:this.onUploadImageClick}),t.createElement(l.Button,{onClick:this.onUploadImageClick},t.createElement(c.symbol,{name:this.getUploadButtonSymbol()})),t.createElement(l.Button,{onClick:this.onDeleteImageClick},t.createElement(c.symbol,{name:"delete_icon"}))),t.createElement(l.RichText,{className:"seo-image-desc"},"\n                ",n.translate("seo_socialShare_image_select_dashboard_line"),"\n                ",t.createElement("a",{onClick:this.openSEOPreviewHelp},"\n                    ",n.translate("seo_socialShare_image_select_dashboard_link"),"\n                ")),t.createElement("div",{className:"preview-link-container"},t.createElement(l.Tooltip,{closeOnMouseLeave:!0,content:this.getSocialShareImageTooltipContent(),interactive:!0,key:"SocialShareImagePreviewTooltip",maxWidth:438,onOpen:this.reportPreviewTooltipOpened},t.createElement(c.symbol,{name:"showComp"}),t.createElement(l.RichText,{},t.createElement("a",{},"\n                            ",n.translate("seoTab_socialShare_image_preview_link"),"\n                        ")))))))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/SEO/SEOPanelMapper",["lodash","stateManagement","pageSettingsPanel/utils/pageUtils","pageSettingsPanel/utils/constants","pageSettingsPanel/utils/permissions","experiment","util"],function(S,p,P,h,b,E,f){"use strict";var g=function(e,t,a){return a.editorAPI},T=function(e){return e.pageData||e.menuItem.pageData},c=function(e,t,a){return e.pages.data.update(t,a)},v=function(e){var t=T(e);return t?t.id:null},u=function(a){return S.debounce(function(e,t){c(a,e,t)},20)},I=function(e,t){var a=T(e);return a&&a[t]},d=function(e,t,a){if(a){var n=e.pages.getCurrentPage(),s=e.dsRead.language.component.getTranslations(n);return S.get(s,[a,n.id,"advancedSeoData"])}return I(t,"advancedSeoData")||"{}"};return{mapStateToProps:function(e,t){var a,n,s,i,o,r,l,p,g=e.editorAPI,c=e.dsRead,u=g.dsRead.pages.getFocusedPageId(),d={current:c.language.current.get(),original:c.language.original.get().languageCode},m=g.dsRead.generalInfo.urlFormat.isSlash(),_=T(t);return{pageId:u,language:d,title:c.seo.title.get(),homePageTitle:(l=g,p=l.dsRead.homePage.get(),l.pages.data.get(p).pageTitleSEO),uri:(r=t,I(r,"pageUriSEO")),description:(o=t,I(o,"descriptionSEO")),pageName:(i=t,I(i,"title")),isUriInputDisabled:function(e){if(E.isOpen("se_multilingual")){var t=S.get(e,"current"),a=S.get(e,"original");return null!==t&&t!==a}return!1}(d),isIndexEnabled:(s=t,I(s,"indexable")),isIndexEnabledFromSite:S.get(f.editorModel.metaSiteData,"indexable"),isHomePage:g.pages.isHomePage(v(t)),siteName:g.siteName.get(),siteDisplayName:g.store.getState().siteDisplayName,isSitePublished:g.dsRead.generalInfo.isSitePublished(),msid:g.dsRead.generalInfo.getMetaSiteId(),metasiteInstance:c.platform.getAppDataByApplicationId(-666).instance,constants:{titleSeoMaxLength:h.TITLE_SEO_MAX_LENGTH,uriSeoMaxLength:h.USI_SEO_MAX_LENGTH,descriptionSeoMaxLength:h.DESCRIPTION_SEO_MAX_LENGTH},validators:{noHTMLTags:f.validate.noHTMLTags,noEmoji:f.validate.noEmoji,notEmptyString:f.validate.notEmptyString,invalidUrlCharacters:f.validate.byInvalidCharacters(f.validationExpressions.invalidUrlCharacters)},wixSeoUrl:g.account.getWixSEOWizURL("EDITOR_PAGES"),mediaManager:g.mediaServices.mediaManager,publicURL:P.getPublicUrl(g,_),isSlashFormat:m,ogImage:(n=t,I(n,"ogImageRef")),ogImageFromSite:S.get(f.editorModel.metaSiteData,"ogImage"),locale:f.editorModel.languageCode,pageKeywordsSEO:(a=t,I(a,"metaKeywordsSEO")),staticsBaseUrl:f.serviceTopology.scriptsLocationMap["advanced-seo-client"],numPages:g.pages.getPageIdList().length,permission:function(e,t){switch(b.getProtectionType(e,t)){case h.PERMISSION_STATES.PASSWORD:return"password";case h.PERMISSION_STATES.MEMBERS:return"members";case h.PERMISSION_STATES.NONE:return"everyone"}return"everyone"}(g,_)}},mapDispatchToProps:function(e,i){var t,a,n,s,o=e(g),r=T(i),l=o.dsRead.pages.getFocusedPageId();return{isUriForbidden:(n=o,s=i,function(e){return n.pages.data.pageUriSEO.isForbidden(v(s),e)}),isUriDuplicate:(t=o,a=i,function(e){return t.pages.data.pageUriSEO.isDuplicate(v(a),e)}),openHelpCenter:function(e){return o.panelManager.openHelpCenter(e,null,{})},getPageDataById:function(e){return o.pages.data.get(e)},updatePage:function(e,t){return c(o,e,t)},sendBI:function(e,t){return o.bi.event(e,t)},setMediaServicesFocusToEditor:function(){return o.mediaServices.setFocusToEditor()},setTitle:function(e){return t=o,a=e,n=r.id,void c(t,n,{pageTitleSEO:a});var t,a,n},setDescription:function(e){return t=o,a=e,n=r.id,void c(t,n,{descriptionSEO:a});var t,a,n},setIndexEnabled:function(e){return t=o,a=e,n=v(i),s={indexable:a},void u(t)(n,s);var t,a,n,s},setUri:function(e){return t=o,a=e,n=v(i),s={pageUriSEO:a},void u(t)(n,s);var t,a,n,s},setOGImage:function(e){return t=o,a=e,n=r.id,void c(t,n,{ogImageRef:a});var t,a,n},setData:function(e){return t=o,a=e,n=r.id,s={advancedSeoData:a},u(t)(n,s),void t.history.add("SEO data changed");var t,a,n,s},getDataByCurrLang:function(){return d(o,i)},getDataByLang:function(e){return d(o,i,e)},convertPageNameToUrl:o.pages.data.pageUriSEO.convertPageNameToUrl,setPageKeywordsSEO:function(e){return t=o,a=e,n=r.id,s={metaKeywordsSEO:a},void u(t)(n,s);var t,a,n,s},sessionUserPreferencesuserPref:p.editorPlugins.userPreferences.selectors.getSessionUserPreferences("bg_panel_last_media_path_"+l)(o.store.getState())||{}}}}}),define("pageSettingsPanel/settings/tabs/tabSEO",["react-addons-linked-state-mixin","lodash","react","create-react-class","prop-types","coreBi","util","pageSettingsPanel/settings/tabs/pageSettingsTabMixin","pageSettingsPanel/utils/pageUtils","pageSettingsPanel/utils/constants","experiment","baseUILib","pageSettingsPanel/settings/tabs/socialSharePreviewTooltip","pageSettingsPanel/settings/tabs/tabSEO.rt","pageSettingsPanel/settings/tabs/SEO/SEOPanelMapper"],function(e,p,a,t,n,r,g,s,i,o,l,c,u,d,m){"use strict";function _(e){var t=e.isUriForbidden,a=e.isSlashFormat,n=e.isUriDuplicate,s=[{callback:g.validate.notEmptyString,message:"Pages_Info_URL_Error_Tooltip"},{callback:g.validate.byInvalidCharacters(g.validationExpressions.invalidUrlCharacters),message:"Pages_Info_URL_Error_Tooltip"}];return a?s.concat([{callback:p.negate(t),message:"Pages_Info_Forbidden_URI_SEO_Error_Tooltip"},{callback:p.negate(n),message:"Pages_Info_Duplicate_URI_SEO_Error_Tooltip"}]):s}var S=t({displayName:"tabSEONew",mixins:[s,e],render:d,propTypes:{pageData:n.object.isRequired,isUriForbidden:n.func.isRequired,isUriDuplicate:n.func.isRequired,openHelpCenter:n.func.isRequired,getPageDataById:n.func.isRequired,updatePage:n.func.isRequired,sendBI:n.func.isRequired,setMediaServicesFocusToEditor:n.func.isRequired,language:n.object.isRequired,pageId:n.string.isRequired,isSlashFormat:n.bool.isRequired,uri:n.string.isRequired,convertPageNameToUrl:n.func.isRequired,wixSeoUrl:n.string.isRequired,publicURL:n.string.isRequired,isHomePage:n.bool.isRequired,title:n.string.isRequired,siteName:n.string.isRequired,mediaManager:n.object.isRequired,sessionUserPreferencesuserPref:n.object.isRequired,siteDisplayName:n.string.isRequired},getInitialStateFromPageData:function(e){var t=this.props.getPageDataById(e);return{enableTitleTooltip:!1,isTitleSEOValid:!0,pageSEOImage:p.get(t,"ogImageRef.uri"),pageSEOImageWidth:p.get(t,"ogImageRef.width"),pageSEOImageHeight:p.get(t,"ogImageRef.height")}},getInitialState:function(){return this.getInitialStateFromPageData(this.props.pageId)},componentWillReceiveProps:function(e){this.props.pageId!==e.pageId&&this.setState(this.getInitialStateFromPageData(e.pageId))},componentWillMount:function(){this.debouncedUpdateEditorAPI=p.debounce(function(e,t){this.props.updatePage(e,t)},20),this.seoInfo={pageTitleSEO:this.getValueFromPageData("pageTitleSEO"),pageDescSeo:this.getValueFromPageData("descriptionSEO"),pageKeywordsSEO:this.getValueFromPageData("metaKeywordsSEO")}},getTooltipContent:function(){var e=a.createElement(c.RichText,{},a.createElement("p",{},g.translate("Pages_SEO_Preview_Hoverlink_Tooltip_Description")),a.createElement("a",{onClick:this.onLearnMoreClickOpenHelpCenter},g.translate("Pages_SEO_Preview_Hoverlink_Tooltip_Link"))),t=a.createElement(c.TextLabel,{type:"T03",value:"Pages_SEO_Preview_Hoverlink_Tooltip_Title",enableEllipsis:!1});return a.createElement("span",{className:"info-icon-content"},t,e)},reportTooltipOpened:function(){this.props.sendBI(r.events.topbar.pages.top_bar_PAGES_settings_seo_google_preview_tooltip_hover)},onSocialShareImageTooltipOpen:function(){this.socialShareImageTooltip=window.setTimeout(function(){this.props.sendBI(r.events.topbar.pages.pages_panel_page_settings_SEO_tab_hover_preview_image)}.bind(this),3e3)},onSocialShareImageTooltipClose:function(){window.clearTimeout(this.socialShareImageTooltip)},onLearnMoreClickOpenHelpCenter:function(){this.props.openHelpCenter(o.GOOGLE_PREVIEW_HELP_ID)},linkGooglePreviewProperty:function(a){var n={};return{value:this.getValueFromPageData(a),requestChange:function(e){var t=this.props.pageId;n[a]=e,this.debouncedUpdateEditorAPI(t,n)}.bind(this)}},changeSeoDescription:function(e){var t=this.props.pageId,a={descriptionSEO:e};this.setState(a),this.props.updatePage(t,a)},changeSeoTitle:function(e){var t=this.props.pageId,a={pageTitleSEO:e};this.setState(a),this.props.updatePage(t,a)},onPagesSEOTitleBlur:function(){var e=this.seoInfo.pageTitleSEO,t=this.getValueFromPageData("pageTitleSEO");t!==e&&(this.props.sendBI(r.events.topbar.pages.top_bar_PAGES_settings_seo_title_set,{field:"page title"}),this.seoInfo.pageTitleSEO=t)},onPagesSEODescBlur:function(){var e=this.seoInfo.pageDescSeo,t=this.getValueFromPageData("descriptionSEO");t!==e&&(this.props.sendBI(r.events.topbar.pages.top_bar_PAGES_settings_seo_description_set),this.seoInfo.pageDescSeo=t)},onPagesSEOKeywordsBlur:function(){var e=this.seoInfo.pageKeywordsSEO,t=this.getValueFromPageData("metaKeywordsSEO");t!==e&&(this.props.sendBI(r.events.topbar.pages.top_bar_PAGES_settings_seo_keywords_set),this.seoInfo.pageKeywordsSEO=t)},linkUrlProperty:function(t){var a=this.getPageId(),n={},s=this.props.isSlashFormat?this.props.convertPageNameToUrl:i.convertPageNameToUrl;return{value:this.getValueFromPageData(t),requestChange:function(e){this.props.sendBI(r.events.topbar.pages.top_bar_PAGES_settings_seo_title_set,{field:"page url"}),n[t]=e&&s(e),this.debouncedUpdateEditorAPI(a,n)}.bind(this)}},onTitleInputValidation:function(e){!e&&this.state.enableTitleTooltip?(this.setState({isTitleSEOValid:!1}),this.disableTitleTooltip()):!this.state.isTitleSEOValid&&this.state.enableTitleTooltip&&this.setState({isTitleSEOValid:!0})},isUriSEOTranslated:function(){var e=this.getValueFromPageData("translationData");return l.isOpen("urlFormatGoogleTranslate")&&e&&e.uriSEOTranslated},getValidatorsForSeoKeywords:function(){return[p.partial(g.validate.rangeOfWords,0,o.KEYWORD_SEO_MAX_WORDS,","),g.validate.noEmoji]},getPageUriSEOValidators:function(){var e=_(this.props);return p.map(e,"callback")},getPageUriSEOInvalidMessages:function(){var e=_(this.props);return p.map(e,"message")},getWixSEOWizURL:function(){return this.props.wixSeoUrl},reportSeoWizardLinkClicked:function(){this.props.sendBI(r.events.topbar.pages.top_bar_PAGES_settings_seo_wiz_lets_go_click)},reportAdvancedSEOLinkClicked:function(){this.props.sendBI(r.events.help.HELP_CLICK,{learn_more:!0,panel_name:"tab_seo_advanced",origin:"pages"}),this.props.openHelpCenter(g.translate("Pages_SEO_Advanced_SEO_HelpID"))},onSeoWizardClick:function(){this.reportSeoWizardLinkClicked();var e=this.getWixSEOWizURL();window.open(e)},onGoToUrlClicked:function(){this.props.sendBI(r.events.topbar.pages.top_bar_PAGES_settings_seo_go_to_url_click)},enableTitleTooltip:function(){this.state.isTitleSEOValid&&this.setState({enableTitleTooltip:!0})},disableTitleTooltip:function(){this.setState({enableTitleTooltip:!1})},onHidePageChanged:function(e){var t=this.getPageId(),a={indexable:!e};this.debouncedUpdateEditorAPI(t,a),this.props.sendBI(r.events.topbar.pages.top_bar_PAGES_settings_hide_page_clicked,{title:this.getPageData().title,toggle:e})},getPageTitlePlaceHolder:function(){var e=this.props,t=e.siteDisplayName,a=e.isHomePage;return t?t+(a?"":" | "+this.getValueFromPageData("title")):g.translate("Pages_SEO_Title_NewPlaceholder")},getTitle:function(){return this.getValueFromPageData("pageTitleSEO")?this.getValueFromPageData("pageTitleSEO"):(this.props.title||this.props.siteDisplayName||this.props.siteName)+(this.props.isHomePage?"":" | "+this.getValueFromPageData("title"))},onUploadImageClick:function(){var i=this,e=this.props.mediaManager,t=this.props.sessionUserPreferencesuserPref,a=t.type===e.categories.BG_IMAGE&&t.path||"",o=this.getPageId();this.props.sendBI(r.events.topbar.pages.pages_panel_page_settings_SEO_tab_click_upload_image),e.open(e.categories.IMAGE,{callback:function(e){if(e){var t=e[0].fileName,a=e[0].width,n=e[0].height,s={uri:t,width:a,height:n,type:"Image"};i.props.updatePage(o,{ogImageRef:s}),i.setState({pageSEOImage:t,pageSEOImageWidth:a,pageSEOImageHeight:n}),i.props.setMediaServicesFocusToEditor(),i.props.sendBI(r.events.topbar.pages.pages_panel_page_settings_SEO_tab_upload_image_success)}},translation:{submitButton:g.translate("MMGR_API_IMAGE_SEO_SOCIAL_SHARE_PAGE_SUBMIT_BUTTON")},multiSelect:!1,path:a,restrictContent:!0})},getPageSEOImage:function(e,t){var a=this.state.pageSEOImage||p.get(g.editorModel.metaSiteData,"ogImage"),n=e||154,s=t||82,i=g.imageTransform.fittingTypes;if(a){var o={id:a,width:this.state.pageSEOImageWidth,height:this.state.pageSEOImageHeight},r={width:n,height:s},l=g.imageTransform.getData(i.SCALE_TO_FIT,o,r);return g.serviceTopology.staticMediaUrl+"/"+l.uri}},onDeleteImageClick:function(){if(this.state.pageSEOImage){var e=this.props.pageId;this.props.sendBI(r.events.topbar.pages.pages_panel_page_settings_SEO_tab_click_delete_image),this.props.updatePage(e,{ogImageRef:null}),this.setState({pageSEOImage:null,pageSEOImageWidth:null,pageSEOImageHeight:null})}},getUploadButtonSymbol:function(){return this.state.pageSEOImage?"image-change":"upload-btn"},getSocialShareImageTooltipContent:function(){return a.createElement(u,{title:"socialShare_image_preview_title",image:this.getPageSEOImage(412,214)||"https://images-wixmp-a87e9a901094cb6400f2e0ce.wixmp.com/images/site-defualt-icon.png/v1/fit/w_412,h_214/file.jpg",imageWidth:412,ImageHeight:214,pageURL:this.props.publicURL,pageTitle:this.linkGooglePreviewProperty("pageTitleSEO").value||this.getPageTitlePlaceHolder(),pageDesc:this.linkGooglePreviewProperty("descriptionSEO").value||g.translate("Pages_SEO_Description_Placeholder"),openHelp:this.openSEOPreviewHelp,onOpen:this.onSocialShareImageTooltipOpen,onClose:this.onSocialShareImageTooltipClose})},openSEOPreviewHelp:function(){this.props.openHelpCenter("e9add2d8-76f7-453d-b42f-203a58a628fb")},isUriInputDisabled:function(){if(l.isOpen("se_multilingual")){var e=this.props.language.current,t=this.props.language.original;return null!==e&&e!==t}return!1}}),P=g.hoc.connect(g.hoc.STORES.EDITOR_API,m.mapStateToProps,m.mapDispatchToProps)(S);return P.pure=S,P}),define("pageSettingsPanel/settings/tabs/SEO/WixPromoteSEOPanel",[],function(){"use strict";return function(){return new Promise(function(a,t){requirejs(["advancedSeoClient"],function(e){var t=e.SEO_TABS;a({tabs:t})},function(e){return t(e)})})}}),define("pageSettingsPanel/settings/tabs/SEO/SeoPanelHOC",["lodash","pageSettingsPanel/settings/tabs/SEO/SEOPanelMapper","util"],function(e,a,n){"use strict";return e.memoize(function(e){var t=n.hoc.connect(n.hoc.STORES.EDITOR_API,function(){return a.mapStateToProps.apply(this,arguments)},a.mapDispatchToProps)(e);return t.pure=e,t})}),define("pageSettingsPanel/settings/applicationSettingsPanelTabs",["react","util","prop-types","platform","lodash","constants","pageSettingsPanel/settings/tabs/dynamicPageSettingsNoDevMode","pageSettingsPanel/settings/applicationSettingsPanelTabs.rt","pageSettingsPanel/settings/tabs/tabLayout","pageSettingsPanel/settings/tabs/tabPermissions","pageSettingsPanel/settings/tabs/tabPageInfoMainMenu","pageSettingsPanel/settings/applicationSettingsPanelTabsMapper","pageSettingsPanel/settings/tabs/applicationIframe/applicationIframe","pageSettingsPanel/settings/tabs/tabSEO","pageSettingsPanel/settings/tabs/SEO/WixPromoteSEOPanel","pageSettingsPanel/settings/tabs/SEO/SeoPanelHOC","experiment"],function(a,l,e,p,g,c,u,n,d,m,_,t,S,s,i,o,P){"use strict";var r=l.hoc,h=r.connect,b=r.STORES.EDITOR_API,E=function(e){function t(e){_classCallCheck(this,t);var r=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={iframeLoaded:!1,advancedSeoPanel:null},r.getPostMessageHandler=function(e){var t={routerRef:r.props.routerRef,publicUrl:r.props.publicUrl,pageRef:r.props.pageRef,origin:"dynamic_page_settings_panel_tab"};return p.platformPostMessageService.createPostMessageListener({token:e,initialData:t},e)},r.getAppData=function(){var e=g.get(r.props.pageData,"managingAppDefId"),t=e||g.get(r.props.routerData,"appDefinitionId");if(t)return{appDefId:t,applicationId:g.get(r.props.getAppDataByAppDefId(t),"applicationId")}},r.getIframeFullSrc=function(e,t,a){var n=r.props.getAppDataByAppDefId(t);return p.utils.getFullApplicationUrl(n,e,t,a)},r.iframeLoadedHandler=function(){r.setState({iframeLoaded:!0})},r.getTabContent=function(e,t){var a=l.translate,n=p.constants,s=r.state.iframeLoaded?"content-iframe loaded":"content-iframe";if(g.isObject(e)&&e.url){var i=r.getAppData(),o=void 0;return"wix-code"===i.appDefId&&(o=!r.props.developerModeEnabled),"dataBinding"===i.appDefId&&(o=!r.props.developerModeEnabled&&!r.props.dataModeIsOn),o?{panelClass:u,tag:"dynamic-page-default-tab"+r.props.menuItem.pageData.id+t+i.appDefId,props:{}}:{panelClass:S,tag:e.type,name:e.title,props:{key:"dynamic-page-iframe"+r.props.menuItem.pageData.id+t+i.appDefId,ref:"dynamic-page-iframe"+r.props.menuItem.pageData.id+i.appDefId,className:s,appData:i,name:r.props.token,src:r.getIframeFullSrc(e.url,i.appDefId,i.applicationId),onPostMessage:r.getPostMessageHandler(r.props.token),onLoad:r.iframeLoadedHandler,iframeLoaded:r.state.iframeLoaded}}}switch(e.type){case n.pages.page_settings.layout.type:return{tag:c.PAGE_SETTINGS_TABS.LAYOUT,name:a("Pages_Layouts_Tab_Title"),panelClass:d,props:{menuItem:r.props.menuItem}};case n.pages.page_settings.permissions.type:return{tag:c.PAGE_SETTINGS_TABS.PERMISSIONS,name:a("Pages_Permissions_Tab_Title"),panelClass:m,props:{pageData:r.props.menuItem.pageData}};case n.pages.page_settings.pageInfo.type:return{tag:c.PAGE_SETTINGS_TABS.PAGE_INFO,name:a("Pages_Info_Tab_Title"),panelClass:_,props:{menuItem:r.props.menuItem}};case n.pages.page_settings.seo.type:return r.getSEOTabs()}},r.getSEOPanel=function(){return r.state.advancedSeoPanel?r.state.advancedSeoPanel:(i().then(function(e){r.setState({advancedSeoPanel:e});var t=g.reduce(e.tabs,function(e,t){return e[t.name]=t.helpArticleId,e},{});r.props.setHelpIds(t)}),null)},r.getSEOTabs=function(){var t=l.translate,e=r.getSEOPanel();return P.isOpen("promoteSEOTab")&&e?g.map(e.tabs,function(e){return{tag:e.name,name:t(e.label_key),panelClass:o(e.PanelClass),props:{pageData:r.props.menuItem.pageData,tabName:e.name}}}):[{tag:c.PAGE_SETTINGS_TABS.SEO,name:t("Pages_SEO_Social_Tab_Title"),panelClass:s,props:{pageData:r.props.menuItem.pageData}}]},r.getTabsPanel=function(){var n=[];return g.forEach(r.props.applicationTabs,function(e,t){var a=r.getTabContent(e,t);g.isArray(a)?n=n.concat(a):n.push(a)}),n},r}return _inherits(t,a.Component),_createClass(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.iframeLoaded!==t.iframeLoaded||(this.state.advancedSeoPanel!==t.advancedSeoPanel||(this.props.routerData!==e.routerData||(this.props.developerModeEnabled!==e.developerModeEnabled||!!(this.props.menuItem.pageData.id!==e.menuItem.pageData.id||e.selectedTabType&&this.props.selectedTabType!==e.selectedTabType))))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.menuItem.pageData.id!==e.menuItem.pageData.id,a=e.selectedTabType&&this.props.selectedTabType!==e.selectedTabType;(t||a)&&this.setState({iframeLoaded:!1})}},{key:"render",value:function(){return n.call(this)}}]),t}();E.displayName="applicationSettingsPanelTabs",E.propTypes={pageRef:e.object.isRequired,routerRef:e.object,routerData:e.object,getAppDataByAppDefId:e.func.isRequired,pageData:e.object.isRequired,publicUrl:e.string,menuItem:e.object.isRequired,selectedTabType:e.string,setActiveTabType:e.func.isRequired,applicationTabs:e.array.isRequired,setHelpIds:e.func.isRequired};var f=h(b,t.mapStateToProps,t.mapDispatchToProps)(E);return f.pure=E,f}),define("pageSettingsPanel/settings/pageSettingsPanelTabs.rt",["react","lodash","pageSettingsPanel/settings/tabs/pageSettingsPanelTabsHolder"],function(e,t,a){"use strict";return function(){return e.createElement(a,t.assign({},{tabs:this.getTabsPanel()},this.props))}}),define("pageSettingsPanel/settings/pageSettingsPanelTabs",["create-react-class","prop-types","pageSettingsPanel/settings/tabs/tabSEO","pageSettingsPanel/settings/tabs/SEO/WixPromoteSEOPanel","pageSettingsPanel/settings/tabs/SEO/SeoPanelHOC","experiment","util","constants","lodash","pageSettingsPanel/settings/tabs/tabPageInfoMainMenu","pageSettingsPanel/settings/tabs/tabLayout","pageSettingsPanel/settings/tabs/tabPermissions","pageSettingsPanel/settings/pageSettingsPanelTabs.rt"],function(e,t,n,s,i,o,r,l,p,a,g,c,u){"use strict";return e({displayName:"pageSettingsPanelTabsNew",propTypes:{menuItem:t.object.isRequired,selectedTabType:t.string,setActiveTabType:t.func.isRequired,setHelpIds:t.func.isRequired},getInitialState:function(){return{advancedSeoPanel:null}},getSEOPanel:function(){var a=this;return o.isOpen("promoteSEOTab")?this.state.advancedSeoPanel?this.state.advancedSeoPanel:(s().then(function(e){a.setState({advancedSeoPanel:e});var t=p.reduce(e.tabs,function(e,t){return e[t.name]=t.helpArticleId,e},{});a.props.setHelpIds(t)}),null):n},getSEOTabs:function(){var t=this,a=r.translate,e=this.getSEOPanel();return o.isOpen("promoteSEOTab")?e?p.map(e.tabs,function(e){return{tag:e.name,name:a(e.label_key),panelClass:i(e.PanelClass),props:{pageData:t.props.menuItem.pageData,tabName:e.name}}}):[{tag:l.PAGE_SETTINGS_TABS.SEO,name:a("constants.PAGE_SETTINGS_TABS.TITLE_KEYS.BASIC_SEO"),props:{menuItem:this.props.menuItem}}]:[{tag:l.PAGE_SETTINGS_TABS.SEO,name:a("Pages_SEO_Social_Tab_Title"),panelClass:e,props:{pageData:this.props.menuItem.pageData}}]},getTabsPanel:function(){var e=r.translate,t=[{tag:l.PAGE_SETTINGS_TABS.PAGE_INFO,name:e("Pages_Info_Tab_Title"),panelClass:a,props:{menuItem:this.props.menuItem}},{tag:l.PAGE_SETTINGS_TABS.LAYOUT,name:e("Pages_Layouts_Tab_Title"),panelClass:g,props:{menuItem:this.props.menuItem}},{tag:l.PAGE_SETTINGS_TABS.PERMISSIONS,name:e("Pages_Permissions_Tab_Title"),panelClass:c,props:{pageData:this.props.menuItem.pageData}}];return t.push.apply(t,_toConsumableArray(this.getSEOTabs())),p.remove(t,function(e){return!e.panelClass}),t},render:u})}),define("pageSettingsPanel/panels/settings/pageSettingsFrame.rt",["react","lodash","santa-editor-symbols","util","baseUILib"],function(e,t,a,n,s){"use strict";return function(){return e.createElement("div",{className:"page-settings-panel-pp"},e.createElement("div",{className:"page-settings-panel-pp-inner"},e.createElement(s.PanelHeader,{className:"light",onClose:function(){this.props.closeSettingsPanel("back")}.bind(this),onHelp:function(e){e.stopPropagation(),this.openHelpPanel()}.bind(this),closeSymbol:this.getCloseSymbol()},e.createElement("span",{},this.getDisplayTitle())),"\n        ",this.props.children,"\n    "))}}),define("pageSettingsPanel/panels/settings/pageSettingsFrame",["react","util","create-react-class","prop-types","core","pageSettingsPanel/panels/settings/pageSettingsFrame.rt","constants","santa-editor-symbols"],function(e,t,a,n,s,i,o,r){"use strict";return a({displayName:"pageSettingsFrameNew",propTypes:{helpId:n.string,title:n.string,displayTitle:n.string,closeSettingsPanel:n.func.isRequired},mixins:[s.mixins.editorAPIMixin],render:i,openHelpPanel:function(e){if(e=e||this.props.helpId){var t={learn_more:!1,panel_name:"page_settings",origin:o.BI.HELP.ORIGIN.PAGES};this.getEditorAPI().panelManager.openHelpCenter(e,null,t)}},getCloseSymbol:function(){return e.createElement(r.symbol,{name:"arrowLeft"})},getDisplayTitle:function(){return this.props.displayTitle||t.translate("Pages_Settings_Header_Text")+" ("+this.props.title+")"}})}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopCommon.rt",["react","lodash","pageSettingsPanel/panels/settings/pageSettingsFrame"],function(e,t,a){"use strict";return function(){return e.createElement(a,{helpId:this.props.helpId,title:this.props.title,displayTitle:this.props.displayTitle,closeSettingsPanel:this.props.closeSettingsPanel},"\n\n    ",this.props.children,"\n\n")}}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopCommon",["create-react-class","prop-types","core","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopCommon.rt"],function(e,t,a,n){"use strict";return e({mixins:[a.mixins.editorAPIMixin],displayName:"pageSettingsDesktopCommonNew",propTypes:{title:t.string,displayTitle:t.string,closeSettingsPanel:t.func.isRequired,helpId:t.string},render:n})}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktop.rt",["react","lodash","baseUI","santa-editor-symbols","util","pageSettingsPanel/settings/applicationSettingsPanelTabs","pageSettingsPanel/settings/pageSettingsPanelTabs","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopCommon"],function(e,t,a,n,s,i,o,r){"use strict";return function(){return function(){return this.props.actions,s.translate,e.createElement(r,{title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel,helpId:this.getHelpId()},this.props.isApplicationOverridingSettingTab?null:e.createElement(o,t.assign({},{key:"pageSettingsPanelTabs",setActiveTabType:this.setActiveTabTypeAndSendBI,selectedTabType:this.state.activeTabType,setHelpIds:this.setHelpIds},this.props)),this.props.isApplicationOverridingSettingTab?e.createElement(i,t.assign({},{developerModeEnabled:this.props.isDeveloperModeEnabled,applicationTabs:this.props.applicationTabs,setActiveTabType:this.setActiveTabTypeAndSendBI,selectedTabType:this.state.activeTabType,key:"applicationSettingsPanelTabs",setHelpIds:this.setHelpIds},this.props)):null)}.apply(this,[])}}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktop",["react","util","prop-types","lodash","constants","pageSettingsPanel/utils/constants","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopMapper","coreBi","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktop.rt"],function(t,e,a,r,s,n,i,l,o){"use strict";var p=e.hoc,g=p.connect,c=p.STORES.EDITOR_API,u=function(e){function a(e){_classCallCheck(this,a);var o=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));o.setHelpIds=function(e){o.setState({helpIds:e})},o.setActiveTabType=function(e){o.setState({activeTabType:e})},o.setActiveTabTypeAndSendBI=function(e){o.setState({activeTabType:e}),o.props.sendBi(l.events.topbar.pages.top_bar_PAGES_settings_tab_click,{category:e})},o.getValidActiveTabTypeForApplicationPage=function(e,t){var a=r.map(o.props.applicationTabs,"type");return r.includes(a,t)?t:o.getDefaultTabType(e,o.props.applicationTabs)},o.tryToPreserveSelectedTab=function(e,t,a){var n=!!o.props.getRouterDataForPageIfExist(e.id)||!!r.get(e,"managingAppDefId"),s=!!o.props.getRouterDataForPageIfExist(t.id)||!!r.get(t,"managingAppDefId");if(n&&!s||!n&&s)o.setActiveTabType(o.getDefaultTabType(e.id));else if(n&&s){var i=a.applicationTabs;r.find(i,{type:o.state.activeTabType})||o.setActiveTabType(o.getDefaultTabType(e.id))}},o.getHelpId=function(){if(o.props.isApplicationOverridingSettingTab){var e=r.find(o.props.applicationTabs,{type:o.state.activeTabType});return e&&e.helpId?e.helpId:"995c5103-5599-4725-9e4f-c6ae4a47bf35"}return n.STATIC_PAGES_HELP_IDS[o.state.activeTabType]||r.get(o.state.helpIds,o.state.activeTabType)},o.getDefaultTabType=function(e,t){if(e=e||r.get(o.props.menuItem.pageData,"id"),o.props.isApplicationOverridingSettingTab){var a=t||o.props.applicationTabs,n=r.find(a,["type",s.PAGE_SETTINGS_TABS.PAGE_INFO]);return n?n.type:a[0].type}return s.PAGE_SETTINGS_TABS.PAGE_INFO};var t=o.props.activeTabType&&r.includes(r.values(s.PAGE_SETTINGS_TABS),o.props.activeTabType)?o.props.activeTabType:o.getDefaultTabType();return o.props.isApplicationOverridingSettingTab&&(t=o.getValidActiveTabTypeForApplicationPage(o.props.menuItem.pageData.id,o.props.activeTabType)),o.state={activeTabType:t},o}return _inherits(a,t.Component),_createClass(a,[{key:"componentWillReceiveProps",value:function(e){e.activeTabType&&this.props.activeTabType!==e.activeTabType&&this.setActiveTabType(e.activeTabType);var t=e.menuItem.pageData,a=this.props.menuItem.pageData;t.id!==a.id&&(e.activeTabType?this.props.isApplicationOverridingSettingTab?this.setActiveTabType(this.getValidActiveTabTypeForApplicationPage(t.id,e.activeTabType)):this.setActiveTabType(e.activeTabType):this.tryToPreserveSelectedTab(t,a,e))}},{key:"render",value:function(){return o.call(this)}}]),a}();u.displayName="pageSettingsDesktopNew",u.propTypes={sendBi:a.func.isRequired,getRouterDataForPageIfExist:a.func.isRequired,isApplicationOverridingSettingTab:a.bool.isRequired,isDeveloperModeEnabled:a.bool.isRequired,applicationTabs:a.array.isRequired,menuItem:a.object.isRequired,actions:a.object,activeTabType:a.string,closeSettingsPanel:a.func.isRequired};var d=g(c,i.mapStateToProps,i.mapDispatchToProps)(u);return d.pure=u,d}),define("pageSettingsPanel/utils/customSignup",[],function(){"use strict";var e,t={DEFAULT:"default",CUSTOM:"custom",DEV:"dev"},a="wysiwyg.viewer.components.FormContainer",n="14ce1214-b278-a7e4-1373-00cebd1bef7c",s="5f4fa4f1-5afd-4ac0-8a85-e5ac1d2b9b7d";return{SIGNUP_POLICIES:{TERMS_OF_USE:"termsOfUse",PRIVACY:"privacyPolicy",CODE_OF_CONDUCT:"codeOfConduct"},AUTO_APPROVAL:[{label:"Pages_Member_Signup_Permission_Settings_Dropdown_Automatic",value:!0},{label:"Pages_Member_Signup_Permission_Settings_Dropdown_Manual",value:!1}],LOGIN_FIRST:[{label:"Pages_Member_Signup_Display_Settings_Dropdown_Signup",value:!1},{label:"Pages_Member_Signup_Display_Settings_Dropdown_Login",value:!0}],SIGNUP_VALUES:t,SIGNUP_OPTIONS_LABELS:(_defineProperty(e={},t.DEFAULT,"NewPages_Panel_Signup_Dropdown_Default_label"),_defineProperty(e,t.CUSTOM,"NewPages_Panel_Signup_Dropdown_Custom_label"),_defineProperty(e,t.DEV,"NewPages_Panel_Signup_Dropdown_Developer_label"),e),MEMBERS_APPDEF_ID:"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",FORM_COMPONENT_TYPE:a,FORM_BUILDER_APP_DEF_ID:n,CUSTOM_REGISTRATION_APP_DEF_ID:s,LIGHTBOX_DEF:{type:"Page",skin:"skins.core.InlineSkin",componentType:"mobile.core.components.Page",data:{type:"Page",managingAppDefId:s,title:"add_preset_popups_Welcome_1",hideTitle:!0,icon:"",descriptionSEO:"",metaKeywordsSEO:"",pageTitleSEO:"",pageUriSEO:"blank-ncx68",hidePage:!0,underConstruction:!1,tpaApplicationId:0,pageSecurity:{requireLogin:!1,passwordDigest:"",dialogLanguage:""},isPopup:!0,indexable:!1,isLandingPage:!1,pageBackgrounds:{desktop:{ref:{type:"BackgroundMedia",color:"#FFF",colorOpacity:1,alignType:"center",fittingType:"fill",scrollType:"none",colorOverlay:"",colorOverlayOpacity:0}},mobile:{custom:!0,ref:{type:"BackgroundMedia",color:"#FFF",colorOpacity:1,alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0},isPreset:!0}},ignoreBottomBottomAnchors:!0},props:{type:"PageProperties",desktop:{popup:{closeOnOverlayClick:!1}},mobile:{popup:{closeOnOverlayClick:!1}}},style:"p1",tpaComps:[],components:[{type:"Container",components:[{type:"Component",skin:"svgshape.v2.Svg_9a8686831e874878a55a90925c0feb6c",layout:{width:35,height:35,scale:1,rotationInDegrees:0,anchors:[],fixedPosition:!0,docked:{top:{px:60},right:{px:60}}},componentType:"wysiwyg.viewer.components.PopupCloseIconButton",props:{type:"SvgShapeProperties",maintainAspectRatio:!0},style:{type:"TopLevelStyle",style:{groups:{},properties:{fillcolor:"#000"},propertiesSource:{fillcolor:"value"}},componentClassName:"wysiwyg.viewer.components.PopupCloseIconButton",mobileHints:{type:"MobileHints",hidden:!0},pageId:"",compId:"",styleType:"custom",skin:"svgshape.v2.Svg_9a8686831e874878a55a90925c0feb6c"}},{componentType:"platform.components.AppWidget",style:"appWidget1",data:{type:"AppController",name:"wix-forms-controller",controllerType:"registrationForm",applicationId:n,id:"form-builder-widget"},layout:{width:467,height:639,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},components:[{type:"Container",components:[],skin:"wysiwyg.viewer.skins.FormContainerSkin",layout:{width:467,height:639,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},connections:{type:"ConnectionList",items:[{type:"ConnectionItem",controllerId:"form-builder-widget",isPrimary:!0,config:"{}",role:"form_Role"}]},style:{metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},type:"TopLevelStyle",style:{properties:{loader:"1"},pageId:"",compId:""},styleType:"custom",skin:"wysiwyg.viewer.skins.FormContainerSkin"},componentType:a}]}],skin:"wysiwyg.viewer.skins.stripContainer.DefaultStripContainer",layout:{width:467,height:639},componentType:"wysiwyg.viewer.components.PopupContainer",props:{type:"PopupContainerProperties",horizontalAlignment:"center",verticalAlignment:"center",alignmentType:"nineGrid",horizontalOffset:0,verticalOffset:0},design:{type:"MediaContainerDesignData",background:{type:"BackgroundMedia",color:"#FFFFFE",colorOpacity:1,alignType:"center",fittingType:"fill",scrollType:"none",colorOverlay:"",colorOverlayOpacity:0}},style:{type:"TopLevelStyle",style:{groups:{},properties:{"alpha-bg":"1",bg:"rgba(255,255,255,1)"},propertiesSource:{"alpha-bg":"value",bg:"value"}},componentClassName:"wysiwyg.viewer.components.PopupContainer",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.stripContainer.DefaultStripContainer"}}]}}}),define("pageSettingsPanel/panels/settings/desktop/signupSettingsDesktopMapper",["lodash","util","coreBi","tpa","platform","constants","popups","pmrpc","pageSettingsPanel/utils/constants","pageSettingsPanel/utils/customSignup"],function(c,u,d,p,g,m,_,S,P,e){"use strict";var h=e.SIGNUP_VALUES,b=e.AUTO_APPROVAL,E=e.LOGIN_FIRST,f=e.SIGNUP_POLICIES,T=e.MEMBERS_APPDEF_ID,v=e.FORM_BUILDER_APP_DEF_ID,I=e.FORM_COMPONENT_TYPE,y=e.CUSTOM_REGISTRATION_APP_DEF_ID,s=e.LIGHTBOX_DEF,A=function(e,t){var a=e.editorAPI,n=a.pages.popupPages.add(t,s);a.history.add("add custom signup page"),a.pages.navigateTo(n.id),a.dsActions.waitForChangesApplied(function(){var r,l;(r=a,l=n,new Promise(function(t,a){var e=p.constants.APP.TYPE.PLATFORM_ONLY,n=p.constants.BI.initiator.EDITOR,s={originType:p.constants.BI.type.ADD_APP_ADD_PANEL},i=D(r,l,I),o={initiator:g.constants.ORIGIN.INITIATOR.EDITOR,info:{type:"registration-form",containerRef:i,targetPageRef:l}};p.services.tpaAddAppService.addApp(r,v,null,null,e,n,!1,{},s,function(e){return c.get(e,"success")?t(e):a(e)},o)})).then(function(){a.siteMembers.setCustomSignupPageId(n.id);var e=D(a,n,"wysiwyg.viewer.components.PopupContainer");a.selection.selectComponentByCompRef(e),a.panelManager.openFirstTimePanel(a.selection.getSelectedComponentType(e)),_.actions.openBehaviors.removeOpenBehaviorFromAllPages(a)})})},D=function(t,e,a){return e?c.find(t.components.getChildren(e,!0),function(e){return a===t.components.getType(e)}):null};return function(e){var s=e.editorAPI,i=e.dsRead,t=s.bi.event,a=function(){return s.siteMembers.getCustomSignupPageId()},n=function(){var e=s.pages.popupPages.getDataList();return c.get(c.find(e,["managingAppDefId",y]),"id")},o=function(){var e=s.dsRead.siteMembers.getCustomSignupPageId();return e?n()===e?h.CUSTOM:h.DEV:h.DEFAULT},r=d.events.topbar.pages,l=s.bi.event,p="editor",g={selectCustomSignupType:function(e){return l(r.custom_signup_type_selection,{hosting:p,selection:e})},clickOnSaveSettings:function(){return l(r.custom_signup_panel_save)},clickOnSaveLinkPanel:function(){return l(r.custom_signup_panel_link_panel_save)},clickOnConnectLink:function(e){return l(r.custom_signup_connect_link,{hosting:p,action:e,name:"wixCodeFormLink",type:"lightbox"})},clickOnCancelLinkPanel:function(){return l(r.custom_signup_panel_link_panel_cancel)},clickOnLinkButton:function(){return l(r.custom_signup_panel_link_panel_open)},toggleLoginDialogFirst:function(e){return l(d.events.signup.set_login_dialog_first,{hosting:p,selection:e?"existing member login":"new member signup"})},toggleAutoApprove:function(e){return l(d.events.signup.set_auto_approval,{hosting:p,selection:e?"everyone":"people i approve"})},toggleSetSocialLogin:function(e,t){return l(d.events.signup.set_social_login,{hosting:p,platform:t,toggle_state:e})},toggleShowPolicyLink:function(e,t){return l(d.events.signup.toggle_policy,{hosting:p,type:e,toggle_state:t})},setPolicyLink:function(e,t){var a=t.type;return l(d.events.signup.link_to_policy,{name:e,action:"set-link",type:a})}};return{sendBiEvent:function(){return g},getCustomSignupPageId:a,findManagedCustomSignup:n,isSiteSaved:function(){return!s.dsRead.generalInfo.isFirstSave()},isJoinCommunityEnabled:function(){return s.siteMembers.isJoinCommunityEnabled()},setJoinCommunityStatus:function(e){s.siteMembers.setJoinCommunityStatus(e),g.toggleSetSocialLogin(e,"community")},sendBi:t,title:function(){switch(o()){case h.CUSTOM:return u.translate("NewPages_Member_Signup_Custom_Title");case h.DEV:return u.translate("NewPages_Member_Signup_Developer_Title");case h.DEFAULT:return u.translate("NewPages_Member_Signup_Default_Title")}}(),isAutoApproval:function(){return s.siteMembers.isAutoApproval()},isLoginDialogFirst:function(){return s.siteMembers.isLoginDialogFirst()},setAutoApproval:function(e){s.siteMembers.setAutoApproval(e),g.toggleAutoApprove(e)},getAutoApprovalOptions:function(){return b},getLoginFirstOptions:function(){return E},setLoginDialogFirst:function(e){s.siteMembers.setLoginDialogFirst(e),g.toggleLoginDialogFirst(e)},isSocialLogin:function(e){return s.siteMembers.isSocialLoginEnabled(e)},setSocialLogin:function(e,t){s.siteMembers.setSocialLoginVendorStatus(e,t),g.toggleSetSocialLogin(t,e)},isSignupPoliciesFieldEnabled:function(e){return s.siteMembers.isSignupPoliciesFieldEnabled(e)},setSignupPoliciesFieldStatus:function(e,t){s.siteMembers.setSignupPoliciesFieldStatus(e,t),g.toggleShowPolicyLink(e,t)},getSignupPoliciesLink:function(e){return s.siteMembers.getSignupPoliciesLink(e)},setSignupPoliciesLink:function(e,t){s.siteMembers.setSignupPoliciesLink(e,t),g.setPolicyLink(e,t)},joinCommunityEnabled:function(){return s.siteMembers.isJoinCommunityEnabled()},isTermsOfUseLinkVisible:function(){return s.siteMembers.isSignupPoliciesFieldEnabled(f.TERMS_OF_USE)},isPrivacyPolicyLinkVisible:function(){return s.siteMembers.isSignupPoliciesFieldEnabled(f.PRIVACY)},isCodeOfConductLinkVisible:function(){return s.siteMembers.isSignupPoliciesFieldEnabled(f.CODE_OF_CONDUCT)},termsOfUseLink:function(){return s.siteMembers.getSignupPoliciesLink(f.TERMS_OF_USE)},privacyPolicyLink:function(){return s.siteMembers.getSignupPoliciesLink(f.PRIVACY)},codeOfConductLink:function(){return s.siteMembers.getSignupPoliciesLink(f.CODE_OF_CONDUCT)},getPolicyLinkData:function(e){return s.data.getById(e.replace("#",""))},getLabelForPolicyPageFromId:function(e){return u.link.getLinkValueAsString(s,s.data.getById(e.replace("#","")))},getLabelForPolicyPageFromLink:function(e){return u.link.getLinkValueAsString(s,e)},openLinkPanel:function(e){s.openLinkPanel(e),s.bi.event(d.events.signup.link_to_policy,{name:e.policy,action:"click"})},openHelpPanel:function(e){var t={learn_more:!1,panel_name:"signup_settings",origin:m.BI.HELP.ORIGIN.PAGES};s.panelManager.openHelpCenter(e||P.SIGNUP_HELP_ID,null,t)},navigateToCustomSignup:function(){return e=s,void((t=a())&&e.dsRead.pages.getFocusedPageId()!==t&&(e.pages.navigateTo(t),e.bi.event(d.events.pages.navigate_to_page,{page_id:t,panel_name:"signup",category:"lightbox"})));var e,t},hasCustomSignup:function(){return s.pages.popupPages.isPopup(a())},isPageExists:function(e){return s.data.getById(e)},getCustomSignupPageTitle:function(){return s.pages.getPageTitle(a())||""},removeCustomSignup:function(){_.actions.openBehaviors.removeOpenBehaviorFromAllPages(s),s.siteMembers.setCustomSignupPageId(null),s.pages.navigateTo(s.dsRead.pages.getPrimaryPageId())},assignCustomSignup:function(e){return s.siteMembers.setCustomSignupPageId(e)},focusOnRegistrationForm:function(){var e=a();s.panelManager.closeAllPanels(),s.pages.navigateTo(e,function(){var e=s.pages.popupPages.getCurrentPopup();s.selection.selectComponentByCompRef(D(s,e,"platform.components.AppWidget"))}),s.bi.event(d.events.pages.pagesPanel.quick_actions_menu_select,{page_id:e,source:"custom_signup",category:"edit"})},getCurrentSignupState:o,createCustomSignup:function(){s.bi.event(d.events.signup.create_custom_signup),s.panelManager.closeAllPanels();var e=u.translate("NewPages_Member_Signup_Custom_Signup_Page_Name");return A({editorAPI:s,dsRead:i},e)},getSiteMembersUrl:function(){return"//www.wix.com/dashboard/"+i.generalInfo.getMetaSiteId()+"/member-permissions/members/"},getCustomSignupLinkFromId:function(e){var t=i.data.createItem("PageLink");return e&&(t.pageId="#"+e),t},getCustomSignupPageLabel:function(e){if(!e||!i.data.getById(e))return u.translate("Pages_Custom_Signup_Settings_Custom_Signup_Link_Action_Placeholder");var t=i.data.getById(e);return c.get(t,"title","")},isDeveloperModeEnabled:function(){return s.developerMode.isEnabled()},isSocialAppInstalled:function(){var e,t,a,n=i.tpa.app.getDataByAppDefId(T);return n?(e=s,t=n,a=function(e){return e.hasSocialPages()},S.api.request(t.applicationId,{target:e.dsRead.platform.getAppsContainer()}).then(a).catch(function(){return a({Error:"Application API not found."})})):Promise.resolve(!1)}}}}),define("pageSettingsPanel/panels/settings/desktop/signupSettingsDefaultDesktop.rt",["react","lodash","util","baseUI","baseUILib","santa-editor-symbols"],function(o,e,i,r,l,p){"use strict";return function(){return function(){var t=this,e=this.getTabValues(),a=i.translate,n=this.getSocialVendors(),s=this.getSignupPolicies();return o.createElement("div",{className:"site-members-settings-pages-panel"},o.createElement(l.Composites.RichTextWithIllustration,{className:"top-banner"},o.createElement(l.Illustration,{},o.createElement(p.symbol,{name:"customSignupThumbnailViewSignupPage"})),o.createElement(l.RichText,{},i.translate("NewPages_Member_Signup_Default_Top_Banner"))),o.createElement(l.Divider,{long:!0}),o.createElement(l.HorizontalTabs,{shouldTranslate:!0,options:this.getTabs(),value:this.state.selectedTab,onChange:this.selectTab}),o.createElement("div",{className:"page-settings-panel-pp-content settings"},this.state.selectedTab===e.GENERAL?o.createElement(l.CustomScroll,{key:"smSettingsTab",flex:"1",heightRelativeToParent:"100%"},o.createElement(l.Composites.RadioButtonsLabeled,{className:"settings-section"},o.createElement(l.InfoIcon,{shouldTranslate:!0,text:"Pages_Member_Signup_Permission_Settings_Info_Tooltip"}),o.createElement(l.TextLabel,{value:"Pages_Member_Signup_Permission_Settings_Dropdown_Label"}),o.createElement(l.RadioButtons,{value:this.props.autoApproval,options:this.props.getAutoApprovalOptions(),onChange:this.props.toggleAutoApprove})),o.createElement(l.Divider,{long:!0}),o.createElement(l.Composites.RadioButtonsLabeled,{className:"settings-section"},o.createElement(l.InfoIcon,{shouldTranslate:!0,text:"NewPages_Panel_Signup_Login_First_Info_Tooltip"}),o.createElement(l.TextLabel,{value:"Pages_Member_Signup_Display_Settings_Dropdown_Label"}),o.createElement(l.RadioButtons,{value:this.props.loginDialogFirst,options:this.props.getLoginFirstOptions(),onChange:this.props.toggleLoginDialogFirst})),o.createElement(l.Divider,{long:!0})):null,this.state.selectedTab===e.SOCIAL?o.createElement(l.CustomScroll,{key:"smSocialLoginSettingsSection",flex:"1",heightRelativeToParent:"100%"},o.createElement("section",{className:"option social-option"},o.createElement(p.symbol,{name:"mba_social_panel_google_plus_new",className:"social-icon google"}),o.createElement(r.toggle,{name:"switch",value:this.state.isSocialLoginGoogle,onChange:function(e){return t.toggleSocialLogin(n.GOOGLE,e)},label:"Member_Login_Settings_Social_Google"})),o.createElement("section",{className:"option social-option"},o.createElement(p.symbol,{name:"mba_social_panel_facebook",className:"social-icon facebook"}),o.createElement(r.toggle,{value:this.state.isSocialLoginFacebook,onChange:function(e){return t.toggleSocialLogin(n.FACEBOOK,e)},label:"Member_Login_Settings_Social_Facebook"})),this.isSocialAppInstalled()?o.createElement("section",{key:"communityCheckedByDefaultSection",className:"option social-option"},o.createElement(r.symbol,{name:"communityIcon",className:"social-icon community"}),o.createElement(r.toggle,{name:"switch",value:this.state.isJoinCommunity,onChange:function(e){return t.toggleJoinCommunity(e)},label:"Member_Login_Settings_Community_Join"})):null):null,this.state.selectedTab===e.TERMS_AND_CONDITIONS?function(e,t,a,n){var s=this,i=this.getArticles();return o.createElement(l.CustomScroll,{key:"smSignupPoliciesSection",flex:"1",heightRelativeToParent:"100%"},o.createElement(r.toggle,{className:"option policy-option",name:"switch",value:this.state[n.TERMS_OF_USE],onChange:function(){return s.toggleEditPoliciesVisibility(n.TERMS_OF_USE)},label:"Pages_Member_Signup_Settings_Terms_Of_Use_Toggle_Label"}),this.state[n.TERMS_OF_USE]?o.createElement("div",{key:"ifTermsOfUseVisible",className:"policy-link-area"},o.createElement(l.Divider,{long:!0}),o.createElement(l.Composites.ActionWithSymbolLabeled,{className:"policy-link"},o.createElement(l.InfoIcon,{shouldTranslate:!0,linkText:"Pages_Member_Signup_Settings_Policies_Link_Info_Tooltip_Link",onLinkClick:function(){return s.props.openHelpPanel(i.TERMS_OF_USE)},text:"Pages_Member_Signup_Settings_Terms_Of_Use_Info_Tooltip"}),o.createElement(l.TextLabel,{value:"Pages_Member_Signup_Settings_Policies_Link_Header",shouldTranslate:!0}),o.createElement(l.ActionWithSymbol,{action:function(){return s.openLinkPanelFor(n.TERMS_OF_USE)}},o.createElement(l.TextLabel,{value:this.getLabelForPolicyPage(n.TERMS_OF_USE),shouldTranslate:!1})))):null,o.createElement(l.Divider,{long:!0}),o.createElement(r.toggle,{className:"option policy-option",name:"switch",value:this.state[n.PRIVACY_POLICY],onChange:function(){return s.toggleEditPoliciesVisibility(n.PRIVACY_POLICY)},label:"Pages_Member_Signup_Settings_Privacy_Policy_Toggle_Label"}),this.state[n.PRIVACY_POLICY]?o.createElement("div",{key:"ifPrivacyPolicyVisible",className:"policy-link-area"},o.createElement(l.Divider,{long:!0}),o.createElement(l.Composites.ActionWithSymbolLabeled,{className:"policy-link"},o.createElement(l.InfoIcon,{shouldTranslate:!0,linkText:"Pages_Member_Signup_Settings_Policies_Link_Info_Tooltip_Link",onLinkClick:function(){return s.props.openHelpPanel(i.PRIVACY_POLICY)},text:"Pages_Member_Signup_Settings_Policies_Link_Info_Tooltip"}),o.createElement(l.TextLabel,{value:"Pages_Member_Signup_Settings_Policies_Link_Header",shouldTranslate:!0}),o.createElement(l.ActionWithSymbol,{action:function(){return s.openLinkPanelFor(n.PRIVACY_POLICY)}},o.createElement(l.TextLabel,{value:this.getLabelForPolicyPage(n.PRIVACY_POLICY),shouldTranslate:!1})))):null,o.createElement(l.Divider,{long:!0}))}.apply(this,[e,a,n,s]):null,this.props.isSiteSaved()?o.createElement(l.Composites.RichText,{className:"actions",key:"manage-site-members-container"},o.createElement(l.RichText,{className:"light"},"\n                ",i.translate("NewPages_Member_Signup_Default_Top_Members_Area_Notice"),"\n                ",o.createElement("a",{target:"_blank",href:this.props.getSiteMembersUrl()}," "+i.translate("NewPages_Member_Signup_Default_Top_Members_Area_Notice_Link")))):null))}.apply(this,[])}}),define("pageSettingsPanel/panels/settings/desktop/signupSettingsDefaultDesktop",["lodash","react","prop-types","util","helpIds","pageSettingsPanel/panels/settings/desktop/signupSettingsDefaultDesktop.rt"],function(s,a,e,i,t,n){"use strict";var o={GENERAL:"general",SOCIAL:"social",TERMS_AND_CONDITIONS:"terms"},r={GOOGLE:"google",FACEBOOK:"facebook"},l={TERMS_OF_USE:"termsOfUse",PRIVACY_POLICY:"privacyPolicy",CODE_OF_CONDUCT:"codeOfConduct"},p=[{label:"Member_Login_Settings_General_Tab_Title",value:o.GENERAL},{label:"Member_Login_Settings_Social_Tab_Title",value:o.SOCIAL},{label:"Member_Login_Settings_Policies_Tab_Title",value:o.TERMS_AND_CONDITIONS}],g={TERMS_OF_USE:t.SITE_MEMBERS.TERMS_OF_USE_EXAMPLE,PRIVACY_POLICY:t.SITE_MEMBERS.PRIVACY_POLICY_EXAMPLE},c=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedTab:o.GENERAL,loginDialogFirst:n.props.isLoginDialogFirst(),autoApproval:n.props.isAutoApproval(),termsOfUse:n.props.isTermsOfUseLinkVisible(),termsOfUseLink:n.props.termsOfUseLink(),privacyPolicy:n.props.isPrivacyPolicyLinkVisible(),privacyPolicyLink:n.props.privacyPolicyLink(),codeOfConduct:n.props.isCodeOfConductLinkVisible(),codeOfConductLink:n.props.codeOfConductLink(),isSocialLoginGoogle:n.props.isSocialLogin(r.GOOGLE),isSocialLoginFacebook:n.props.isSocialLogin(r.FACEBOOK),isJoinCommunity:!0,isSocialAppInstalled:!1},n.selectTab=function(e){return n.setState({selectedTab:e})},n.toggleSocialLogin=function(e,t){var a=e===r.GOOGLE?"isSocialLoginGoogle":"isSocialLoginFacebook";n.setState(_defineProperty({},a,t),function(){return n.props.setSocialLogin(e,t)})},n.toggleJoinCommunity=function(e){n.setState({isJoinCommunity:e},function(){return n.props.setJoinCommunityStatus(e)})},n.toggleEditPoliciesVisibility=function(e){return n.setState(_defineProperty({},e,!n.state[e]),function(){n.props.setSignupPoliciesFieldStatus(e,n.state[e])})},n.getPolicyLink=function(e){return n.state[e+"Page"]?n.state[e+"Page"]:n.state[e+"Link"]?n.props.getPolicyLinkData(n.state[e+"Link"]):null},n.getLabelForPolicyPage=function(e){return n.state[e+"Page"]?n.props.getLabelForPolicyPageFromLink(n.state[e+"Page"]):n.state[e+"Link"]?n.props.getLabelForPolicyPageFromId(n.state[e+"Link"]):i.translate("Pages_Member_Signup_Settings_Policies_Link_Label")},n.linkPanelCallback=function(e,t){s.isObject(t)&&n.setState(_defineProperty({},e+"Page",t),function(){n.props.setSignupPoliciesLink(e,t)}),s.isString(t)&&n.setState(_defineProperty({},e+"Link",t),function(){n.props.setSignupPoliciesLink(e,n.props.getPolicyLinkData(t))})},n.isSocialAppInstalled=function(){return n.state.isSocialAppInstalled},n.openLinkPanelFor=function(t){n.props.openLinkPanel({policy:t,visibleSections:{PageLink:!0,AnchorLink:!0,NoLink:!1,PhoneLink:!1,WhatsAppLink:!1,ExternalLink:!1,EmailLink:!1,DocumentLink:!1,LoginToWixLink:!1,EdgeAnchorLinks:!1,PopupLink:!1},link:n.getPolicyLink(t),pageTabTitle:"LINK_PANEL_TAB_ANCHOR",pageTabPageDropDownTitle:"PLATFORM_LINK_MENU_PAGE_PAGE_OPTION",anchorTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_PAGELINK_LABEL",title:"Pages_Member_Signup_Settings_Policies_Link_Header",callback:function(e){return n.linkPanelCallback(t,e)}})},n}return _inherits(t,a.Component),_createClass(t,[{key:"getTabs",value:function(){return p}},{key:"getArticles",value:function(){return g}},{key:"getTabValues",value:function(){return o}},{key:"getSocialVendors",value:function(){return r}},{key:"getSignupPolicies",value:function(){return l}},{key:"componentDidMount",value:function(){var a=this;this.props.isSocialAppInstalled().then(function(e){var t=a.props.isJoinCommunityEnabled();a.setState({isSocialAppInstalled:e,isJoinCommunity:!s.isBoolean(t)||t})})}},{key:"render",value:function(){return n.call(this)}}]),t}();return c.displayName="signupSettingsDefaultDesktop",c.propTypes={isLoginDialogFirst:e.func.isRequired,isAutoApproval:e.func.isRequired,isTermsOfUseLinkVisible:e.func.isRequired,termsOfUseLink:e.func.isRequired,isPrivacyPolicyLinkVisible:e.func.isRequired,privacyPolicyLink:e.func.isRequired,isCodeOfConductLinkVisible:e.func.isRequired,codeOfConductLink:e.func.isRequired,isSocialLogin:e.func.isRequired,setSignupPoliciesLink:e.func.isRequired,setSignupPoliciesFieldStatus:e.func.isRequired,setSocialLogin:e.func.isRequired,getLabelForPolicyPageFromLink:e.func.isRequired,getLabelForPolicyPageFromId:e.func.isRequired,getPolicyLinkData:e.func.isRequired,openLinkPanel:e.func.isRequired,getSiteMembersUrl:e.func.isRequired,setJoinCommunityStatus:e.func.isRequired,openHelpPanel:e.func.isRequired,isSocialAppInstalled:e.func.isRequired},c}),define("pageSettingsPanel/panels/settings/desktop/signupSettingsCustomDesktop.rt",["react","lodash","baseUI","util","santa-editor-symbols","baseUILib"],function(e,t,a,n,s,i){"use strict";return function(){return e.createElement("div",{className:"site-members-settings-pages-panel"},this.props.isCustomSignupExists()?e.createElement("div",{className:"custom-signup",key:"customSignupSettings"},e.createElement(i.Composites.ButtonLeft,{},e.createElement(i.Button,{className:"btn-text",onClick:this.props.focusOnRegistrationForm},e.createElement("span",{},e.createElement(s.symbol,{name:"editAction"})),e.createElement("span",{},"\n                    ",n.translate("NewPages_Member_Signup_Custom_Signup_Edit_Text")+" '"+this.props.getCustomSignupPageTitle()+"' "+n.translate("NewPages_Member_Signup_Custom_Signup_Form_Text"),"\n                "))),e.createElement(i.Divider,{long:!0}),e.createElement("div",{className:"page-settings-panel-pp-content settings"},e.createElement(i.CustomScroll,{heightRelativeToParent:"100%"},e.createElement(i.Composites.RadioButtonsLabeled,{className:"settings-section"},e.createElement(i.InfoIcon,{shouldTranslate:!0,text:"Pages_Member_Signup_Permission_Settings_Info_Tooltip"}),e.createElement(i.TextLabel,{value:"Pages_Member_Signup_Permission_Settings_Dropdown_Label"}),e.createElement(i.RadioButtons,{value:this.props.autoApproval,options:this.props.getAutoApprovalOptions(),onChange:this.props.toggleAutoApprove})),e.createElement(i.Divider,{long:!0}),e.createElement(i.Composites.RadioButtonsLabeled,{className:"settings-section"},e.createElement(i.InfoIcon,{shouldTranslate:!0,text:"NewPages_Panel_Signup_Login_First_Info_Tooltip"}),e.createElement(i.TextLabel,{value:"Pages_Member_Signup_Display_Settings_Dropdown_Label"}),e.createElement(i.RadioButtons,{value:this.props.loginDialogFirst,options:this.props.getLoginFirstOptions(),onChange:this.props.toggleLoginDialogFirst})),e.createElement(i.Divider,{long:!0})),this.props.isSiteSaved()?e.createElement(i.Composites.RichText,{className:"actions",key:"manage-site-members-container"},e.createElement(i.RichText,{className:"light"},"\n                    ",n.translate("NewPages_Member_Signup_Default_Top_Members_Area_Notice"),"\n                    ",e.createElement("a",{target:"_blank",href:this.props.getSiteMembersUrl()}," "+n.translate("NewPages_Member_Signup_Default_Top_Members_Area_Notice_Link")))):null)):null,this.props.isCustomSignupExists()?null:e.createElement("div",{className:"first-time-custom-signup",key:"customSignupSplash"},e.createElement(i.Composites.RichTextWithIllustrationVertical,{className:"first-form-splash-container"},e.createElement(i.Illustration,{},e.createElement(s.symbol,{name:"customSignupEmptyState"})),e.createElement(i.TextLabel,{className:"text-label-centered",type:"T16",enableEllipsis:!1,value:"NewPages_Member_Signup_Custom_Signup_Banner_Title",shouldTranslate:!0}),e.createElement(i.RichText,{className:"paragraph-centered",type:"T05"},"\n                    ",n.translate("NewPages_Member_Signup_Custom_Signup_Banner_Text"),"\n                ")),e.createElement(i.Button,{className:"add-button btn-confirm-primary",onClick:this.props.createCustomSignup},e.createElement("span",{},n.translate("NewPages_Member_Signup_Custom_Signup_Banner_Button"))),e.createElement(i.RichText,{className:"learn-more-text-container"},e.createElement("a",{onClick:this.openHelpPanel},"\n                ",n.translate("NewPages_Member_Signup_Custom_Signup_Banner_Find_Out_More"),"\n            "))))}}),define("pageSettingsPanel/panels/settings/desktop/signupSettingsCustomDesktop",["react","prop-types","pageSettingsPanel/utils/constants","pageSettingsPanel/panels/settings/desktop/signupSettingsCustomDesktop.rt"],function(t,e,n,s){"use strict";var a=function(e){function a(e){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.openHelpPanel=function(){t.props.openHelpPanel(n.FIND_OUT_MORE_HELP_ID)},t}return _inherits(a,t.Component),_createClass(a,[{key:"render",value:function(){return s.call(this)}}]),a}();return a.displayName="signupSettingsCustomDesktop",a.propTypes={isCustomSignupExists:e.func.isRequired,focusOnRegistrationForm:e.func.isRequired,getAutoApprovalOptions:e.func.isRequired,toggleAutoApprove:e.func.isRequired,getLoginFirstOptions:e.func.isRequired,toggleLoginDialogFirst:e.func.isRequired,createCustomSignup:e.func.isRequired,autoApproval:e.bool.isRequired,openHelpPanel:e.func.isRequired,loginDialogFirst:e.bool.isRequired},a}),define("pageSettingsPanel/panels/settings/desktop/signupSettingsDeveloperDesktop.rt",["react","lodash","baseUI","util","santa-editor-symbols","baseUILib"],function(e,t,a,n,s,i){"use strict";return function(){return e.createElement("div",{className:"site-members-settings-pages-panel"},e.createElement(i.Composites.RichText,{className:"top-banner",key:"manage-site-members-container"},e.createElement(i.RichText,{className:"light"},n.translate("NewPages_Member_Signup_Developer_Top_Info"),"\n        ")),e.createElement(i.Divider,{long:!0}),e.createElement("div",{className:"page-settings-panel-pp-content settings"},e.createElement(i.CustomScroll,{heightRelativeToParent:"100%",flex:"1"},e.createElement("div",{key:"devSignupLink",className:"option unnested"},e.createElement(i.Composites.ActionWithSymbolLabeled,{},e.createElement(i.TextLabel,{value:"Pages_Custom_Signup_Settings_Custom_Signup_Link_Action_Label",shouldTranslate:!0}),e.createElement(i.ActionWithSymbol,{action:this.openLinkPanel},e.createElement(i.TextLabel,{value:this.state.pageTitle,shouldTranslate:!1}))))),e.createElement(i.Divider,{long:!0}),this.props.isSiteSaved()?e.createElement(i.Composites.RichText,{className:"actions",key:"manage-site-members-container"},e.createElement(i.RichText,{className:"light"},"\n                ",n.translate("NewPages_Member_Signup_Default_Top_Members_Area_Notice"),"\n                ",e.createElement("a",{target:"_blank",href:this.props.getSiteMembersUrl()},"\n                    "+n.translate("NewPages_Member_Signup_Default_Top_Members_Area_Notice_Link")))):null))}}),define("pageSettingsPanel/panels/settings/desktop/signupSettingsDeveloperDesktop",["react","lodash","prop-types","pageSettingsPanel/panels/settings/desktop/signupSettingsDeveloperDesktop.rt"],function(a,e,t,n){"use strict";var s=function(e){function t(e){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={pageTitle:a.props.getCustomSignupPageLabel(a.props.getCustomSignupPageId()),link:a.props.getCustomSignupLinkFromId(a.props.getCustomSignupPageId())||null},a.openLinkPanel=function(){a.props.openLinkPanel({visibleSections:{PopupLink:!0,PageLink:!1,AnchorLink:!1,NoLink:!1,PhoneLink:!1,WhatsAppLink:!1,ExternalLink:!1,EmailLink:!1,DocumentLink:!1,LoginToWixLink:!1,EdgeAnchorLinks:!1},defaultLinkType:"PopupLink",initialTabToDisplay:"PopupLink",link:a.state.link,showAllPopups:!0,hidePageLinks:!0,pageTabTitle:"LINK_PANEL_TAB_ANCHOR",pageTabPageDropDownTitle:"PLATFORM_LINK_MENU_PAGE_PAGE_OPTION",anchorTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_PAGELINK_LABEL",title:"Pages_Custom_Signup_Settings_Link_Panel_Header",onCancelCallback:function(){return a.props.sendBiEvent().clickOnCancelLinkPanel()},callback:function(e){var t=e&&e.pageId?e.pageId.replace("#",""):null;a.props.isPageExists(t)&&a.props.getCustomSignupPageId()!==t&&a.setState({link:a.props.getCustomSignupLinkFromId(t),pageTitle:a.props.getCustomSignupPageLabel(t)},function(){a.props.assignCustomSignup(t)}),a.props.sendBiEvent().clickOnConnectLink("set-link")},hideLinkTarget:!0}),a.props.sendBiEvent().clickOnConnectLink("click")},a}return _inherits(t,a.Component),_createClass(t,[{key:"render",value:function(){return n.call(this)}}]),t}();return s.displayName="signupSettingsDeveloperDesktop",s.propTypes={isCustomSignupExists:t.func.isRequired,getCustomSignupLinkFromId:t.func.isRequired,assignCustomSignup:t.func.isRequired,sendBiEvent:t.func.isRequired},s}),define("pageSettingsPanel/panels/settings/desktop/signupSettingsDesktop.rt",["react","lodash","baseUI","baseUILib","santa-editor-symbols","util","pageSettingsPanel/panels/settings/desktop/signupSettingsDefaultDesktop","pageSettingsPanel/panels/settings/desktop/signupSettingsCustomDesktop","pageSettingsPanel/panels/settings/desktop/signupSettingsDeveloperDesktop","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopCommon"],function(t,a,e,n,s,i,o,r,l,p){"use strict";return function(){return function(){this.props.actions,i.translate;var e=this.getSignupValues();return t.createElement(p,{displayTitle:this.props.title,closeSettingsPanel:this.props.closeSettingsPanel,helpId:this.getHelpId()},t.createElement("div",{},t.createElement(n.Composites.DropDownLabeled,{className:"signup-settings-dropdown"},t.createElement(n.InfoIcon,{shouldTranslate:!0,text:"NewPages_Panel_Signup_Top_Dropdown_Info_Text"}),t.createElement(n.TextLabel,{value:"NewPages_Panel_Signup_Top_Dropdown_Title",className:"signup-settings-dropdown-label",shouldTranslate:!0}),t.createElement(n.DropDown,{value:this.state.dropDownValue,placeholder:"NewPages_Panel_Signup_Choose_Form",openOnSelected:!0,options:this.getSignupOptions(),onChange:this.handleDropdownValueChange})),t.createElement(n.Divider,{long:!0}),this.state.dropDownValue===e.DEFAULT?t.createElement(o,a.assign({},{key:"defaultSignupSettingsPanel",toggleAutoApprove:this.toggleAutoApprove,toggleLoginDialogFirst:this.toggleLoginDialogFirst,loginDialogFirst:this.state.loginDialogFirst,autoApproval:this.state.autoApproval,getAutoApprovalOptions:this.getAutoApprovalOptions,getLoginFirstOptions:this.getLoginFirstOptions},this.props)):null,this.state.dropDownValue===e.CUSTOM?t.createElement(r,a.assign({},{key:"customSignupSettingsPanel",toggleAutoApprove:this.toggleAutoApprove,toggleLoginDialogFirst:this.toggleLoginDialogFirst,loginDialogFirst:this.state.loginDialogFirst,autoApproval:this.state.autoApproval,isCustomSignupExists:this.isCustomSignupExists,getAutoApprovalOptions:this.getAutoApprovalOptions,getLoginFirstOptions:this.getLoginFirstOptions},this.props)):null,this.state.dropDownValue===e.DEV?t.createElement(l,a.assign({},{key:"developerSignupSettingsPanel",isCustomSignupExists:this.isCustomSignupExists},this.props)):null))}.apply(this,[])}}),define("pageSettingsPanel/panels/settings/desktop/signupSettingsDesktop",["react","prop-types","util","lodash","santa-editor-symbols","pageSettingsPanel/utils/constants","pageSettingsPanel/panels/settings/desktop/signupSettingsDesktopMapper","pageSettingsPanel/panels/settings/desktop/signupSettingsDesktop.rt","pageSettingsPanel/utils/customSignup"],function(n,e,t,s,i,o,a,r,l){"use strict";var p=l.SIGNUP_VALUES,g=l.SIGNUP_OPTIONS_LABELS,c=function(e){function a(e){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.getSignupOptions=function(){return s.values(p).filter(function(e){return e===p.DEV?t.props.isDeveloperModeEnabled():e}).map(function(e){return{value:e,label:g[e]}})},t.state={dropDownValue:t.props.getCurrentSignupState(),loginDialogFirst:t.props.isLoginDialogFirst(),autoApproval:t.props.isAutoApproval()},t.selectTab=function(e){return t.setState({selectedTab:e})},t.toggleAutoApprove=function(e){return t.setState({autoApproval:e},function(){return t.props.setAutoApproval(t.state.autoApproval)})},t.toggleLoginDialogFirst=function(e){return t.setState({loginDialogFirst:e},function(){return t.props.setLoginDialogFirst(t.state.loginDialogFirst)})},t.handleDropdownValueChange=function(e){t.setState({dropDownValue:e},function(){switch(e){case p.CUSTOM:t.props.assignCustomSignup(t.props.findManagedCustomSignup()),t.props.navigateToCustomSignup();break;case p.DEFAULT:t.props.removeCustomSignup();break;case p.DEV:}}),t.props.sendBiEvent().selectCustomSignupType(e)},t.getHelpId=function(){return o.SIGNUP_HELP_ID},t.getCloseSymbol=function(){return n.createElement(i.symbol,{name:"arrowLeft"})},t.isCustomSignupExists=function(){return t.state.dropDownValue===p.CUSTOM&&!!t.props.hasCustomSignup()},t.getSignupValues=function(){return p},t}return _inherits(a,n.Component),_createClass(a,[{key:"render",value:function(){return r.call(this)}}]),a}();c.displayName="signupSettingsDesktop",c.propTypes={title:e.string.isRequired,isAutoApproval:e.func.isRequired,isLoginDialogFirst:e.func.isRequired,isSiteSaved:e.func.isRequired,setAutoApproval:e.func.isRequired,getAutoApprovalOptions:e.func.isRequired,getLoginFirstOptions:e.func.isRequired,setLoginDialogFirst:e.func.isRequired,isSocialLogin:e.func.isRequired,setSocialLogin:e.func.isRequired,isSignupPoliciesFieldEnabled:e.func.isRequired,setSignupPoliciesFieldStatus:e.func.isRequired,getSignupPoliciesLink:e.func.isRequired,setSignupPoliciesLink:e.func.isRequired,joinCommunityEnabled:e.func.isRequired,isTermsOfUseLinkVisible:e.func.isRequired,isPrivacyPolicyLinkVisible:e.func.isRequired,isCodeOfConductLinkVisible:e.func.isRequired,termsOfUseLink:e.func.isRequired,privacyPolicyLink:e.func.isRequired,codeOfConductLink:e.func.isRequired,getPolicyLinkData:e.func.isRequired,getLabelForPolicyPageFromId:e.func.isRequired,getLabelForPolicyPageFromLink:e.func.isRequired,openLinkPanel:e.func.isRequired,openHelpPanel:e.func.isRequired,navigateToCustomSignup:e.func.isRequired,hasCustomSignup:e.func.isRequired,findManagedCustomSignup:e.func.isRequired,removeCustomSignup:e.func.isRequired,assignCustomSignup:e.func.isRequired,createCustomSignup:e.func.isRequired,isDeveloperModeEnabled:e.func.isRequired,sendBiEvent:e.func.isRequired};var u=t.hoc,d=u.connect,m=u.renderWhenMutated;return d(u.STORES.EDITOR_API,a)(m(c))}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopSubpageMapper",[],function(){"use strict";return{mapDispatchToProps:function(a){return{sendBi:function(e,t){var n,s;a((n=e,s=t,function(e,t,a){a.editorAPI.bi.event(n,s)}))}}}}}),define("pageSettingsPanel/settings/tabs/subPages/blogSinglePostInfo.rt",["react","lodash","baseUI","util","experiment"],function(t,e,a,n,s){"use strict";return function(){return function(){var e=n.translate;return t.createElement("div",{className:"page-info tab-inner"},t.createElement("section",{},t.createElement("p",{className:"title"},e("Pages_Blog_Post_Info_WhatisTitle")),t.createElement("p",{},e("Pages_Blog_Post_Info_WhatisText"))),t.createElement("section",{},t.createElement("p",{className:"title"},e("Pages_Blog_Post_Info_HowTitle")),t.createElement("p",{},e("Pages_Blog_Post_Info_HowText"))),t.createElement("section",{},t.createElement("p",{className:"title"},e("Pages_Blog_Post_Info_ChangeTitle")),t.createElement("p",{},t.createElement("span",{},e("Pages_Blog_Post_Info_ChangeText")+" "),this.isDesktop()?t.createElement("span",{key:"openBlogManagerButton"},t.createElement(a.button,{label:"Pages_Blog_Post_Info_ChangeLink",className:"btn-text",onClick:function(e,t){t.stopPropagation(),this.props.actions.openBlogManager()}.bind(this,e)}),t.createElement("span",{},".")):null,this.isMobile()?t.createElement("span",{key:"openBlogManagerText"},"\n                ",e("Pages_Blog_Post_Info_ChangeLink"),".\n            "):null)))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/blogSinglePostInfo",["create-react-class","core","lodash","pageSettingsPanel/settings/tabs/subPages/blogSinglePostInfo.rt"],function(e,t,a,n){"use strict";return e({displayName:"blogSinglePostInfoNew",render:n,mixins:[t.mixins.editorAPIMixin],isDesktop:function(){return this.getEditorAPI().viewMode.get()===this.getEditorAPI().dsRead.viewMode.VIEW_MODES.DESKTOP},isMobile:function(){return this.getEditorAPI().viewMode.get()===this.getEditorAPI().dsRead.viewMode.VIEW_MODES.MOBILE}})}),define("pageSettingsPanel/settings/tabs/subPages/blogSinglePostSeo.rt",["react","lodash","util","pageSettingsPanel/settings/tabs/seoUrlSettings","pageSettingsPanel/settings/tabs/googlePreviewExpandable","experiment"],function(t,a,n,s,i,o){"use strict";return function(){return function(){var e=n.translate;return t.createElement("div",{className:"seo-google tab-inner"},t.createElement("p",{className:"title"},e("Pages_Blog_Post_SEO_Title")),t.createElement(i,{isExpanded:!0,shouldHideExpandingButton:!0,pageData:this.props.menuItem.pageData,previewDescriptionText:e("Pages_Blog_Post_SEO_Placeholder"),title:e("Pages_Blog_Post_SEO_Preview")+" | "+this.props.siteName}),o.isOpen("se_blogChangeSinglePostPageName")?t.createElement(s,{key:"blogSeoTabChangePageName",pageData:this.props.menuItem.pageData,inputFocusTooltipMessage:"SEO_URL_Changing_Warning",className:a({"blog-seo-setting":!0}).transform(function(e,t,a){t&&e.push(a)},[]).join(" ")}):null)}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/blogSinglePostSeo",["create-react-class","lodash","pageSettingsPanel/settings/tabs/subPages/blogSinglePostSeo.rt"],function(e,t,a){"use strict";return e({displayName:"blogSinglePostSeoNew",render:a})}),define("pageSettingsPanel/settings/tabs/subPages/tpaProductPageInfo.rt",["react","lodash","baseUI","util"],function(a,e,n,s){"use strict";return function(){return function(){var e=s.translate,t=this.getEditorAPI();return a.createElement("div",{className:"page-info tab-inner"},a.createElement("section",{},a.createElement("p",{className:"title"},e("Pages_Store_Product_Info_WhatisTitle")),a.createElement("p",{},e("Pages_Store_Product_Info_WhatisText"))),a.createElement("section",{},a.createElement("p",{className:"title"},e("Pages_Store_Product_Info_HowTitle")),a.createElement("p",{},e("Pages_Store_Product_Info_HowText"))),a.createElement("section",{},a.createElement("p",{className:"title"},e("Pages_Store_Product_Info_ChangeTitle")),a.createElement("p",{},t.isDesktopEditor()?a.createElement("span",{key:"desktop"},e("Pages_Store_Product_Info_ChangeText")," "):null,t.isMobileEditor()?a.createElement("span",{key:"mobile"},e("Pages_Store_Product_Info_ChangeText_Mobile")," "):null,a.createElement(n.button,{label:"Pages_Store_Product_Info_ChangeLink",className:"btn-text",onClick:function(e,t,a){a.stopPropagation(),this.props.actions.openStoreManager()}.bind(this,e,t)}),a.createElement("span",{},"."))))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/tpaProductPageInfo",["create-react-class","core","lodash","pageSettingsPanel/settings/tabs/subPages/tpaProductPageInfo.rt"],function(e,t,a,n){"use strict";return e({displayName:"tpaProductPageInfoNew",mixins:[t.mixins.editorAPIMixin],render:n})}),define("pageSettingsPanel/settings/tabs/subPages/tpaProductPageSeo.rt",["react","lodash","baseUI","util"],function(t,e,a,n){"use strict";return function(){return function(){var e=n.translate;return t.createElement("div",{className:"seo-google tab-inner"},t.createElement("p",{className:"title"},e("Pages_Store_Product_SEO_Title")),t.createElement("div",{className:"google-preview"},t.createElement("p",{className:"google-preview-title"},t.createElement("span",{className:"google-preview-title-site-name"},this.props.siteName+" | "),t.createElement("span",{},e("Pages_Store_Product_SEO_Preview"))),t.createElement("p",{className:"google-preview-url"},this.props.publicUrl.replace(/#!.*/,"#!product-title")),t.createElement("p",{className:"google-preview-description"},e("Pages_Store_Product_SEO_Placeholder"))))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/tpaProductPageSeo",["create-react-class","lodash","pageSettingsPanel/settings/tabs/subPages/tpaProductPageSeo.rt"],function(e,t,a){"use strict";return e({displayName:"tpaProductPageSeoNew",render:a})}),define("pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageSeo.rt",["react","lodash","util"],function(t,e,a){"use strict";return function(){return function(){var e=a.translate;return t.createElement("div",{className:"seo-google tab-inner empty"},t.createElement("p",{},e("Pages_Store_Cart_SEO_Text")),t.createElement("p",{},t.createElement("span",{},e("Pages_Store_Thankyou_Tracking_Text")+" "),t.createElement("a",{href:"https://support.wix.com/en/article/tracking-sales-in-wix-stores-using-your-thank-you-page-url",target:"_blank"},e("Pages_Store_Thankyou_Tracking_Link"))))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageSeo",["create-react-class","pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageSeo.rt"],function(e,t){"use strict";return e({displayName:"tpaThankYouPageSeoNew",render:t})}),define("pageSettingsPanel/settings/tabs/subPages/tpaCartPageSeo.rt",["react","lodash","util"],function(t,e,a){"use strict";return function(){return function(){var e=a.translate;return t.createElement("div",{className:"seo-google tab-inner empty"},t.createElement("p",{},e("Pages_Store_Cart_SEO_Text")))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/tpaCartPageSeo",["create-react-class","pageSettingsPanel/settings/tabs/subPages/tpaCartPageSeo.rt"],function(e,t){"use strict";return e({displayName:"tpaCartPageSeoNew",render:t})}),define("pageSettingsPanel/settings/tabs/subPages/tpaCartPageInfo.rt",["react","lodash","baseUI","util"],function(a,e,t,n){"use strict";return function(){return function(){var e=n.translate,t=this.getEditorAPI();return a.createElement("div",{className:"page-info tab-inner"},a.createElement("section",{},a.createElement("p",{className:"title"},e("Pages_Store_Cart_Info_WhatisTitle")),a.createElement("p",{},e("Pages_Store_Cart_Info_WhatisText"))),a.createElement("section",{},a.createElement("p",{className:"title"},e("Pages_Store_Cart_Info_HowTitle")),t.isDesktopEditor()?a.createElement("p",{key:"desktop"},e("Pages_Store_Cart_Info_HowText")," "):null,t.isMobileEditor()?a.createElement("p",{key:"mobile"},e("Pages_Store_Cart_Info_HowText_Mobile")," "):null))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/tpaCartPageInfo",["create-react-class","lodash","core","pageSettingsPanel/settings/tabs/subPages/tpaCartPageInfo.rt"],function(e,t,a,n){"use strict";return e({displayName:"tpaCartPageInfoNew",mixins:[a.mixins.editorAPIMixin],render:n})}),define("pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageInfo.rt",["react","lodash","baseUI","util"],function(a,e,t,n){"use strict";return function(){return function(){var e=n.translate,t=this.getEditorAPI();return a.createElement("div",{className:"page-info tab-inner"},a.createElement("section",{},a.createElement("p",{className:"title"},e("Pages_Store_Thankyou_Info_WhatisTitle")),a.createElement("p",{},e("Pages_Store_Thankyou_Info_WhatisText"))),a.createElement("section",{},a.createElement("p",{className:"title"},e("Pages_Store_Thankyou_Info_HowTitle")),t.isDesktopEditor()?a.createElement("p",{key:"desktop"},e("Pages_Store_Thankyou_Info_HowText")," "):null,t.isMobileEditor()?a.createElement("p",{key:"mobile"},e("Pages_Store_Thankyou_Info_HowText_Mobile")," "):null))}.apply(this,[])}}),define("pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageInfo",["create-react-class","core","lodash","pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageInfo.rt"],function(e,t,a,n){"use strict";return e({displayName:"tpaThankYouPageInfoNew",mixins:[t.mixins.editorAPIMixin],render:n})}),define("pageSettingsPanel/settings/pageSettingsPanelTabsSubpage.rt",["react","lodash","baseUI","baseUILib","santa-editor-symbols","util","pageSettingsPanel/settings/tabs/subPages/blogSinglePostInfo","pageSettingsPanel/settings/tabs/subPages/blogSinglePostSeo","pageSettingsPanel/settings/tabs/subPages/tpaProductPageInfo","pageSettingsPanel/settings/tabs/subPages/tpaProductPageSeo","pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageSeo","pageSettingsPanel/settings/tabs/subPages/tpaCartPageSeo","pageSettingsPanel/settings/tabs/subPages/tpaCartPageInfo","pageSettingsPanel/settings/tabs/subPages/tpaThankYouPageInfo","pageSettingsPanel/utils/pageUtils","pageSettingsPanel/settings/tabs/tabLayout","pageSettingsPanel/settings/tabs/tabPermissions","pageSettingsPanel/settings/tabs/tabSEO","core","constants"],function(m,u,_,S,e,o,d,P,h,b,E,f,T,v,I,y,A,t,r,D){"use strict";return function(){function i(e,t,a,n,s){var i=D.PAGE_SETTINGS_TABS.PAGE_INFO,o=D.PAGE_SETTINGS_TABS.LAYOUT,r=D.PAGE_SETTINGS_TABS.PERMISSIONS,l=D.PAGE_SETTINGS_TABS.SEO,p=s.isWixStoreProductPage(e),g=s.isWixStoreCartPage(e),c=s.isWixStoreThankYouPage(e);return m.createElement(_.tabs.holder,{value:this.props.selectedTabType,className:"top page-settings-tabs",onChange:function(e,t,a,n,s,i,o,r,l,p,g,c,u){this.props.setActiveTabType(u)}.bind(this,e,t,a,n,s,i,o,r,l,p,g,c)},m.createElement(_.tabs.header,{},m.createElement(_.tabs.label,{htmlFor:i},t("Pages_Info_Tab_Title")),m.createElement(_.tabs.label,{htmlFor:o},t("Pages_Layouts_Tab_Title")),m.createElement(_.tabs.label,{htmlFor:r},t("Pages_Permissions_Tab_Title")),m.createElement(_.tabs.label,{htmlFor:l},t("Pages_SEO_Tab_Title"))),m.createElement(_.tabs.content,{className:"page-settings-panel-pp-content"},m.createElement(_.tabs.tab,{name:i,className:"wixapps-subpage"},m.createElement(S.CustomScroll,{},n?m.createElement(d,u.assign({},{key:"page-settings-tab-page-blog"},this.props)):null,p?m.createElement(h,u.assign({},{key:"page-settings-tab-page-tpa-product"},this.props)):null,g?m.createElement(T,u.assign({},{key:"page-settings-tab-page-tpa-cart"},this.props)):null,c?m.createElement(v,u.assign({},{key:"page-settings-tab-page-tpa-thank-you"},this.props)):null)),m.createElement(_.tabs.tab,{name:o},m.createElement(y,{menuItem:this.props.menuItem})),m.createElement(_.tabs.tab,{name:r},m.createElement(A,{pageData:e})),function(e,t,a,n,s,i,o,r,l,p,g,c){var u=this.getSiteName(),d=I.getPublicUrl(a,e);return m.createElement(_.tabs.tab,{name:l,className:"wixapps-subpage"},m.createElement(S.CustomScroll,{},n?m.createElement(P,{key:"page-settings-tab-seo-blog-single-post",siteName:u,publicUrl:d,menuItem:this.props.menuItem}):null,p?m.createElement(b,{key:"page-settings-tab-seo-tpa-product",siteName:u,publicUrl:d}):null,c?m.createElement(E,{key:"page-settings-tab-seo-tpa-thank-you"}):null,g?m.createElement(f,{key:"page-settings-tab-seo-tpa-cart"}):null))}.apply(this,[e,t,a,n,s,i,o,r,l,p,g,c]),"--\x3e\r\n        "))}return function(){var e=this.props.menuItem.pageData,t=o.translate,a=this.getEditorAPI(),n=r.utils.blogTypeUtils.isBlog(this.getEditorAPI(),this.props.menuItem.pageData),s=r.utils.wixStoreTypeUtils;return m.createElement("div",{},i.apply(this,[e,t,a,n,s]))}.apply(this,[])}}),define("pageSettingsPanel/settings/pageSettingsPanelTabsSubpage",["create-react-class","prop-types","core","pageSettingsPanel/settings/pageSettingsPanelTabsSubpage.rt"],function(e,t,a,n){"use strict";return e({displayName:"pageSettingsPanelTabsSubpageNew",mixins:[a.mixins.editorAPIMixin],propTypes:{menuItem:t.object.isRequired,actions:t.object,selectedTabType:t.string,setActiveTabType:t.func.isRequired},render:n,getSiteName:function(){var e=this.getEditorAPI();return e.dsRead.seo.title.get()||e.siteName.get()}})}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopSubpage.rt",["react","lodash","baseUI","santa-editor-symbols","util","pageSettingsPanel/settings/pageSettingsPanelTabsSubpage","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopCommon"],function(e,t,a,n,s,i,o){"use strict";return function(){return function(){return this.props.actions,s.translate,e.createElement(o,{title:this.props.menuItem.label,closeSettingsPanel:this.props.closeSettingsPanel,helpId:this.getHelpId()},e.createElement(i,t.assign({},{setActiveTabType:this.setActiveTabTypeAndSendBI,selectedTabType:this.state.activeTabType,ref:"pageSettingsPanelTabs"},this.props)))}.apply(this,[])}}),define("pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopSubpage",["react","util","prop-types","lodash","constants","pageSettingsPanel/utils/constants","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopSubpageMapper","coreBi","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopSubpage.rt"],function(t,e,a,n,s,i,o,r,l){"use strict";var p=e.hoc,g=p.connect,c=p.STORES.EDITOR_API,u=function(e){function a(e){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={activeTabType:e.activeTabType&&n.includes(n.values(s.PAGE_SETTINGS_TABS),e.activeTabType)?e.activeTabType:s.PAGE_SETTINGS_TABS.PAGE_INFO},t.setActiveTabTypeAndSendBI=function(e){t.setState({activeTabType:e}),t.getEditorAPI().bi.event(r.events.topbar.pages.top_bar_PAGES_settings_tab_click,{category:e})},t.getHelpId=function(){return i.STATIC_PAGES_HELP_IDS[t.state.activeTabType]},t}return _inherits(a,t.Component),_createClass(a,[{key:"render",value:function(){return l.call(this)}}]),a}();u.displayName="pageSettingsDesktopSubpageNew",u.propTypes={sendBi:a.func.isRequired,menuItem:a.object.isRequired,actions:a.object,closeSettingsPanel:a.func.isRequired};var d=g(c,void 0,o.mapDispatchToProps)(u);return d.pure=u,d}),define("pageSettingsPanel",["pageSettingsPanel/panels/settings/desktop/pageSettingsDesktop","pageSettingsPanel/panels/settings/desktop/signupSettingsDesktop","pageSettingsPanel/panels/settings/desktop/pageSettingsDesktopSubpage"],function(e,t,a){"use strict";return{settingsPanels:{main:e,signup:t,tpaSubPage:a}}});
//# sourceMappingURL=pageSettingsPanel.min.js.map