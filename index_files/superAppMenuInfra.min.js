define("superAppMenuInfra/panels/firstTimeTour/slidesProvider",["lodash","stateManagement"],function(d,c){"use strict";var m={PROMOTIONAL:"promotional",MANUALLY_INSTALLED:"manuallyInstalled",TEMPLATE:"template"};return{FLOW_NAMES:m,getNextSlide:function(e,t,s,n){if(!d.includes(d.values(m),s))throw new Error("illegal flowName "+s);var i,r,a=t.id+"/first_time_tour_last_seen_slide",p=function(e,t){switch(t){case m.PROMOTIONAL:return e.firstTimeTour.promotionalFlow;case m.MANUALLY_INSTALLED:return e.firstTimeTour.manuallyInstalledFlow;case m.TEMPLATE:return e.firstTimeTour.templateFlow;default:return[]}}(t,s),l=void 0;if(void 0!==n)l=p[p.indexOf(n)+1];else{var o=c.editorPlugins.userPreferences.selectors.getSiteUserPreferences(a)(e.store.getState()),u=o&&o.flow!==s?d.assign({},o,{index:0}):o;i=p,l=(r=u)?-1===r.index?void 0:i[r.index]:i[0]}return e.store.dispatch(c.editorPlugins.userPreferences.actions.setSiteUserPreferences(a,{flow:s,index:p.indexOf(l)})),l}}}),define("superAppMenuInfra/utils/experiments",["experiment"],function(t){"use strict";return{isPromotionalExperimentOn:function(e){return Boolean({wixBookings:!0,blog:!0,newBlog:!0,wixStore:t.isOpen("PromotionalWixStore")}[e])},isLearnMoreExperimentOn:function(){return t.isOpen("SuperAppLearnMorePanelView")},isWaitForClickExperimentOn:function(e){return Boolean({blog:!0,wixStore:!0,shoutout:t.isOpen("WaitForClickShoutOut")}[e])}}}),define("superAppMenuInfra/panels/firstTimeTour/superAppFirstTimeTourPanel.rt",["react","lodash","baseUI","baseUILib"],function(e,t,s,n){"use strict";return function(){return e.createElement("div",{className:"super-app-first-time-tour-panel"},e.createElement(n.CustomScroll,{heightRelativeToParent:"100%"},void 0!==this.state.currentSlide?e.createElement(this.state.currentSlide,{key:"currentSlide",onClose:this.props.onClose,superApp:this.props.superApp,nextSlide:this.nextSlide,isFirstSlide:this.state.isFirstSlide,appWasManuallyInstalled:this.props.appWasManuallyInstalled}):null))}}),define("superAppMenuInfra/panels/firstTimeTour/superAppFirstTimeTourPanel",["lodash","create-react-class","prop-types","core","stateManagement","superAppMenuInfra/panels/firstTimeTour/slidesProvider","superAppMenuInfra/utils/experiments","superAppMenuInfra/panels/firstTimeTour/superAppFirstTimeTourPanel.rt"],function(e,t,s,n,i,r,a,p){"use strict";return t({displayName:"superAppFirstTimeTourPanel",propTypes:{superApp:s.object.isRequired,onClose:s.func.isRequired,onTourEnd:s.func.isRequired,appWasManuallyInstalled:s.bool,flowType:s.string},mixins:[n.mixins.editorAPIMixin],_getFlowName:function(){return!this.props.superApp.isAppInstalled(this.getEditorAPI())&&a.isPromotionalExperimentOn(this.props.superApp.id)?r.FLOW_NAMES.PROMOTIONAL:this._getUsualFlowName()},_getUsualFlowName:function(){var e=this._getUserFlowFromUserPreferences();return e&&e!==r.FLOW_NAMES.PROMOTIONAL?e:this.props.appWasManuallyInstalled||this.getEditorAPI().wixStores.isSiteInWixStoreTestDrive()?r.FLOW_NAMES.MANUALLY_INSTALLED:r.FLOW_NAMES.TEMPLATE},_getUserFlowFromUserPreferences:function(){var e=this.props.superApp.id+"/first_time_tour_last_seen_slide",t=i.editorPlugins.userPreferences.selectors.getSiteUserPreferences(e)(this.getEditorAPI().store.getState());return t&&t.flow},getInitialState:function(){return{currentSlide:r.getNextSlide(this.getEditorAPI(),this.props.superApp,this._getFlowName()),isFirstSlide:!0}},componentDidMount:function(){void 0===this.state.currentSlide&&this.props.onTourEnd()},nextSlide:function(){var e=r.getNextSlide(this.getEditorAPI(),this.props.superApp,this._getFlowName(),this.state.currentSlide);this.setState({currentSlide:e,isFirstSlide:!1}),void 0===e&&this.props.onTourEnd()},render:p})}),define("superAppMenuInfra/bi/superAppEvents",["lodash","core"],function(e,t){"use strict";return{mixins:[t.mixins.editorAPIMixin],superAppEvents:{appButton:{MAIN_BUTTON_HOVER:{evid:"x",src:"x",endpoint:"editor",fields:{app_name:"string",app_id:"string",button_state:"string"}},MAIN_BUTTON_CLICK:{evid:"x",src:"x",endpoint:"editor",fields:{app_name:"string",app_id:"string",button_state:"string",is_first:"boolean"}},MENU_OPENED:{evid:"x",src:"x",endpoint:"editor",fields:{app_name:"string",app_id:"string",button_state:"string",app_state:"string",origin:"string",is_first:"boolean"}}},firstTimeTour:{template:{STEP_1_CONTINUE_CLICK:{evid:198,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_1_CLOSE_CLICK:{evid:199,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_2_WELCOME_CONTINUE_CLICK:{evid:200,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_2_WELCOME_CLOSE_CLICK:{evid:201,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_1_WELCOME_CONTINUE_CLICK:{evid:202,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_1_WELCOME_CLOSE_CLICK:{evid:204,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}}},manuallyInstalled:{STEP_1_WELCOME_CONTINUE_CLICK:{evid:202,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_1_WELCOME_CLOSE_CLICK:{evid:204,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}}},promotional:{INSTALL_AGREE_CLICK:{evid:193,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},INSTALL_CLOSE_CLICK:{evid:194,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},INSTALL_FOUND_OUT_MORE_CLICK:{evid:195,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_2_WELCOME_CONTINUE_CLICK:{evid:196,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_2_WELCOME_CLOSE_CLICK:{evid:197,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}}}},PANEL_SELECT:{evid:204,src:38,endpoint:"editor",fields:{panel:"string",app_id:"string",app_name:"string"}},MANAGE_PANEL_BUTTON_CLICK:{evid:205,src:38,endpoint:"editor",fields:{button_name:"string",app_id:"string",app_name:"string"}},UPGRADE_TOOLTIP_OPENED:{evid:206,src:38,endpoint:"editor",fields:{origin:"string",app_id:"string",app_name:"string"}},UPGRADE_CLICK:{evid:207,src:38,endpoint:"editor",fields:{origin:"string",app_id:"string",app_name:"string"}},LEARN_MORE_PANEL_CATEGORY_CLICK:{evid:209,src:38,endpoint:"editor",fields:{category:"string",app_id:"string",app_name:"string"}},HELP_ICON_CLICK:{evid:210,src:38,endpoint:"editor",fields:{panel:"string",app_id:"string",app_name:"string"}}},registerEvents:e.noop}}),define("superAppMenuInfra/bi/superAppBi",["superAppMenuInfra/bi/superAppEvents"],function(e){"use strict";return{events:e.superAppEvents,registerEvents:e.registerEvents}}),define("superAppMenuInfra/panels/superAppTooltipUpgrade.rt",["react","lodash","util","baseUI","santa-editor-symbols"],function(t,s,n,i,r){"use strict";return function(){return function(){var e=this.getEditorAPI().wixStores.isSiteInWixStoreTestDrive();return t.createElement("div",{className:s({superAppTooltipUpgrade:!0,"test-drive":e}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},t.createElement("div",{className:"wix-store-upgrade-left"},this.props.title?t.createElement("h3",{className:"upgrade-title",key:"upgradeTitle"},n.translate(this.props.title)):null,this.props.text?t.createElement("p",{className:"upgrade-content",key:"upgradeContent"},n.translate(this.props.text)):null,t.createElement(i.button,{className:s({"upgrade-button":!0,"migration-button":e}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),label:this.props.label,onClick:function(e){this.props.upgrade()}.bind(this,e)})),t.createElement(r.symbol,{name:this.props.image}))}.apply(this,[])}}),define("superAppMenuInfra/panels/superAppTooltipUpgrade",["create-react-class","prop-types","lodash","core","superAppMenuInfra/panels/superAppTooltipUpgrade.rt"],function(e,t,s,n,i){"use strict";return e({displayName:"superAppTooltipUpgrade",mixins:[n.mixins.editorAPIMixin],propTypes:{title:t.string,text:t.string,label:t.string,image:t.string,upgrade:t.func},render:i})}),define("superAppMenuInfra/panels/menuPanels/superAppManagePanel.rt",["react","lodash","baseUI"],function(e,t,s){"use strict";return function(){return e.createElement("div",{className:"super-app-manage-panel"},e.createElement(this.props.superApp.panel.manage.template,{}))}}),define("superAppMenuInfra/panels/menuPanels/superAppManagePanel",["lodash","create-react-class","prop-types","superAppMenuInfra/panels/menuPanels/superAppManagePanel.rt"],function(e,t,s,n){"use strict";return t({displayName:"superAppManagePanel",propTypes:{superApp:s.object.isRequired},render:n})}),define("superAppMenuInfra/panels/menuPanels/superAppPagesPanel.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"site-app-pages-panel"},e.createElement(this.props.superApp.panel.pages.template,{}))}}),define("superAppMenuInfra/panels/menuPanels/superAppPagesPanel",["lodash","create-react-class","superAppMenuInfra/panels/menuPanels/superAppPagesPanel.rt"],function(e,t,s){"use strict";return t({displayName:"superAppPagesPanel",render:s})}),define("superAppMenuInfra/panels/menuPanels/superAppAddElementsPanel.rt",["react","lodash","util","baseUI","core","santa-editor-symbols"],function(n,i,r,e,t,a){"use strict";return function(){return function(){var e=this.props.superApp.panel.addElements,t=this.isMobile(),s=this.getEditorAPI().addPanelInfra.categoryView;return n.createElement("div",{className:"super-app-add-elements-panel category-view-wrapper"},t?null:n.createElement(s,i.assign({},{key:"categoryView",teaser:this.getTeaser(),origin:"vertical_button",items:this.getSections()},this.getCategoryViewProps())),t?n.createElement("div",{className:"super-app-mobile-view",key:"mobileView"},n.createElement(a.symbol,{name:this.props.superApp.panel.addElements.mobileImage}),n.createElement("p",{className:"bigger-text"},r.translate(e.disabledInMobileMessageTitle)),n.createElement("p",{},"\n            ",r.translate(e.disabledInMobileMessageDescription)," ",n.createElement("a",{onClick:this.goToDesktop},r.translate(e.disabledInMobileMessageDescriptionLink)))):null)}.apply(this,[])}}),define("superAppMenuInfra/panels/menuPanels/superAppAddElementsPanel",["lodash","create-react-class","prop-types","core","mixins","superAppMenuInfra/panels/menuPanels/superAppAddElementsPanel.rt"],function(s,e,t,n,i,r){"use strict";return e({displayName:"superAppAddElementsPanel",mixins:[n.mixins.editorAPIMixin,i.dragToStageMixin],getInitialState:function(){return{firstTimeInfoBoxHeight:0}},propTypes:{superApp:t.object.isRequired},isMobile:function(){return this.getEditorAPI().dsRead.viewMode.get()===this.getEditorAPI().dsRead.viewMode.VIEW_MODES.MOBILE},needToNotifyInnerNavigationToCalculateSections:function(e){this.setState({firstTimeInfoBoxHeight:e})},getSections:function(){var e=this.getEditorAPI(),t=this.props.superApp.panel.addElements.sections;return s.isFunction(t)&&(t=t(e)),s.isUndefined(t)&&(t=e.addPanel.getCategory(this.props.superApp.panel.addElements.categoryId).items),s.isEqual(t,this.lastComputedSectionItems)||(this.lastComputedSectionItems=s.cloneDeep(t)),this.lastComputedSectionItems},getTeaser:function(){var e=this.props.superApp.panel.addElements.teaser;return s.isFunction(e)&&(e=e(this.getEditorAPI())),e},getCategoryViewProps:function(){return s.assign({},this.props,{changeStateOnInnerNavigationOpen:this.changeStateOnInnerNavigationOpen,firstTimeInfoBoxHeight:this.state.firstTimeInfoBoxHeight,onItemDrag:this.startItemDrag})},changeStateOnInnerNavigationOpen:function(e){this.props.onChangeStateOnInnerNavigationOpen(e)},goToDesktop:function(){this.getEditorAPI().setDesktopEditor()},render:r})}),define("superAppMenuInfra/panels/menuPanels/superAppLearnMorePanel.rt",["react","lodash","util","panels","santa-editor-symbols","baseUI","baseUILib"],function(i,s,n,e,r,t,a){"use strict";return function(){return i.createElement("div",{className:"site-app-learn-more"},i.createElement(a.CustomScroll,{heightRelativeToParent:"100%"},this.isLearnMoreExperimentOpen()?null:i.createElement("div",{className:"first-view",key:"firstView"},this.props.superApp.panel.learnMore.data.viewA.helpCenterPopUp.isHidden?null:i.createElement("div",{className:"image-container",key:"helpCenterPopUp",onClick:function(){this.openPanel("helpCenterPopUp","viewA"),this.reportBiEvent("HelpCenter")}.bind(this)},i.createElement("div",{className:"active-layer"}),i.createElement("img",{src:this.props.superApp.panel.learnMore.data.viewA.helpCenterPopUp.image,alt:"WixStores Help Center"}),i.createElement("div",{className:"link-container"},i.createElement("p",{},n.translate(this.props.superApp.panel.learnMore.section1HeaderViewA)),i.createElement(r.symbol,{name:"arrowWithStates"}))),this.props.superApp.panel.learnMore.data.viewA.supportForumsPopUp.isHidden?null:i.createElement("a",{className:"image-container",key:"supportForumsPopUp",onClick:function(){this.reportBiEvent("Forums")}.bind(this),target:"_blank",href:this.props.superApp.panel.learnMore.data.viewA.supportForumsPopUp.link},i.createElement("div",{className:"active-layer"}),i.createElement("img",{src:this.props.superApp.panel.learnMore.data.viewA.supportForumsPopUp.image,alt:"WixStores Support Forum"}),i.createElement("div",{className:"link-container"},i.createElement("p",{},n.translate(this.props.superApp.panel.learnMore.section2HeaderViewA)),i.createElement(r.symbol,{name:"arrowWithStates"}))),this.props.superApp.panel.learnMore.data.viewA.wixTipsBlog.isHidden?null:i.createElement("a",{className:"image-container",key:"wixTipsBlog",onClick:function(){this.reportBiEvent("FromTheWixBlog")}.bind(this),target:"_blank",href:this.props.superApp.panel.learnMore.data.viewA.wixTipsBlog.link},i.createElement("div",{className:"active-layer"}),i.createElement("img",{src:this.props.superApp.panel.learnMore.data.viewA.wixTipsBlog.image,alt:"Tips from the Wix Blog"}),i.createElement("div",{className:"link-container"},i.createElement("p",{},n.translate(this.props.superApp.panel.learnMore.section3HeaderViewA)),i.createElement(r.symbol,{name:"arrowWithStates"})))),this.isLearnMoreExperimentOpen()?i.createElement.apply(this,["div",{className:"second-view",key:"secondView"},s.map(this.getLearnMoreDataForViewB(),function(e,t){return i.createElement.apply(this,["div",{className:"section-container"},i.createElement("div",{className:"section-top"},i.createElement("h4",{className:"title"},n.translate(e.title)),i.createElement("a",{className:"see-all-link",href:e.link},"See All")),s.map(e.data,function(e,t,s,n){return i.createElement("div",{className:"content-wrapper",onClick:function(e,t,s,n){this.openPanel(s.link)}.bind(this,e,t,s,n)},i.createElement("img",{src:s.image,alt:!0}),i.createElement("div",{className:"description"},s.description),i.createElement("span",{className:"arrow-wrapper"},i.createElement(r.symbol,{name:"actionArrowRight",className:"actionArrowRight"})))}.bind(this,e,t))])}.bind(this))]):null))}}),define("superAppMenuInfra/panels/menuPanels/superAppLearnMorePanel",["create-react-class","core","superAppMenuInfra/bi/superAppBi","superAppMenuInfra/utils/experiments","constants","superAppMenuInfra/panels/menuPanels/superAppLearnMorePanel.rt"],function(e,t,n,s,i,r){"use strict";return e({displayName:"superAppLearnMorePanel",mixins:[t.mixins.editorAPIMixin],getUrl:function(e,t){return"viewA"===t?this.props.superApp.panel.learnMore.data[t][e].link:e},openPanel:function(e,t){var s=this.getEditorAPI(),n={panel_name:e,origin:i.BI.HELP.ORIGIN.LEFTBAR,component:this.props.superApp.appName,learn_more:!0};s.panelManager.openHelpCenter(this.getUrl(e,t),null,n)},reportBiEvent:function(e){var t=this.props.superApp,s={category:e,app_id:t.appDefId,app_name:t.appName};this.getEditorAPI().bi.event(n.events.LEARN_MORE_PANEL_CATEGORY_CLICK,s)},getLearnMoreDataForViewB:function(){return this.props.superApp.panel.learnMore.data.viewB},isLearnMoreExperimentOpen:function(){return s.isLearnMoreExperimentOn()},render:r})}),define("superAppMenuInfra/panels/superAppMenuPanel.rt",["react","lodash","util","baseUI","santa-editor-symbols","constants"],function(n,t,i,s,r,a){"use strict";return function(){return function(){var e=this.getSelectedTab();return n.createElement("div",{className:"super-app-menu-panel left-panel-frame-content "+(e.isDynamicHeight?"dynamic-height":""),onWheel:this.blockOuterScroll},n.createElement("div",{className:"tabs"},n.createElement.apply(this,["ul",{},t.map(this.getTabs(),function(e,t,s){return n.createElement("li",{onClick:function(e,t,s){this.selectTab(t)}.bind(this,e,t,s),className:"tab",style:{height:"100px"}},n.createElement("span",{className:"tabNameWrapper "+(e===t?"isSelected":"")},n.createElement("span",{className:"tabName"},i.translate(t.title))))}.bind(this,e))]),this.showPremiumLink()?n.createElement("div",{key:"premium"},n.createElement("div",{className:"separator"}),n.createElement("div",{className:"premium"},n.createElement(s.tooltip,{value:this.getTooltipValue(),alignment:a.UI.TOOLTIP.ALIGNMENT.BOTTOM,styleType:a.UI.TOOLTIP.STYLE_TYPE.NORMAL,interactive:!0,width:"432px",id:"superAppUpgradePopoverId"},n.createElement("p",{onClick:this.onUpgradeLinkClicked},i.translate(this.props.superApp.upgradeLinkText))))):null),n.createElement("div",{className:t({content:!0,"inner-navigation-open":this.state.isInnerNavigationOpened}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},n.createElement("div",{className:"header"},n.createElement("label",{className:"title"},i.translate(e.title)),n.createElement("div",{className:"actions"},e.helpId?n.createElement("div",{key:"helpButton",className:"button help",onClick:this.onHelpButtonClick},"\n                   ?\n                "):null,n.createElement("div",{className:"button close",onClick:this.props.onClose},n.createElement(r.symbol,{name:"headerCloseButton"})))),n.createElement("div",{className:"selected-content-wrapper "+(e.isDynamicHeight?"dynamic-height":"")},n.createElement(e.content,{superApp:this.props.superApp,onChangeStateOnInnerNavigationOpen:this.onChangeStateOnInnerNavigationOpen}))))}.apply(this,[])}}),define("superAppMenuInfra/panels/superAppMenuPanel",["lodash","react","create-react-class","prop-types","core","baseUI","util","superAppMenuInfra/bi/superAppBi","addPanelDataConsts","superAppMenuInfra/panels/superAppTooltipUpgrade","superAppMenuInfra/panels/menuPanels/superAppManagePanel","superAppMenuInfra/panels/menuPanels/superAppPagesPanel","superAppMenuInfra/panels/menuPanels/superAppAddElementsPanel","superAppMenuInfra/panels/menuPanels/superAppLearnMorePanel","coreBi","constants","superAppMenuInfra/panels/superAppMenuPanel.rt"],function(s,e,t,n,i,r,a,p,l,o,u,d,c,m,h,g,f){"use strict";return t({displayName:"SuperAppMenuPanel",mixins:[i.mixins.editorAPIMixin,a.blockOuterScrollMixin],propTypes:{superApp:n.object.isRequired,onClose:n.func.isRequired,selectedTabName:n.string},getInitialState:function(){var e=this.getTabs();return{selectedTab:s.find(e,{name:this.props.selectedTabName})||e[0]}},getTabs:function(){var e=this.props.superApp,t=[{name:"Manage",isDynamicHeight:!1,title:e.panel.manage.title,helpId:e.panel.manage.helpId,isHidden:e.panel.manage.isHidden,content:u},{name:"Pages",isDynamicHeight:!0,title:e.panel.pages.title,helpId:e.panel.pages.helpId,isHidden:e.panel.pages.isHidden,content:d},{name:"Add",isDynamicHeight:!0,title:e.panel.addElements.title,helpId:e.panel.addElements.helpId,isHidden:e.panel.addElements.isHidden,content:c},{name:"LearnMore",isDynamicHeight:!1,title:e.panel.learnMore.title,isHidden:e.panel.learnMore.isHidden,content:m}];return t=s.reject(t,{isHidden:!0}),e.extraTabs&&e.extraTabs.forEach(function(e){t.splice(e.index,0,{name:e.name||"Manage",isDynamicHeight:e.isDynamicHeight,title:e.title,helpId:e.helpId,content:e.template})}),this.tabs=this.tabs||t,this.tabs},showPremiumLink:function(){var e=this.props.superApp;return e.hasPremiumPlan&&(this.getEditorAPI().wixStores.isSiteInWixStoreTestDrive()||!e.isPremium(this.getEditorAPI()))},selectTab:function(e){var t=this.props.superApp,s={panel:e.name,app_id:t.appDefId,app_name:t.appName};this.getEditorAPI().bi.event(p.events.PANEL_SELECT,s),this.setState({selectedTab:e,isInnerNavigationOpened:!1})},getSelectedTab:function(){return this.state.selectedTab},openAppPremiumPackagePicker:function(){var e=this.props.superApp,t={origin:"TooltipUpgradeLink",app_id:e.appDefId,app_name:e.appName};this.getEditorAPI().bi.event(p.events.UPGRADE_CLICK,t),e.openAppPremiumPackagePicker(this.getEditorAPI()),r.tooltipManager.hide("superAppUpgradePopoverId",!0)},openMigrationPopup:function(){this.props.superApp.openSwitchSitesPopup(this.getEditorAPI()),this.getEditorAPI().bi.event(h.events.wixstores.WIXSTORES_MIGRATION_UPGRADE_CLICKED,{origin:"upgrade_popup"}),r.tooltipManager.hide("superAppUpgradePopoverId",!0)},getStyle:function(){return{width:l.CATEGORY_VIEW.TOTAL_WIDTH}},onHelpButtonClick:function(){var e=this.getEditorAPI(),t=this.props.superApp,s={panel:this.state.selectedTab.name,app_id:t.appDefId,app_name:t.appName};e.bi.event(p.events.HELP_ICON_CLICK,s);var n={panel_name:this.state.selectedTab.name,origin:g.BI.HELP.ORIGIN.LEFTBAR,component:t.appName,learn_more:!1};e.panelManager.openHelpCenter(this.getSelectedTab().helpId,null,n)},onUpgradeLinkClicked:function(){this.getUpgradeDefinitions().upgrade()},getUpgradeDefinitions:function(){return this.getEditorAPI().wixStores.isSiteInWixStoreTestDrive()?{title:this.props.superApp.tooltip.migration.title,text:this.props.superApp.tooltip.migration.text,label:this.props.superApp.tooltip.migration.label,image:this.props.superApp.tooltip.migration.image,upgrade:this.openMigrationPopup}:{title:this.props.superApp.tooltip.upgrade.title,text:this.props.superApp.tooltip.upgrade.text,label:this.props.superApp.tooltip.upgrade.label,image:this.props.superApp.tooltip.upgrade.image,upgrade:this.openAppPremiumPackagePicker}},getTooltipValue:function(){return e.createElement(o,this.getUpgradeDefinitions())},onChangeStateOnInnerNavigationOpen:function(e){this.setState({isInnerNavigationOpened:e})},render:f})}),define("superAppMenuInfra/panels/superAppFullPanel.rt",["react","lodash","util","baseUI","baseUILib","santa-editor-symbols"],function(e,t,s,n,i,r){"use strict";return function(){return e.createElement("div",{className:"super-app-full-panel",onWheel:this.blockOuterScroll},e.createElement("div",{className:"actions"},e.createElement("div",{className:"close button",onClick:this.props.onClose},e.createElement(r.symbol,{name:"headerCloseButton",className:"headerCloseButton"}))),e.createElement("div",{className:"super-app-full-panel-content"},this.getSymbol()?e.createElement("div",{className:"super-app-full-panel-symbol",key:"symbol"},e.createElement(n.symbol,{name:this.getSymbol()})):null,this.getImage()?e.createElement("div",{className:"super-app-full-panel-image",key:"image"},e.createElement("img",{src:this.getImage()})):null,e.createElement("div",{className:"super-app-full-panel-title"},e.createElement("span",{},s.translate(this.getTitle()))),e.createElement("div",{className:"super-app-full-panel-description"},e.createElement(i.TextLabel,{enableEllipsis:!1,type:"T01",value:this.getDescription()})),e.createElement("div",{className:"buttons-container"},e.createElement("div",{},e.createElement(n.button,{className:"btn-confirm-primary manage-btn","data-aid":"button",label:this.getLabel(),onClick:function(){this.onClick()}.bind(this)})))))}}),define("superAppMenuInfra/panels/superAppFullPanel",["lodash","create-react-class","prop-types","core","util","superAppMenuInfra/panels/superAppFullPanel.rt"],function(e,t,s,n,i,r){"use strict";return t({displayName:"SuperAppFullPanel",mixins:[n.mixins.editorAPIMixin,i.blockOuterScrollMixin],propTypes:{onClose:s.func.isRequired,fullPanel:s.any.isRequired},getSymbol:function(){return this.props.fullPanel.symbol},getImage:function(){return this.props.fullPanel.image},onClick:function(){return this.props.fullPanel.onClick()},getDescription:function(){return this.props.fullPanel.description},getTitle:function(){return this.props.fullPanel.title},getLabel:function(){return this.props.fullPanel.buttonLabel},render:r})}),define("superAppMenuInfra/panels/superAppPanel.rt",["react","lodash","panels","superAppMenuInfra/panels/firstTimeTour/superAppFirstTimeTourPanel","superAppMenuInfra/panels/superAppMenuPanel","superAppMenuInfra/panels/superAppFullPanel"],function(e,t,s,n,i,r){"use strict";return function(){return e.createElement(s.frames.leftPanelFrame,{ref:"superAppPanel",styleOverride:{overflow:"visible"},panelName:this.props.superApp.panel.name,panelClass:"super-app-panel "+this.props.panelClass,panelIndex:this.props.panelIndex},this.shouldDisplayFirstTimeTourPanel()?e.createElement(n,{key:"firstTimeTour",superApp:this.props.superApp,appWasManuallyInstalled:this.props.appWasManuallyInstalled,onTourEnd:this.finishFirstTimeTour,onClose:this.closePanel}):null,this.shouldDisplayMenuPanel()?e.createElement(i,{key:"AppMenu",superApp:this.props.superApp,selectedTabName:this.props.selectedTabName,onClose:this.closePanel}):null,this.shouldDisplayFullPanel()?e.createElement(r,{key:"AppFull",superApp:this.props.superApp,fullPanel:this.props.fullPanel,onClose:this.closePanel}):null)}}),define("superAppMenuInfra/panels/superAppPanel",["lodash","create-react-class","prop-types","core","stateManagement","superAppMenuInfra/panels/superAppPanel.rt"],function(e,t,s,n,i,r){"use strict";return t({displayName:"SuperAppPanel",propTypes:{superApp:s.object.isRequired,appWasManuallyInstalled:s.bool,selectedTabName:s.string,fullPanel:s.any},mixins:[n.mixins.editorAPIMixin],getInitialState:function(){var e=this.props.superApp.id+"/in_first_time_tour",t=i.editorPlugins.userPreferences.selectors.getSiteUserPreferences(e)(this.getEditorAPI().store.getState());return{inFirstTimeTour:!t||"false"!==t}},isInFirstTimeTour:function(){return this.state.inFirstTimeTour},finishFirstTimeTour:function(){var e=this.props.superApp.id+"/in_first_time_tour";this.getEditorAPI().store.dispatch(i.editorPlugins.userPreferences.actions.setSiteUserPreferences(e,"false")),this.setState({inFirstTimeTour:!1})},closePanel:function(){this.getEditorAPI().panelManager.closePanelByName(this.props.superApp.panel.name)},shouldDisplayFirstTimeTourPanel:function(){return!this.shouldDisplayFullPanel()&&(this.isInFirstTimeTour()||!this.props.superApp.isAppInstalled(this.getEditorAPI()))},shouldDisplayMenuPanel:function(){return!this.shouldDisplayFullPanel()&&!this.isInFirstTimeTour()&&this.props.superApp.isAppInstalled(this.getEditorAPI())},shouldDisplayFullPanel:function(){return!!this.props.fullPanel},render:r})}),define("superAppMenuInfra/utils/button",["lodash","stateManagement","superAppMenuInfra/utils/experiments"],function(p,m,h){"use strict";var g=function(e){return e+"/calledUnRegisterButton"};var l={registerButton:function(n,i,r,a,p,l,o,u,d){var c=9<arguments.length&&void 0!==arguments[9]?arguments[9]:{};n.registerInitUserPrefsCallback(function(){var e=void 0,t=m.editorPlugins.userPreferences.selectors.getSiteUserPreferences(g(a))(n.store.getState());if(r?(e=p,d=!0):h.isPromotionalExperimentOn(i)&&!t&&(e=l),void 0!==e){d=d||!1;var s=c[i]||h.isWaitForClickExperimentOn(i)&&r;n.store.dispatch(m.editorPlugins.leftBar.actions.addSuperAppsButton(a,{},e,o,u,!1,s,d))}})},unRegisterButton:function(e,t){e.store.dispatch(m.editorPlugins.leftBar.actions.removeSuperAppsButton(t)),e.store.dispatch(m.editorPlugins.userPreferences.actions.setSiteUserPreferences(g(t),!0))},onAppInstalled:function(e,t,s,n,i,r,a){l.registerButton(e,t,!0,s,n,null,i,r,!0,a),void 0===p.find(e.panelManager.getOpenPanels(),{name:s})&&e.panelManager.openPanel(s,{appWasManuallyInstalled:!0},!0)}};return l}),define("superAppMenuInfra/panels/firstTimeTour/slides/getStartedSlide.rt",["react","lodash","util","baseUI","santa-editor-symbols"],function(s,e,n,t,i){"use strict";return function(){return s.createElement("div",{className:"get-started-slide"},s.createElement("div",{className:"button",onClick:this.onClose},s.createElement(i.symbol,{name:"headerCloseButton"})),s.createElement(i.symbol,{className:"main-image",name:this.props.mainImage}),s.createElement("h1",{className:"title"},n.translate(this.props.title)),s.createElement("p",{className:"sub-title"},n.translate(this.props.subTitle)),s.createElement("div",{className:"bullets-wrapper"},s.createElement.apply(this,["ul",{className:"tip-bullets"},e.map(this.props.pros,function(e,t){return s.createElement("li",{className:"bullet"},s.createElement("span",{className:"bullet-symbol"},s.createElement(i.symbol,{name:"cyclePickerV",className:"cyclePickerV"})),s.createElement("p",{className:"bullet-text"},n.translate(e)))}.bind(this))])),this.props.teaser?s.createElement("p",{key:"teaser",className:"teaser"},n.translate(this.props.teaser)):null,s.createElement(t.button,{label:this.props.nextButtonLabel,onClick:this.onNextButtonClick,className:"get-started-add-btn"}),this.props.footer?s.createElement("footer",{key:"footer"},s.createElement("p",{},n.translate(this.props.footer),"\n            ",s.createElement("a",{href:!0,onClick:function(e){this.openAppPremiumPackagePicker(e)}.bind(this)},n.translate(this.props.upgradeLink)))):null)}}),define("superAppMenuInfra/panels/firstTimeTour/slides/getStartedSlide",["create-react-class","prop-types","core","superAppMenuInfra/bi/superAppBi","superAppMenuInfra/panels/firstTimeTour/slides/getStartedSlide.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"GetStartedSlide",mixins:[s.mixins.editorAPIMixin],propTypes:{onClose:t.func.isRequired,nextSlide:t.func.isRequired,superApp:t.object.isRequired,title:t.string.isRequired,subTitle:t.string.isRequired,pros:t.arrayOf(t.string).isRequired,teaser:t.string,nextButtonLabel:t.string.isRequired,mainImage:t.string.isRequired,footer:t.string,upgradeLink:t.string,upgrade:t.func},onClose:function(){var e=this.props.superApp,t={app_id:e.appDefId,app_name:e.appName},s=this.props.appWasManuallyInstalled?"manuallyInstalled":"template",n=i.events.firstTimeTour[s].STEP_1_WELCOME_CLOSE_CLICK;n&&this.getEditorAPI().bi.event(n,t),this.props.onClose()},onNextButtonClick:function(){var e=this.props.superApp,t={app_id:e.appDefId,app_name:e.appName},s=this.props.appWasManuallyInstalled?"manuallyInstalled":"template",n=i.events.firstTimeTour[s].STEP_1_WELCOME_CONTINUE_CLICK;n&&this.getEditorAPI().bi.event(n,t),this.props.nextSlide()},openAppPremiumPackagePicker:function(e){e.preventDefault();var t=this.props.superApp,s={origin:"TooltipUpgradeLink",app_id:t.appDefId,app_name:t.appName};this.getEditorAPI().bi.event(i.events.UPGRADE_CLICK,s),t.openAppPremiumPackagePicker(this.getEditorAPI())},render:n})}),define("superAppMenuInfra/panels/firstTimeTour/slides/innerImageGallery/innerImageGallery.rt",["react","lodash"],function(s,e){"use strict";return function(){return s.createElement("div",{className:"inner-image-gallery"},s.createElement("div",{className:"gallery-viewport"},s.createElement.apply(this,["ul",{className:"gallery-images"},e.map(this.props.items,function(e,t){return s.createElement("li",{className:"slide "+this._getAlignment(t)},s.createElement("img",{src:e,alt:!0}))}.bind(this))])),this.props.showBullets?s.createElement("nav",{className:"gallery-navigation-wrapper",key:"bullets"},s.createElement.apply(this,["ul",{className:"navigation-bullets"},e.map(this.props.items,function(e,t){return s.createElement("li",{className:"bullet "+(this.state.currentIndex===t?"active":""),onClick:function(e,t,s){this.slideToIndex(t,s)}.bind(this,e,t)})}.bind(this))])):null)}}),define("superAppMenuInfra/panels/firstTimeTour/slides/innerImageGallery/innerImageGallery",["lodash","create-react-class","prop-types","superAppMenuInfra/panels/firstTimeTour/slides/innerImageGallery/innerImageGallery.rt"],function(e,t,s,n){"use strict";return t({displayName:"innerImageGallery",propTypes:{items:s.array.isRequired,showBullets:s.bool,autoPlay:s.bool,slideInterval:s.number},getDefaultProps:function(){return{showBullets:!1,autoPlay:!1,slideInterval:4e3}},getInitialState:function(){return{currentIndex:0,containerWidth:0}},componentDidMount:function(){this.props.autoPlay&&this.play()},componentWillUnmount:function(){this.pause()},slideToIndex:function(e,t){var s=this.props.items.length-1;e<0?this.setState({currentIndex:s}):s<e?this.setState({currentIndex:0}):this.setState({currentIndex:e}),t&&(this._intervalId&&(this.pause(),this.play()),t.preventDefault())},play:function(){this._intervalId||(this._intervalId=window.setInterval(function(){this.slideToIndex(this.state.currentIndex+1)}.bind(this),this.props.slideInterval))},pause:function(){this._intervalId&&(window.clearInterval(this._intervalId),this._intervalId=null)},_getAlignment:function(e){var t=this.state.currentIndex,s="";switch(e){case t-1:s="left";break;case t:s="center",this.props.items.length<=3&&(s+=" relative");break;case t+1:s="right"}return 3<=this.props.items.length&&(0===e&&t===this.props.items.length-1?s="right":e===this.props.items.length-1&&0===t&&(s="left")),s},render:n})}),define("superAppMenuInfra/panels/firstTimeTour/slides/installAppSlide.rt",["react","lodash","util","baseUI","santa-editor-symbols","superAppMenuInfra/panels/firstTimeTour/slides/innerImageGallery/innerImageGallery"],function(s,e,n,t,i,r){"use strict";return function(){return s.createElement("div",{className:"first-time-install-app "+this.props.wixStoreClassName},this.props.wixStoreClassName?null:s.createElement("div",{className:"close white",onClick:this.onClose,key:"wixStoreClassName"},s.createElement(i.symbol,{name:"headerCloseButton",className:"headerCloseButton"})),this.state.isInstalling?null:s.createElement("div",{key:"isInstalling",className:"pre-install-section"},this.props.sliderImages?s.createElement(r,e.assign({},{key:"sliderImages",items:this.props.sliderImages},{autoPlay:!0,showBullets:!0})):null,this.props.bannerImgSrc?s.createElement("img",{key:"bannerImage",className:"banner",src:this.props.bannerImgSrc}):null,s.createElement("h1",{className:"title"},n.translate(this.props.title)," "),s.createElement("p",{className:"sub-title"},n.translate(this.props.subTitle)),s.createElement("div",{},s.createElement.apply(this,["ul",{className:"tip-bullets"},e.map(this.props.pros,function(e,t){return s.createElement("li",{className:"bullet"},s.createElement("span",{className:"bullet-symbol"},s.createElement(i.symbol,{name:"cyclePickerV",className:"cyclePickerV"})),s.createElement("p",{className:"bullet-text"},n.translate(e)))}.bind(this))])),this.props.teaser?s.createElement("p",{className:"helper-text",key:"helpText"},n.translate(this.props.teaser)):null,s.createElement(t.button,{label:this.props.nextButtonLabel,onClick:this.installApp,disabled:this.state.isInstalling,icon:"plus",className:"promotional-add-btn"}),s.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),this.openAppMarket()}.bind(this),className:"promotional-link"},"\n            ",n.translate(this.props.openAppMarketLabel),"\n        "),this.props.footer?s.createElement("footer",{key:"footer"},s.createElement("p",{},n.translate(this.props.footer)),s.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),this.openAppPremiumPackagePicker}.bind(this)},n.translate(this.props.upgradeLink))):null),this.state.isInstalling&&!this.props.wixStoreClassName?s.createElement("div",{className:"install-section",key:"installSection"},s.createElement(i.symbol,{className:"installed-image",name:this.props.installImage}),s.createElement("p",{},n.translate(this.props.loadingLabel)),s.createElement("div",{className:"install-preloader"},s.createElement(t.preloader,{}))):null)}}),define("superAppMenuInfra/panels/firstTimeTour/slides/installAppSlide",["lodash","create-react-class","prop-types","core","superAppMenuInfra/bi/superAppBi","superAppMenuInfra/utils/button","superAppMenuInfra/panels/firstTimeTour/slides/installAppSlide.rt"],function(e,t,s,n,i,r,a){"use strict";return t({displayName:"InstallAppSlide",propTypes:{onClose:s.func.isRequired,nextSlide:s.func.isRequired,installApp:s.func.isRequired,superAppPanelName:s.string.isRequired,superAppButtonLabel:s.string.isRequired,superAppPanelClassName:s.string.isRequired,superAppSymbolName:s.string.isRequired,title:s.string.isRequired,subTitle:s.string.isRequired,pros:s.arrayOf(s.string).isRequired,teaser:s.string,footer:s.string,upgradeLink:s.string,nextButtonLabel:s.string.isRequired,openAppMarketLabel:s.string.isRequired,openAppMarket:s.func.isRequired,loadingLabel:s.string.isRequired,sliderImages:s.array,installImage:s.string.isRequired,bannerImgSrc:s.string},mixins:[n.mixins.editorAPIMixin],getInitialState:function(){return{isInstalling:!1,installationDone:!1,minimumInstallationDurationPassed:!1}},installApp:function(){var e=this.props.superApp,t={app_id:e.appDefId,app_name:e.appName,origin:this.props.origin};this.getEditorAPI().bi.event(i.events.firstTimeTour.promotional.INSTALL_AGREE_CLICK,t),this.setState({isInstalling:!0}),this.props.installApp(this._appInstalled),"wixStore"!==this.props.superAppPanelName&&window.setTimeout(this._minimumInstallationDurationPassed,2e3)},_appInstalled:function(){this._installationStepCompleted("installationDone"),r.onAppInstalled(this.getEditorAPI(),this.props.superApp.id,this.props.superAppPanelName,this.props.superAppButtonLabel,this.props.superAppPanelClassName,this.props.superAppSymbolName)},_minimumInstallationDurationPassed:function(){this._installationStepCompleted("minimumInstallationDurationPassed")},_installationStepCompleted:function(e){var t={};t[e]=!0,this.safelySetState(t),this.state.installationDone&&this.state.minimumInstallationDurationPassed&&this.props.nextSlide()},componentDidMount:function(){this._isMounted=!0},componentWillUnmount:function(){this._isMounted=!1},safelySetState:function(e){this._isMounted&&this.setState(e)},openAppMarket:function(){var e=this.props.superApp;if(e&&e.appDefId&&e.appName){var t={app_id:e.appDefId,app_name:e.appName};this.getEditorAPI().bi.event(i.events.firstTimeTour.promotional.INSTALL_FOUND_OUT_MORE_CLICK,t)}this.props.openAppMarket()},onClose:function(){var e=this.props.superApp,t={app_id:e.appDefId,app_name:e.appName};this.getEditorAPI().bi.event(i.events.firstTimeTour.promotional.INSTALL_CLOSE_CLICK,t),this.props.onClose()},openAppPremiumPackagePicker:function(){var e=this.props.superApp,t={origin:"TooltipUpgradeLink",app_id:e.appDefId,app_name:e.appName};this.getEditorAPI().bi.event(i.events.UPGRADE_CLICK,t),e.openAppPremiumPackagePicker(this.getEditorAPI())},render:a})}),define("superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlide.rt",["react","lodash","util","baseUI","santa-editor-symbols"],function(e,t,s,n,i){"use strict";return function(){return e.createElement("div",{className:"welcome-slide"},e.createElement("div",{className:"close",onClick:this.onClose},e.createElement(i.symbol,{name:"headerCloseButton",className:"headerCloseButton"})),e.createElement(i.symbol,{className:"installed-image",name:this.props.installedImage}),e.createElement("h1",{className:"title"},s.translate(this.props.title)),e.createElement("p",{className:"sub-title"},s.translate(this.props.details)),this.props.teaser?e.createElement("p",{key:"teaser"},s.translate(this.props.teaser)):null,e.createElement(n.button,{label:this.props.nextButtonLabel,onClick:this.onNextClick,className:"welcome-add-btn"}))}}),define("superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlide",["lodash","create-react-class","prop-types","core","superAppMenuInfra/bi/superAppBi","superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlide.rt"],function(e,t,s,n,i,r){"use strict";return t({displayName:"WelcomeSlide",mixins:[n.mixins.editorAPIMixin],propTypes:{onClose:s.func.isRequired,nextSlide:s.func.isRequired,title:s.string.isRequired,type:s.string.isRequired,details:s.string.isRequired,nextButtonLabel:s.string.isRequired,teaser:s.string,installedImage:s.string.isRequired},onNextClick:function(){var e=this.props.superApp,t={app_id:e.appDefId,app_name:e.appName};this.getEditorAPI().bi.event(i.events.firstTimeTour[this.props.type].STEP_2_WELCOME_CONTINUE_CLICK,t),this.props.nextSlide()},onClose:function(){var e=this.props.superApp,t={app_id:e.appDefId,app_name:e.appName};this.getEditorAPI().bi.event(i.events.firstTimeTour[this.props.type].STEP_2_WELCOME_CLOSE_CLICK,t),this.props.onClose()},render:r})}),define("superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlideWithNavigation.rt",["react","lodash","superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlide"],function(e,t,s){"use strict";return function(){return e.createElement(s,t.assign({},{type:"template"},this.filteredProps()))}}),define("superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlideWithNavigation",["lodash","create-react-class","prop-types","core","util","superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlideWithNavigation.rt"],function(e,t,s,n,i,r){"use strict";return t({displayName:"WelcomeSlideWithNavigation",mixins:[n.mixins.editorAPIMixin,i.propTypesFilterMixin],propTypes:{superAppMainPageId:s.string.isRequired,isFirstSlide:s.bool.isRequired},componentDidMount:function(){(this.props.isFirstSlide||this.getEditorAPI().dsRead.pages.getFocusedPageId()!==this.props.superAppMainPageId)&&this._navigateToAppMainPage()},_navigateToAppMainPage:function(){return this.getEditorAPI().pages.navigateTo(this.props.superAppMainPageId)},render:r})}),define("superAppMenuInfra",["superAppMenuInfra/panels/superAppPanel","superAppMenuInfra/utils/button","superAppMenuInfra/panels/firstTimeTour/slides/getStartedSlide","superAppMenuInfra/panels/firstTimeTour/slides/installAppSlide","superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlide","superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlideWithNavigation"],function(e,t,s,n,i,r){"use strict";return{superAppPanel:e,firstTimeTourPanels:{getStartedSlide:s,installAppSlide:n,welcomeSlide:i,welcomeSlideWithNavigation:r},button:t}});
//# sourceMappingURL=superAppMenuInfra.min.js.map