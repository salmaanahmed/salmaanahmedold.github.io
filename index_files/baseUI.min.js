var _createClass=function(){function i(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,s){return t&&i(e.prototype,t),s&&i(e,s),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,s=Array(e.length);t<e.length;t++)s[t]=e[t];return s}return Array.from(e)}function _defineProperty(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}define("baseUI/panelInputs/inputMixin",["prop-types","lodash","util"],function(e,t,s){"use strict";return{mixins:[s.propTypesFilterMixin],propTypes:{label:e.string,disabled:e.bool,value:e.any,onChange:e.func,valueLink:s.valueLink.valueLinkPropType},hasLabel:function(){return void 0!==this.props.label&&0<this.props.label.trim().length},getLabel:function(){return void 0!==this.props.label?this.props.label:""},isDisabled:function(){return!0===this.props.disabled},getClassName:function(e){return s.inheritClassName(this.props,e)}}}),define("baseUI/panelInputs/registerDocumentEventsMixin",["lodash","zepto"],function(i,n){"use strict";var s={MOUSE_UP:"mouseup",MOUSE_MOVE:"mousemove"};return{componentWillMount:function(){this.documentEventListeners={}},componentWillUnmount:function(){(function(){var s=n(window.document);i.forEach(this.documentEventListeners,i.bind(function(e,t){s.off(t,e),delete this.documentEventListeners[t]},this))}).call(this)},registerEventListenersToDocument:function(e,t){i.includes(s,e)&&(this.removeEventListenersFromDocument(e),this.documentEventListeners[e]=t,n(window.document).on(e,t))},removeEventListenersFromDocument:function(e){var t=this.documentEventListeners[e];t&&(n(window.document).off(e,t),delete this.documentEventListeners[e])}}}),define("baseUI/mixins/classNameMixin",[],function(){"use strict";return{generateClassName:function(e){e=e||"";var t=this.props.className;return t&&(e+=" "+t),e}}}),define("baseUI/mixins/reportUIChangeMixin",["prop-types"],function(e){"use strict";return{contextTypes:{reportUIChange:e.func},reportUIChange:function(e,t){this.context.reportUIChange&&this.context.reportUIChange(t||this.constructor.displayName,this.props.instanceId||this.props.label,e)}}}),define("baseUI/controls/radioButtonsMixin",["prop-types","lodash","baseUI/panelInputs/inputMixin","baseUI/mixins/reportUIChangeMixin","util"],function(e,t,s,i,n){"use strict";var o=n.translationMixin,a=0;return{propTypes:{options:e.arrayOf(e.shape({value:e.oneOfType([e.string,e.bool,e.number]).isRequired,className:e.string}))},mixins:[s,i,o],contextTypes:{reportUIChange:e.func},getRadioGroupId:function(){return this.groupId||(this.groupId="rb_"+a++),this.groupId},handleChange:function(e,t){n.valueLink.callOnChangeIfExists(this.props,e,t),this.reportUIChange({value:e})}}}),define("baseUI/commonData/commonData",[],function(){"use strict";return{TEXT_DISPLAY_ITEMS:[{value:"titleAndDescription",label:"Gallery_Settings_Text_Display_Title_Description"},{value:"titleOnly",label:"Gallery_Settings_Text_Display_Title_Only"},{value:"descriptionOnly",label:"Gallery_Settings_Text_Display_Description_Only"},{value:"noText",label:"Gallery_Settings_Text_Display_No_Text"}],ALIGNMENT_MODES_NO_CENTER:[{value:"left",symbolName:"alignLeft"},{value:"right",symbolName:"alignRight"}],ALIGNMENT_MODES:[{value:"left",symbolName:"alignLeft"},{value:"center",symbolName:"alignCenter"},{value:"right",symbolName:"alignRight"}],ALIGNMENT_MODES_XY:[{value:"top_left",symbolName:"alignTypeTopLeft"},{value:"top",symbolName:"alignTypeTop"},{value:"top_right",symbolName:"alignTypeTopRight"},{value:"left",symbolName:"alignTypeLeft"},{value:"center",symbolName:"alignTypeCenter"},{value:"right",symbolName:"alignTypeRight"},{value:"bottom_left",symbolName:"alignTypeBottomLeft"},{value:"bottom",symbolName:"alignTypeBottom"},{value:"bottom_right",symbolName:"alignTypeBottomRight"}],TEXT_ALIGNMENT_MODES:[{value:"left",symbolName:"textAlignLeft"},{value:"center",symbolName:"textAlignCenter"},{value:"right",symbolName:"textAlignRight"}],GALLERIES_IMAGE_ON_CLICK_ACTIONS:[{value:"disabled",label:"Gallery_Settings_Image_Behavior_Image_Click_Nothing"},{value:"zoomMode",label:"Gallery_Settings_Image_Behavior_Image_Click_Expand"},{value:"goToLink",label:"Gallery_Settings_Image_Behavior_Image_Click_Gotolink"}]}}),define("baseUI/sortByDragList/dragHelper",["zepto","util"],function(u,h){"use strict";function e(e,t,s){return this._blockSelectionCssClass=e||"block-selection",this._dragPlaceholderCssClass=t||"drag-placeholder",this._dragContainerCssClass=s||"drag-container",this._body=u(window.document.body),this}return e.prototype.startDrag=function(e,t,s,i){this._startIdx=t,this._startedDrag=!1,this._movedElement=e,this._endCallback=i;var n=s.clientY+u(window).scrollTop();this._lastMouseY=n,this._deltaY=n-e.offset().top,this._body.on("mousemove.draghelper",this._onItemDrag.bind(this)),this._body.on("mouseup.draghelper",this._onItemEndDrag.bind(this)),this._body.addClass(this._blockSelectionCssClass)},e.prototype._undockAndDrag=function(){this._undockMovingItem(),this._startedDrag=!0},e.prototype._undockMovingItem=function(){var e=h.elementUtils.getOuterWidth(this._movedElement),t=h.elementUtils.getOuterHeight(this._movedElement),s=this._movedElement.parent().parent(),i=s.offset(),n=this._movedElement.offset();this._placeholder=u("<div/>"),this._placeholder.addClass(this._dragPlaceholderCssClass),this._placeholder.get(0).style.width=e+"px",this._placeholder.get(0).style.height=t+"px",this._movedContainer=u("<div/>"),this._movedContainer.addClass(this._dragContainerCssClass),this._movedContainer.get(0).style.width=e+"px",this._movedContainer.get(0).style.height=t+"px",this._movedContainer.css({top:n.top-i.top+"px",position:"absolute"}),this._movedElement.before(this._placeholder),this._movedContainer.append(this._movedElement),s.children().first().before(this._movedContainer)},e.prototype._onItemDrag=function(e){this._startedDrag||this._undockAndDrag();var t=e.clientY+u(window).scrollTop(),s=this._movedContainer.parent(),i=t-s.offset().top-this._deltaY;this._movedContainer.css("top",i+"px");var n=t<this._lastMouseY;this._lastMouseY=t;for(var o=void 0,a=s.children().last().children(),r=0;r<a.length;r++){var l=a.eq(r),p=l.offset().top,c=p+h.elementUtils.getOuterHeight(l);if(p<=t&&t<c){o=l;break}}o&&this._placeholder.get(0)===o.get(0)||(i<0&&(o=a.first()),o?n?o.before(this._placeholder):o.after(this._placeholder):a.last().after(this._placeholder))},e.prototype._onItemEndDrag=function(){if(this._body.off(".draghelper"),this._body.removeClass(this._blockSelectionCssClass),this._startedDrag){for(var e=-1,t=this._movedContainer.parent().children().last().children(),s=0;s<t.length;s++)if(this._placeholder.get(0)===t[s]){e=s;break}this._dockMovingItem(),this._startIdx!==e&&this._endCallback(this._startIdx,e)}},e.prototype._dockMovingItem=function(){var e=this._movedContainer.parent().children().last();this._placeholder.remove(),this._startIdx===e.children().length?e.append(this._movedElement):this._movedElement.insertBefore(e.children().eq(this._startIdx)),this._movedContainer.remove(),this._placeholder=void 0,this._movedContainer=void 0},e}),define("baseUI/sortByDragList/sortByDragList",["reactDOM","lodash","react","create-react-class","prop-types","zepto","baseUI/sortByDragList/dragHelper"],function(a,t,s,e,i,r,n){"use strict";return e({displayName:"SortByDragList",propTypes:{childrenTransition:i.func,transitionProps:i.object},getInitialState:function(){return this.dragHelper=new n,null},startDrag:function(e,t){if(!0!==this.props.disabled){var s=r(a.findDOMNode(this)),i=t.currentTarget,n=this.props.onItemMoved||function(){},o=s.children().children();this.props.childrenTransition&&(o=o.children()),this.dragHelper.startDrag(r(o.has(i)),e,t,n)}},render:function(){var e=t.omit(this.props,["children","disabled","onItemMoved"]);return e.style={position:"relative"},s.createElement("div",e,s.createElement("div",null,function(){return this.props.childrenTransition?s.createElement(this.props.childrenTransition,this.props.transitionProps,this.props.children):this.props.children}.call(this)))}})}),define("baseUI/controls/button.rt",["react","lodash","santa-editor-symbols","baseUILib"],function(e,t,s,i){"use strict";return function(){return e.createElement(i.Button,{className:this.props.className,disabled:this.props.disabled,onClick:this.props.onClick},this.props.icon?e.createElement(s.symbol,{key:"symbol-"+this.props.icon,className:this.props.label?"symbol-with-label":"",name:this.props.icon}):null,e.createElement("span",{},this.translateIfNeeded(this.props.label)))}}),define("baseUI/controls/button",["create-react-class","prop-types","lodash","util","baseUI/controls/button.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"Button",mixins:[i.translationMixin],propTypes:{label:t.string,className:t.string,disabled:t.bool,icon:t.string,hintId:t.string,onClick:t.func},render:n})}),define("baseUI/panelInputs/autoCompleteTextInput.rt",["react","lodash","baseUI/controls/button"],function(e,t,s){"use strict";return function(){return e.createElement("div",this.getContainerProps(),e.createElement("input",{ref:"input",type:"text",value:this.state.value,placeholder:this.props.placeholder,onKeyDown:this.onKeyDown,dir:this.props.dir,onChange:this.onChange}),this.state.value?e.createElement(s,{key:"cancel",icon:this.props.cancelIcon,onClick:this.onClickCancel}):null)}}),define("baseUI/panelInputs/autoCompleteTextInput",["reactDOM","create-react-class","prop-types","lodash","util","baseUI/panelInputs/autoCompleteTextInput.rt"],function(i,e,t,s,a,n){"use strict";return e({displayName:"autoCompleteTextInput",propTypes:{complete:t.func,onChange:t.func},getDefaultProps:function(){return{dir:"ltr"}},getInitialState:function(){return{value:"",cursor:0,hasCompletion:!1}},componentDidUpdate:function(){this.state.hasCompletion&&i.findDOMNode(this.refs.input).setSelectionRange(this.state.cursor,this.state.value.length)},getContainerProps:function(){return s.pick(this.props,["style","class","className"])},onKeyDown:function(e){8===e.keyCode&&(this.isDelete=!0),this.props.onKeyDown&&this.props.onKeyDown(e)},onChange:function(e){var t=e.target.value,s=i.findDOMNode(this.refs.input).selectionStart;this.setValue(t,s)},focus:function(){var e=i.findDOMNode(this.refs.input);e&&e.focus()},setValue:function(e,t){if(t=t||e.length,e!==this.state.value){a.valueLink.callOnChangeIfExists(this.props,e);var s=t===e.length,i=this.isDelete;this.isDelete=!1;var n=s&&!i,o=e;n&&this.props.complete&&((o=this.props.complete(e))||(n=!1,o=e)),this.setState({value:o,cursor:t,hasCompletion:n})}},onClickCancel:function(e){e.stopPropagation(),this.setValue("")},render:n})}),define("baseUI/panelInputs/inputValidationMixin",["prop-types","lodash"],function(e,o){"use strict";function a(e,t){return o.findIndex(e,function(e){return!e(t)})}return{propTypes:{validator:e.oneOfType([e.func,e.arrayOf(e.func)]),invalidMessage:e.oneOfType([e.func,e.string,e.arrayOf(e.string)]),onValidation:e.func},isValid:function(e){return!this.hasValidator()||(e=0===arguments.length?this.state.value:e,o.isArray(this.props.validator)?-1===a(this.props.validator,e):this.props.validator(e))},hasValidator:function(){return o.isFunction(this.props.validator)||o.isArray(this.props.validator)},hasValidationEventHandler:function(){return o.isFunction(this.props.onValidation)},getInvalidMessage:function(){return this.getValidationStatusMessage()},getValidationStatusMessage:function(){var e,t,s,i=this.state.value,n=this.props.invalidMessage||this.props.validationMessage;return o.isFunction(n)?n(i):o.isArray(this.props.invalidMessage)?o.isArray(this.props.validator)?(e=n,t=this.props.validator,(s=a(t,i))<0?"":e[s]):n[0]:n}}}),define("baseUI/panelInputs/inputValidationAsyncMixin",["prop-types","lodash"],function(e,t){"use strict";return{propTypes:{asyncValidator:e.oneOfType([e.func,e.arrayOf(e.objectOf(e.func)),e.arrayOf(e.func)])},isAsyncValid:function(s,i,n){if(this.hasAsyncValidator()||i(),t.isFunction(this.props.asyncValidator))this.props.asyncValidator(s,i,n);else{var o=t.size(this.props.asyncValidator),a={},r=!1;t.forEach(this.props.asyncValidator,function(e,t){e(s,function(e){e&&(a[t]=e),0==--o&&i(a)},function(e){r||(r=!0,n(e))})})}},hasAsyncValidator:function(){return!!this.props.asyncValidator}}}),define("baseUI/popovers/tooltipManager",["lodash"],function(i){"use strict";var s={},n={updateDisplayedTooltips:i.noop},e=0;function o(){return i(s).filter("isDisplayed").map("presenterData").value()}function a(e){e.isDisplayed=!1,e.presenterData.mouseLeftTargetNode=!1}return{generateId:function(){return"tooltip_"+e++},setTooltipRenderer:function(e){n=e},registerOrUpdateTooltip:function(e,t){s[e]=s[e]||{},s[e].presenterData=i.assign({},s[e].presenterData,t),s[e].isDisplayed&&n.updateDisplayedTooltips(o())},unRegisterTooltip:function(e){this.hide(e),delete s[e]},isDisplayed:function(e){return s[e]&&s[e].isDisplayed},isDisplayingAnything:function(){return i.some(s,"isDisplayed")},createTooltip:function(e,t){return t.id=t.id||this.generateId(),this.registerOrUpdateTooltip(t.id,t),e&&this.show(t.id),t.id},show:function(e){s[e]&&!s[e].isDisplayed&&(s[e].isDisplayed=!0,n.updateDisplayedTooltips(o()),s[e].presenterData.onOpen&&s[e].presenterData.onOpen())},toggle:function(e){s[e]&&(s[e].isDisplayed?this.hide(e):this.show(e))},showForDuration:function(e,t,s){this.show(e),window.setTimeout(function(){this.hide(e),i.isFunction(s)&&s()}.bind(this),t)},notifyMouseLeave:function(e){var t=s[e];t&&t.isDisplayed&&(t.presenterData.interactive?(t.presenterData.mouseLeftTargetNode=!0,n.updateDisplayedTooltips(o())):this.hide(e))},hide:function(e,t){(t=i.isFunction(t)?t:i.noop,this.isDisplayed(e))&&(a(s[e]),n.updateDisplayedTooltips(o(),t))},hideAll:function(e){i.forEach(s,function(e){a(e)}),n.updateDisplayedTooltips(o(),e)}}}),define("baseUI/popovers/tooltipEventCatcher",["lodash","react","create-react-class","prop-types"],function(t,s,e,i){"use strict";return e({displayName:"tooltipEventCatcher",propTypes:{children:i.element.isRequired},onEvent:function(e,t){this.props[e](t),this.props.children.props[e]&&this.props.children.props[e](t)},render:function(){var e=t(this.props).pickBy(function(e,t){return 0===t.indexOf("on")}).mapValues(t.bind(function(e,t){return this.onEvent.bind(this,t)},this)).value();return s.cloneElement(s.Children.only(this.props.children),e)}})}),define("baseUI/popovers/tooltip",["reactDOM","react","create-react-class","prop-types","lodash","constants","baseUI/popovers/tooltipEventCatcher","baseUI/popovers/tooltipManager"],function(t,o,e,s,a,i,r,n){"use strict";return e({displayName:"tooltip",propTypes:{id:s.string,disabled:s.bool,value:s.oneOfType([s.string.isRequired,s.node.isRequired,s.element.isRequired,s.shape({classPath:s.string.isRequired,props:s.object.isRequired})]),noArrow:s.bool,width:s.string,marginsFromElement:s.number,alignment:s.string,delay:s.oneOfType([s.number,s.string]),closeDelay:s.number,interactive:s.bool,openTriggers:s.arrayOf(s.oneOf(a.values(i.UI.TOOLTIP.TRIGGERS))),closeTriggers:s.arrayOf(s.oneOf(a.values(i.UI.TOOLTIP.TRIGGERS))),shouldTranslate:s.bool,children:s.oneOfType([s.arrayOf(s.element),s.element]).isRequired,onOpen:s.func,onClose:s.func,styleType:s.oneOf(a.values(i.UI.TOOLTIP.STYLE_TYPE)),marginsFromWindow:s.oneOfType([s.number,s.string])},getDefaultProps:function(){return{disabled:!1,alignment:i.UI.TOOLTIP.ALIGNMENT.TOP,delay:"100",width:"240px",interactive:!1,openTriggers:[i.UI.TOOLTIP.TRIGGERS.MOUSE_ENTER],closeTriggers:[i.UI.TOOLTIP.TRIGGERS.MOUSE_LEAVE,i.UI.TOOLTIP.TRIGGERS.CLICK],onOpen:a.noop,onClose:a.noop,marginsFromWindow:6,marginsFromElement:0}},getInitialState:function(){return this.id=this.props.id||n.generateId(),null},componentDidMount:function(){this.forceUpdate(),a.includes(this.props.openTriggers,i.UI.TOOLTIP.TRIGGERS.IMMEDIATE)&&this.showTooltip()},componentWillUpdate:function(e){n.registerOrUpdateTooltip(this.id,this.getPresenterData(e))},componentDidUpdate:function(e){e.id!==this.props.id&&a.includes(this.props.openTriggers,i.UI.TOOLTIP.TRIGGERS.IMMEDIATE)&&this.showTooltip()},componentWillUnmount:function(){n.unRegisterTooltip(this.id)},showTooltip:function(){var e=this.id;this.props.disabled||(this.pendingShowDelay=window.setTimeout(function(){n.show(e)},this.props.delay))},hideTooltip:function(){n.hide(this.id)},toggleTooltip:function(){n.isDisplayed(this.id)?this.hideTooltip():this.showTooltip()},handleMouseLeave:function(){window.clearTimeout(this.pendingShowDelay),n.notifyMouseLeave(this.id)},getPresenterData:function(e){return e=e||this.props,a.assign({},a.omit(e,"children"),{targetNode:t.findDOMNode(this),id:this.id})},render:function(){var e={onMouseEnter:this.showTooltip,onClick:this.showTooltip},t={onMouseLeave:this.handleMouseLeave,onClick:this.hideTooltip},s=a.pick(e,this.props.openTriggers),i=a.pick(t,this.props.closeTriggers),n=a.assign({},s,i);return s.onClick&&i.onClick&&(n.onClick=this.toggleTooltip),o.createElement(r,n,this.props.children)}})}),define("baseUI/popovers/templates/imageAndTextTooltip/imageAndTextTooltip.rt",["react","lodash","santa-editor-symbols","constants"],function(t,e,s,i){"use strict";return function(){return function(){var e=this.hasImage();return t.createElement("div",{className:"imageAndTextTooltip"},this.props.calculatedAlignment===i.UI.TOOLTIP.ALIGNMENT.TOP&&e?t.createElement("div",{key:"upperImage",className:"image-container upper-image",style:this.getImageContainerStyle()},this.props.image?t.createElement(s.symbol,{key:"image-top",name:this.props.image}):null):null,t.createElement("div",{className:"text-container "+(this.props.image?"":"text-no-image")},this.props.onClose?t.createElement(s.symbol,{className:"close",key:"closeButton",onClick:this.props.onClose,name:"bubble-close"}):null,this.props.title?t.createElement("div",{className:"title",key:"tooltipTitle"},this.translateIfNeeded(this.props.title)):null,this.props.text?t.createElement("div",{className:"text",key:"tooltipText"},this.translateIfNeeded(this.props.text)):null,this.hasLink()?t.createElement("div",{className:"learn-more",onClick:this.onLinkClick,key:"learnMore"},this.translateIfNeeded(this.props.learnMoreText),"\n        "):null),this.props.calculatedAlignment===i.UI.TOOLTIP.ALIGNMENT.BOTTOM&&e?t.createElement("div",{key:"lowerImage",className:"image-container lower-image",style:this.getImageContainerStyle()},this.props.image?t.createElement(s.symbol,{key:"image-bottom",name:this.props.image}):null):null)}.apply(this,[])}}),define("baseUI/popovers/templates/imageAndTextTooltip/imageAndTextTooltip",["create-react-class","prop-types","lodash","util","baseUI/popovers/templates/imageAndTextTooltip/imageAndTextTooltip.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"imageAndTextTooltip",propTypes:{title:t.string,text:t.string,image:t.string,imageContainerStyle:t.object,calculatedAlignment:t.string,onClose:t.func,openHelp:t.func},mixins:[i.translationMixin],onLinkClick:function(){this.props.linkAction&&this.props.linkAction(),this.props.helpId&&this.props.openHelp(i.translate(this.props.helpId))},hasImage:function(){return Boolean(this.props.image)||Boolean(this.props.imageContainerStyle)},hasLink:function(){return!!this.props.linkAction||!!this.props.helpId},getImageContainerStyle:function(){return this.props.imageContainerStyle||{}},render:n})}),define("baseUI/controls/infoIcon.rt",["react","lodash","baseUI/popovers/tooltip","santa-editor-symbols","constants"],function(e,t,s,i,n){"use strict";return function(){return e.createElement(s,{disabled:this.props.disableTooltip,ref:"tooltip",value:this.getTooltipValue(),alignment:this.props.alignment,width:this.props.tooltipWidth,interactive:this.props.interactiveTooltip},e.createElement("span",{className:this.generateClassName("info-icon"),"data-aid":this.props.automationId,style:{visibility:this.props.hidden&&"hidden"},onMouseMove:function(e){e.stopPropagation()}.bind(this),onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},e.createElement(i.symbol,{name:this.props.symbolName,onClick:function(e){this.onClick(e)}.bind(this)})))}}),define("baseUI/controls/infoIcon",["reactDOM","react","create-react-class","prop-types","lodash","constants","baseUI/popovers/templates/imageAndTextTooltip/imageAndTextTooltip","baseUI/mixins/classNameMixin","baseUI/controls/infoIcon.rt"],function(t,e,s,i,n,o,a,r,l){"use strict";return s({displayName:"infoIcon",propTypes:{title:i.string,alignment:i.string,fitToBounds:i.bool,symbolName:i.string,tooltipWidth:i.string,propagate:i.bool,openHelp:i.func,interactiveTooltip:i.bool,hidden:i.bool,automationId:i.string},mixins:[r],getDefaultProps:function(){return{alignment:o.UI.TOOLTIP.ALIGNMENT.TOP,fitToBounds:!0,symbolName:"infoIcon",interactiveTooltip:!0,hidden:!1}},getTooltipValue:function(){return e.createElement(a,n.assign({},this.props))},getTooltipsPanelBounds:function(){var e=function(e){for(var t=e;t&&t.parentElement&&!t.dataset.tooltipBounds;)t=t.parentElement;if(t)return t.getBoundingClientRect()}(t.findDOMNode(this));return{left:e?e.left:180,width:e?e.width:500}},onClick:function(e){this.props.propagate||e.stopPropagation()},showTooltip:function(){this.refs.tooltip.showTooltip()},hideTooltip:function(){this.refs.tooltip.hideTooltip()},render:l})}),define("baseUI/panelInputs/textInputCommon.rt",["react","lodash","baseUI/popovers/tooltip","constants","santa-editor-symbols","baseUI/controls/infoIcon","baseUILib"],function(e,t,s,i,n,o,a){"use strict";return function(){return e.createElement("div",t.assign({},{className:t(this.getWrapperClasses()).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.getHtmlProps()),this.hasLabel()?e.createElement("label",{key:"textInputControlTitle",className:"text-input-label"},this.translateIfNeeded(this.getLabel())):null,this.hasLabel()&&(this.props.infoText||this.props.infoTitle)?e.createElement(o,{key:"infoIcon",text:this.props.infoText,title:this.props.infoTitle,size:18}):null,this.props.isMultiLine?null:e.createElement(a.TextInput,t.assign({},{key:"input"},this.getInputProps())),this.props.isMultiLine?e.createElement(a.TextInputMultiline,t.assign({},{key:"input"},this.getInputProps())):null,e.createElement(s,{id:this.getTooltipId(),value:this.getTooltipMessage?this.getTooltipMessage():this.getValidationStatusMessage(),width:"300px",styleType:i.UI.TOOLTIP.STYLE_TYPE.SMALL,shouldTranslate:this.props.shouldTranslate,openTriggers:[],closeTriggers:[]},e.createElement("span",{className:"validation-icon-wrapper"},e.createElement("span",{className:"validation-icon validation-icon-success",onClick:this.focusInput},e.createElement(n.symbol,{name:"inputValidationSuccess"})),e.createElement("span",{className:"validation-icon validation-icon-error",onClick:this.focusInput},e.createElement(n.symbol,{name:"inputValidationError"})),e.createElement("span",{className:"validation-icon validation-icon-warning"},e.createElement(n.symbol,{name:"inputValidationWarning"})))))}}),define("baseUI/panelInputs/textInputSync",["react-addons-linked-state-mixin","lodash","create-react-class","prop-types","util","baseUI/panelInputs/inputMixin","baseUI/panelInputs/inputValidationMixin","baseUI/popovers/tooltipManager","baseUI/panelInputs/textInputCommon.rt"],function(e,i,t,s,r,n,o,l,a){"use strict";var p="props",c="input";return t({displayName:"textInputSync",propTypes:{label:s.string,type:s.string,placeholder:s.string,defaultText:s.string,maxLength:s.number,focus:s.bool,className:s.string,inputFocusTooltipMessage:s.string,isMultiLine:s.bool,infoText:s.string,infoTitle:s.string,onChangeInValidationStatus:s.func,textAreaClass:s.string,isWarning:s.bool,prefix:s.string,cancelOnBlur:s.bool,blurOnEnterKey:s.bool,selectionActionCounter:s.number},mixins:[e,n,o,r.translationMixin,r.blockOuterScrollMixin],getInitialState:function(){var e=this.getInitialValue();return this.lastValidValue=e,this.shouldDisplaySuccessIndicator=!1,{value:e,valueSrc:p,isFocused:this.props.focus}},componentWillReceiveProps:function(e){var t=r.valueLink.getValueFromProps(e),s=t!==r.valueLink.getValueFromProps(this.props),i=t!==this.state.value;s&&i&&(this.setState({value:"number"===this.props.type?t:r.stringUtils.removeNonSupportedCharacters(t),valueSrc:p}),this.isValid(t)&&(this.lastValidValue=t,this.valueOnFocus=t))},componentWillUpdate:function(e,t){var s,i,n=this;s=n.state.isFocused&&!t.isFocused,i=t.value!==n.valueOnFocus,s&&i&&n.isValid(t.value)&&(this.shouldDisplaySuccessIndicator=!0,this.hideSuccessIndicatorTimeoutID=window.setTimeout(function(){this.hideSuccessIndicatorTimeoutID=null,n.shouldDisplaySuccessIndicator=!1,n.forceUpdate()},1e3))},componentDidUpdate:function(e,t){var s=!t.isFocused&&this.state.isFocused,i=t.isFocused&&!this.state.isFocused,n=this.state.isFocused&&this.props.inputFocusTooltipMessage;s&&(this.valueOnFocus=this.lastValidValue),n&&l.show(this.getTooltipId()),i&&l.hide(this.getTooltipId());var o=this.state.value;if(t.value!==o){var a=this.isValid(o);this.hasValidationEventHandler()&&this.props.onValidation(a),a?(this.lastValidValue=o,this.state.valueSrc!==p&&r.valueLink.callOnChangeIfExists(this.props,o),n||l.hide(this.getTooltipId())):l.show(this.getTooltipId()),this.props.onChangeInValidationStatus&&this.props.onChangeInValidationStatus(a)}},componentWillUnmount:function(){this.blurTimeoutID&&(window.clearTimeout(this.blurTimeoutID),this.blurTimeoutID=null),this.hideSuccessIndicatorTimeoutID&&(window.clearTimeout(this.hideSuccessIndicatorTimeoutID),this.hideSuccessIndicatorTimeoutID=null)},getInitialValue:function(){var e=r.valueLink.getValueFromProps(this.props);return e||(this.translateIfNeeded(this.props.defaultText)||"")},getWrapperClasses:function(){var e=this.isValid(this.state.value),t={"control-text-input":!0,success:e&&this.shouldDisplaySuccessIndicator,error:!e,"instant-error":!e,warning:this.props.isWarning,"is-disabled":this.isDisabled(),focused:this.state.isFocused,"has-label":this.props.label};return this.props.className&&(t[this.props.className]=!0),t},focusInput:function(e){e&&e.preventDefault(),this.valueOnFocus=this.lastValidValue;var t=this.props.onFocus||i.noop;this.setState({isFocused:!0},t.bind(null,e))},_shouldRestoreLastValue:function(e){return e||this.props.cancelOnBlur&&!this.props.validator(this.state.value)},onBlur:function(e,t){if(this._shouldRestoreLastValue(t)){var s=this.props.onBlur||i.noop;this.lastValidValue=this.valueOnFocus,this.setState({isFocused:!1,value:this.lastValidValue,valueSrc:c},s.bind(null,e))}else this.blurTimeoutID=window.setTimeout(function(){this.blurTimeoutID=null,this.setState({isFocused:!window.document.hasFocus()})}.bind(this),0)},getInputProps:function(){return{prefix:this.props.prefix,type:this.props.type,innerInputClass:this.props.innerInputClass,value:this.state.value,onChange:this.handleChange,disabled:this.isDisabled(),placeholder:this.props.placeholder,maxLength:this.props.maxLength,spellCheck:!1,focus:this.state.isFocused,dir:this.props.dir,onFocus:this.focusInput,onBlur:this.onBlur,blurOnEnterKey:this.props.blurOnEnterKey,blurOnEscKey:this.props.blurOnEscKey,initialSelectionStart:this.props.initialSelectionStart,initialSelectionEnd:this.props.initialSelectionEnd,selectionActionCounter:this.props.selectionActionCounter}},getTooltipId:function(){return this.uniqueTooltipId||(this.uniqueTooltipId="text-input-sync-validation-error-"+i.uniqueId()),this.uniqueTooltipId},handleChange:function(e){this.setState({value:e,valueSrc:c})},getTooltipMessage:function(){var e=this.props.inputFocusTooltipMessage||"",t=this.getValidationStatusMessage();return""!==t?t:e},getHtmlProps:function(){return i.omit(this.filteredProps(),["initialSelectionStart","initialSelectionEnd","blurOnEscKey"])},render:a})}),define("baseUI/panelInputs/textInputAsync",["react-addons-linked-state-mixin","lodash","create-react-class","prop-types","util","baseUI/panelInputs/inputMixin","baseUI/panelInputs/inputValidationMixin","baseUI/panelInputs/inputValidationAsyncMixin","baseUI/popovers/tooltipManager","baseUI/panelInputs/textInputCommon.rt"],function(e,i,t,s,n,o,a,r,l,p){"use strict";return t({displayName:"textInputAsync",propTypes:{shouldTranslate:s.bool,label:s.string,type:s.string,placeholder:s.string,defaultText:s.string,maxLength:s.number,focus:s.bool,className:s.string,isMultiLine:s.bool,infoText:s.string,infoTitle:s.string,onChangeInValidationStatus:s.func,textAreaClass:s.string,isWarning:s.bool,prefix:s.string,validateOnBlurOnly:s.bool,alwaysShowInfoIcon:s.bool,blurOnEnterKey:s.bool,selectionActionCounter:s.number,validateInitialValue:s.bool},mixins:[e,o,a,r,n.translationMixin,n.blockOuterScrollMixin],getInitialState:function(){var e=this.getInitialValue();return{value:this.lastValidValue=e,validationStatus:this.ValidationStatus.NONE,isFocused:this.props.focus}},componentDidMount:function(){var e=this;this.mounted=!0,this.props.validateInitialValue&&this.props.asyncValidator&&this.props.asyncValidator(this.state.value,function(){return e.setState({validationStatus:e.ValidationStatus.SUCCESS})},function(){return e.setState({validationStatus:e.ValidationStatus.ERROR})}),this.toggleTooltip()},componentWillReceiveProps:function(e){var t=n.valueLink.getValueFromProps(e);t!==n.valueLink.getValueFromProps(this.props)&&t!==this.state.value&&(this.lastValidValue=t,this.setState({value:n.stringUtils.removeNonSupportedCharacters(t)}))},componentDidUpdate:function(e,t){var s=this.state.value,i=this.state.validationStatus,n=t.isFocused&&!this.state.isFocused,o=t.validationStatus!==i,a=s!==this.lastValidValue;this.toggleTooltip(),n&&a&&this.validate(s,this.onValidationSuccess.bind(this,s),this.onValidationFailure),o&&i===this.ValidationStatus.SUCCESS&&this.onValueValid(s)},componentWillUnmount:function(){this.mounted=!1},getInitialValue:function(){var e=n.valueLink.getValueFromProps(this.props);return e||(this.translateIfNeeded(this.props.defaultText)||"")},getWrapperClasses:function(){var e={"control-text-input":!0,"always-show-info-icon":!!this.props.alwaysShowInfoIcon,success:this.state.validationStatus===this.ValidationStatus.SUCCESS,error:this.state.validationStatus===this.ValidationStatus.ERROR,warning:this.props.isWarning,"is-disabled":this.isDisabled(),focused:this.state.isFocused,"has-label":this.props.label};return this.props.className&&(e[this.props.className]=!0),e},focusInput:function(e){e&&e.preventDefault();var t=this.props.onFocus||i.noop;this.setState({isFocused:!0},t.bind(null,e))},onBlur:function(e,t){if(t){var s=this.props.onBlur||i.noop;this.setState({isFocused:!1,value:this.lastValidValue,validationStatus:this.ValidationStatus.NONE},s.bind(null,e))}else window.setTimeout(function(){this.setState({isFocused:!window.document.hasFocus()})}.bind(this),0)},ValidationStatus:{NONE:"none",SUCCESS:"success",ERROR:"error"},getInputProps:function(){return{shouldTranslate:this.props.shouldTranslate,prefix:this.props.prefix,type:this.props.type,innerInputClass:this.props.innerInputClass,value:this.state.value,onChange:this.handleChange,disabled:this.isDisabled(),placeholder:this.props.placeholder,maxLength:this.props.maxLength,spellCheck:!1,focus:this.state.isFocused,dir:this.props.dir,onFocus:this.focusInput,onBlur:this.onBlur,blurOnEnterKey:this.props.blurOnEnterKey,initialSelectionStart:this.props.initialSelectionStart,initialSelectionEnd:this.props.initialSelectionEnd,selectionActionCounter:this.props.selectionActionCounter}},getTooltipId:function(){return this.uniqueTooltipId||(this.uniqueTooltipId="text-input-async-validation-error-"+i.uniqueId()),this.uniqueTooltipId},onValidationSuccess:function(e,t){this.mounted?(this.successResultObject=t,this.setState({validationStatus:this.ValidationStatus.SUCCESS})):n.valueLink.callOnChangeIfExists(this.props,e,this.successResultObject)},onValidationFailure:function(){this.mounted&&this.setState({validationStatus:this.ValidationStatus.ERROR})},validate:function(e,t,s){this.isValid(e)?this.isAsyncValid(e,t,s):s(this.getInvalidMessage())},hideSuccessIndicator:function(){this.mounted&&this.setState({validationStatus:this.ValidationStatus.NONE})},onValueValid:function(e){this.props.alwaysShowValidationTooltip||(window.setTimeout(this.hideSuccessIndicator,1e3),l.hide(this.getTooltipId())),this.lastValidValue=e,n.valueLink.callOnChangeIfExists(this.props,e,this.successResultObject)},toggleTooltip:function(){var e=this.state.isFocused,t=this.state.validationStatus,s=this.getTooltipId();!e&&(t===this.ValidationStatus.ERROR||t===this.ValidationStatus.SUCCESS&&this.props.alwaysShowValidationTooltip)?l.show(s):l.hide(s)},handleChange:function(e){this.setState({value:e})},getHtmlProps:function(){return i.omit(this.filteredProps(),["initialSelectionStart","initialSelectionEnd","blurOnEscKey"])},render:p})}),define("baseUI/panelInputs/textInput.rt",["react","lodash"],function(t,s){"use strict";return function(){return function(){var e=this.getInputComponent();return t.createElement(e,s.assign({},{ref:"inputComp"},this.props))}.apply(this,[])}}),define("baseUI/panelInputs/textInput",["create-react-class","prop-types","lodash","baseUI/panelInputs/inputValidationMixin","baseUI/panelInputs/inputValidationAsyncMixin","baseUI/panelInputs/textInputSync","baseUI/panelInputs/textInputAsync","baseUI/panelInputs/textInput.rt"],function(e,t,s,i,n,o,a,r){"use strict";return e({displayName:"textInput",mixins:[i,n],propTypes:{label:t.string,type:t.string,placeholder:t.string,defaultText:t.string,maxLength:t.number,focus:t.bool,className:t.string,isMultiLine:t.bool,infoText:t.string,infoTitle:t.string,onChangeInValidationStatus:t.func,validateOnBlurOnly:t.bool,innerInputClass:t.string,selectionActionCounter:t.number,blurOnEnterKey:t.bool},getInputComponent:function(){return this.props.validateOnBlurOnly||this.hasAsyncValidator()?a:o},isValueValid:function(){return this.refs.inputComp.isValid()},focus:function(){this.refs.inputComp.focus()},render:r})}),define("baseUI/panelInputs/statefulInputMixin",["lodash","util","baseUI/panelInputs/inputMixin"],function(e,s,t){"use strict";return e.assign({},t,{componentWillReceiveProps:function(e){var t=s.valueLink.getValueFromProps(e);s.valueLink.getValueFromProps(this.props)!==t&&this.setState({value:t})}})}),define("baseUI/panelInputs/domainInput.rt",["react","lodash","baseUI/popovers/tooltip","constants","santa-editor-symbols"],function(e,t,s,i,n){"use strict";return function(){return e.createElement("span",{className:t({"theme-blue":"blue"===this.props.theme,"domain-input-wrapper":!0}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement("span",{className:"mini-toolbar"},e.createElement(n.symbol,{name:"addressBarMiniToolbar"})),e.createElement("div",{className:"full-domain-wrapper"+(this.state.isFocused?" focus":"")},this.props.prefix?e.createElement(s,{value:"SAVE_PUBLISH_USERNAME_TOOLTIP",key:"domainPrefix"},e.createElement("span",{ref:"prefix",className:"domain-prefix",onClick:this.reportPrefixClicked},this.props.prefix)):null,e.createElement("span",{className:"input-wrapper",onClick:this.handleDomainNameClickBI},e.createElement("input",{ref:"domain",type:"text",value:this.state.value,className:this.state.invalidMessage?"invalid":"",onFocus:function(){this.setFocusState(!0)}.bind(this),onBlur:this.handleInputBlur,onChange:this.handleChange,onKeyDown:this.handleInputKeyDown,onClick:this.reportValueClickedIfNeeded,disabled:!this.props.isEditable,spellCheck:"false"})),e.createElement(s,{className:"domain-tooltip",id:this.getTooltipId(),value:this.state.invalidMessage,alignment:i.UI.TOOLTIP.ALIGNMENT.TOP,openTriggers:[],closeTriggers:[]},e.createElement("div",{className:"tooltip-anchor"}))))}}),define("baseUI/panelInputs/domainInput",["react-addons-linked-state-mixin","reactDOM","create-react-class","prop-types","lodash","zepto","util","baseUI/panelInputs/statefulInputMixin","baseUI/popovers/tooltipManager","baseUI/panelInputs/domainInput.rt"],function(e,i,t,s,n,o,a,r,l,p){"use strict";return t({displayName:"DomainInput",propTypes:{isEditable:s.bool.isRequired,onChange:s.func,prefix:s.string,domainValidator:s.func,biHandler:s.func,theme:s.string},mixins:[e,r],getInitialState:function(){this.uniqueTooltipId=n.uniqueId();var e=a.valueLink.getValueFromProps(this.props),t={value:e,sanitizedValue:null,invalidMessage:"",isFocused:Boolean(this.props.isEditable)};return this.props.domainValidator&&n.assign(t,this.validateDomainAndGetStateToSet(e)),t},componentDidMount:function(){if(this.props.isEditable){var e=i.findDOMNode(this.refs.domain);e&&(e.focus(),e.select())}},componentWillReceiveProps:function(e){var t=a.valueLink.getValueFromProps(e);t!==this.state.value&&this.setState(this.validateDomainAndGetStateToSet(t))},componentDidUpdate:function(e,t){if(this.props.isEditable&&!e.isEditable){var s=i.findDOMNode(this.refs.domain);s&&(s.focus(),s.select())}this.state.invalidMessage?l.show(this.getTooltipId()):t.invalidMessage&&l.hide(this.getTooltipId())},componentWillUnmount:function(){l.hide(this.getTooltipId())},uniqueTooltipId:"",getTooltipId:function(){return"domain-input-validation-error"+this.uniqueTooltipId},setFocusState:function(e){this.setState({isFocused:e})},validateDomainAndGetStateToSet:function(e){var t={value:e};if(this.props.domainValidator){var s=this.props.domainValidator(e);s.success?(t.invalidMessage="",t.sanitizedValue=s.extraInfo):(t.invalidMessage=s.errorMessage,t.sanitizedValue=null)}return t},handleChange:function(e){var t=e.target.value,s=this.validateDomainAndGetStateToSet(t);this.setState(s,a.valueLink.callOnChangeIfExists(this.props,{value:s.value,sanitizedValue:s.sanitizedValue,isValid:!s.invalidMessage}))},handleInputKeyDown:function(e){switch(e.keyCode){case 13:case 27:o(i.findDOMNode(this.refs.domain)).blur(),this.setFocusState(!1)}},handleInputBlur:function(){this.setFocusState(!1),this.reportInvalidValueIfNeeded()},handleDomainNameClickBI:function(){this.props.handleDomainNameClickBI&&this.props.handleDomainNameClickBI()},reportValueClickedIfNeeded:function(){!this.props.isEditable&&n.isFunction(this.props.biHandler)&&this.props.biHandler("DISABLED_DOMAIN_PART_CLICKED")},reportPrefixClicked:function(){n.isFunction(this.props.biHandler)&&this.props.biHandler("DISABLED_DOMAIN_PART_CLICKED")},reportInvalidValueIfNeeded:function(){this.state.invalidMessage&&n.isFunction(this.props.biHandler)&&this.props.biHandler("DOMAIN_VALIDATION_ERROR")},render:p})}),define("baseUI/panelInputs/domainInputWithEditButtons.rt",["react","lodash","baseUI/controls/button","baseUI/popovers/tooltip","constants","santa-editor-symbols"],function(e,t,s,i,n,o){"use strict";return function(){return e.createElement("div",{className:"domain-input-with-buttons"},e.createElement("span",{className:"address-part"},e.createElement("span",{className:"mini-toolbar"},e.createElement(o.symbol,{name:"addressBarMiniToolbar"})),e.createElement("div",{className:"full-domain-wrapper"+(this.state.isEditingDisabled?"":" focus")},this.props.prefix?e.createElement("div",{key:"domainPrefix",ref:"prefix",className:"domain-prefix",onClick:this.reportPrefixClicked},this.props.prefix):null,e.createElement("span",{className:"input-wrapper"},e.createElement("input",{ref:"domain",type:"text",className:this.state.invalidMessage?"invalid":"",value:this.state.value,onChange:this.handleChange,onKeyDown:this.handleInputKeyDown,onClick:this.reportValueClickedIfNeeded,onBlur:this.reportInvalidValueIfNeeded,disabled:this.state.isEditingDisabled,spellCheck:"false"})),e.createElement(i,{className:"domain-tooltip",id:this.getTooltipId(),value:this.state.invalidMessage,alignment:n.UI.TOOLTIP.ALIGNMENT.TOP,openTriggers:[],closeTriggers:[]},e.createElement("div",{className:"tooltip-anchor"})))),this.props.isEditable?e.createElement("div",{key:"buttonsContainer",className:"button-container"},e.createElement(s,{className:"edit-button"+(this.shouldDisplayEditButton()?" displayed":""),label:"SAVE_SITE_SAVED_BUTTON_EDIT",onClick:this.enableEditing}),e.createElement("div",{className:"dual-button-container"+(this.shouldDisplayApplyCancelButtons()?" displayed":"")},e.createElement("button",{className:"cancel-button",onClick:this.cancelEditing},e.createElement(o.symbol,{name:"x"})),e.createElement("button",{className:"apply-button",disabled:!!this.state.invalidMessage,onClick:this.applyEditing},e.createElement(o.symbol,{name:"check"})))):null)}}),define("baseUI/panelInputs/domainInputWithEditButtons",["react-addons-linked-state-mixin","reactDOM","create-react-class","prop-types","lodash","util","baseUI/panelInputs/statefulInputMixin","baseUI/popovers/tooltipManager","baseUI/panelInputs/domainInputWithEditButtons.rt"],function(e,n,t,s,i,o,a,r,l){"use strict";return t({displayName:"domainInputWithEditButtons",mixins:[e,a],propTypes:{isEditable:s.bool.isRequired,prefix:s.string,domainValidator:s.func,domainHandler:s.func,biHandler:s.func},uniqueTooltipId:"",getInitialState:function(){return this.uniqueTooltipId=i.uniqueId(),{isEditingDisabled:!0,value:o.valueLink.getValueFromProps(this.props),invalidMessage:null}},getTooltipId:function(){return"domain-input-validation-error"+this.uniqueTooltipId},enableEditing:function(e){var n=this;e.stopPropagation();this.setState({isEditingDisabled:!1},function(){for(var e,t=arguments.length,s=Array(t),i=0;i<t;i++)s[i]=arguments[i];return(e=o.valueLink).callOnChangeIfExists.apply(e,[n.props].concat(s))}),this.props.biHandler("DOMAIN_EDIT_CLICKED")},validateSiteName:function(e){return o.valueLink.getValueFromProps(this.props)!==e&&this.props.domainValidator?this.props.domainValidator(e):{success:!0}},handleChange:function(e){var t=e.target.value,s=this.validateSiteName(t);this.setState({value:t,invalidMessage:s.success?null:s.errorMessage})},handleInputKeyDown:function(e){switch(e.keyCode){case 13:this.state.invalidMessage||this.applyEditing();break;case 27:this.cancelEditing()}},getSanitizedSiteName:function(e){return e===o.valueLink.getValueFromProps(this.props)?e:this.props.domainValidator(e).extraInfo},wasSiteNameChangedByUser:function(e){return e!==o.valueLink.getValueFromProps(this.props)},updateSiteName:function(e,t,s){this.props.domainHandler?this.props.domainHandler(e,t,s):t(),o.browserUtil.setTabTitle(o.browserUtil.getEditorTitleBySiteName(e))},cancelEditing:function(){var e=this,t=o.valueLink.getValueFromProps(this.props),s={isEditingDisabled:!0,value:t,invalidMessage:null};this.setState(s,function(){return o.valueLink.callOnChangeIfExists(e.props,t)}),this.props.biHandler("DOMAIN_EDIT_CANCEL_CLICKED")},applyEditing:function(){var e=this,i=this,t=this.getSanitizedSiteName(this.state.value);this.wasSiteNameChangedByUser(t)?this.updateSiteName(t,function(){var e={isEditingDisabled:!0,value:t};i.setState(e,function(){return o.valueLink.callOnChangeIfExists(i.props,t)})},function(e){var t={};if(e)t={isEditingDisabled:!1,invalidMessage:e},i.setState(t);else{var s=o.valueLink.getValueFromProps(i.props);t={isEditingDisabled:!0,value:s},i.setState(t,function(){return o.valueLink.callOnChangeIfExists(i.props,s)})}}):this.setState({isEditingDisabled:!0,value:t},function(){return o.valueLink.callOnChangeIfExists(e.props,t)}),this.props.biHandler("DOMAIN_EDIT_SAVE_CLICKED")},shouldDisplayEditButton:function(){return this.props.isEditable&&this.state.isEditingDisabled},shouldDisplayApplyCancelButtons:function(){return this.props.isEditable&&!this.state.isEditingDisabled},componentDidUpdate:function(e,t){if(!this.state.isEditingDisabled&&t.isEditingDisabled){var s=n.findDOMNode(this.refs.domain);s&&(s.focus(),s.select())}else if(this.state.isEditingDisabled&&!t.isEditingDisabled){var i=n.findDOMNode(this.refs.domain);i.selectionEnd=0,i.blur()}this.state.invalidMessage?r.show(this.getTooltipId()):t.invalidMessage&&r.hide(this.getTooltipId())},reportPrefixClicked:function(){this.props.biHandler("DISABLED_DOMAIN_PART_CLICKED")},reportValueClickedIfNeeded:function(){this.state.isEditingDisabled&&this.props.biHandler("DISABLED_DOMAIN_PART_CLICKED")},reportInvalidValueIfNeeded:function(){this.state.invalidMessage&&this.props.biHandler("DOMAIN_VALIDATION_ERROR")},render:l})}),define("baseUI/panelInputs/proportionsSlider.rt",["react","lodash","santa-editor-symbols","baseUI/popovers/tooltip"],function(s,e,i,n){"use strict";return function(){return s.createElement.apply(this,["div",{className:"proportions-slider",style:{width:this.props.width}},e.map(this.getProportions(),function(e,t){return s.createElement("div",{key:"column-"+t,className:"column",style:{width:e+"%"}},s.createElement("div",{className:"label"},e,"%"),0!==t?s.createElement(n,{value:"STRIP_CONTAINER_LAYOUTS_CUSTOMIZE_PROPORTIONS_TOOLTIP",key:"divider-"+t},s.createElement("span",{className:"divider",onMouseDown:this.onDividerStartDrag.bind(this,t)},s.createElement(i.symbol,{name:"proportionsSliderDivider"}))):null)}.bind(this))])}}),define("baseUI/panelInputs/proportionsSlider",["create-react-class","prop-types","lodash","zepto","util","baseUI/panelInputs/inputMixin","baseUI/panelInputs/proportionsSlider.rt"],function(e,t,a,s,o,i,n){"use strict";return e({displayName:"proportionsSlider",mixins:[i],propTypes:{width:t.number,value:t.array},getInitialState:function(){var n=this;return this.throttleCallOnChangeIfExists=a.debounce(function(){for(var e,t=arguments.length,s=Array(t),i=0;i<t;i++)s[i]=arguments[i];return(e=o.valueLink).callOnChangeIfExists.apply(e,[n.props].concat(s))},300),{proportions:o.valueLink.getValueFromProps(this.props)}},componentWillReceiveProps:function(e){this.setState({proportions:o.valueLink.getValueFromProps(e)})},getDefaultProps:function(){return{value:[50,50],width:100}},getProportions:function(){var e=this.state.proportions,t=100-a.sum(e);return t&&(e[0]+=t),e},updateProportions:function(e){a.isEqual(e,this.getProportions())||(this.setState({proportions:e}),this.throttleCallOnChangeIfExists(e))},updateDividerPosition:function(e,t,s){var i=a.clone(e),n=i[t]-s,o=i[t-1]+s;5<=n&&5<=o&&(i[t]=n,i[t-1]=o,this.updateProportions(i))},onDividerStartDrag:function(e,t){t.preventDefault(),this.dragInfo={index:e,x:t.pageX,proportions:this.getProportions()},s(window.document).on("mousemove",this.onDividerDrag),s(window.document).on("mouseup",this.onDividerEndDrag)},onDividerDrag:function(e){if(e.preventDefault(),this.dragInfo){var t=e.pageX-this.dragInfo.x,s=Math.round(100*t/this.props.width);this.updateDividerPosition(this.dragInfo.proportions,this.dragInfo.index,s)}},onDividerEndDrag:function(e){e.preventDefault(),delete this.dragInfo,s(window.document).off("mousemove",this.onDividerDrag),s(window.document).off("mouseup",this.onDividerEndDrag)},render:n})}),define("baseUI/panelInputs/radioGroup.rt",["react","lodash","util"],function(i,e,n){"use strict";return function(){return i.createElement.apply(this,["span",{},i.createElement("span",{ref:"label",className:"label"},this.translateIfNeeded(this.getLabel())),e.map(this.props.options,function(e,t,s){return function(e,t){var s=n.valueLink.getValueFromProps(this.props);return i.createElement("label",{key:"label"+t},i.createElement("input",{ref:"radio_"+t,type:"radio",name:this.getRadioGroupId(),onClick:function(e,t,s){this.handleOnRadioSelect(e.value)}.bind(this,e,t,s),onMouseOver:function(e,t,s){this.handleOnMouseOver(e.value)}.bind(this,e,t,s),onChange:function(e,t,s){this.handleChange(e.value)}.bind(this,e,t,s),checked:s===e.value}),i.createElement("span",{ref:"option_"+t,className:"option"},this.translateIfNeeded(e.label)))}.apply(this,[e,t])}.bind(this))])}}),define("baseUI/panelInputs/radioGroup",["create-react-class","prop-types","lodash","baseUI/panelInputs/inputMixin","util","baseUI/panelInputs/radioGroup.rt"],function(e,t,s,i,n,o){"use strict";var a=0;return e({displayName:"RadioGroup",propTypes:{options:t.arrayOf(t.shape({label:t.string.isRequired,value:t.string.isRequired}))},mixins:[i,n.translationMixin],getRadioGroupId:function(){return this.groupId||(this.groupId="rg_"+a++),this.groupId},handleChange:function(e){n.valueLink.callOnChangeIfExists(this.props,e)},handleOnMouseOver:function(e){s.has(this.props,"onMouseOver")&&this.props.onMouseOver(e)},handleOnRadioSelect:function(e){s.has(this.props,"onRadioSelect")&&this.props.onRadioSelect(e)},render:o})}),define("baseUI/panelInputs/radioList.rt",["react","lodash","santa-editor-symbols","baseUI/controls/infoIcon","util"],function(i,e,n,t,o){"use strict";return function(){return i.createElement.apply(this,["div",{className:"control-radio-list"},this.props.label?i.createElement("div",{className:"title",key:"label"},this.translateIfNeeded(this.props.label)):null,this.hasLabel()&&(this.props.infoText||this.props.infoText)?i.createElement(t,{key:"tooltip",title:this.props.infoTitle,text:this.props.infoText,size:18}):null,e.map(this.props.options,function(e,t,s){return function(e,t){var s=o.valueLink.getValueFromProps(this.props);return i.createElement("label",{className:e.className+(this.props.highlightOnHover?" highlight-on-hover":""),key:e.value},i.createElement("input",{type:"radio",name:this.getRadioGroupId(),value:e.value,checked:e.value===s,onChange:function(e,t,s){this.handleChange(e.value)}.bind(this,e,t,s)}),i.createElement("span",{}),e.symbolName?i.createElement("div",{key:"symbol",className:e.symbolClass},i.createElement("div",{},i.createElement(n.symbol,{name:e.symbolName}))):null,i.createElement("span",{},this.translateIfNeeded(e.label)))}.apply(this,[e,t])}.bind(this))])}}),define("baseUI/panelInputs/radioList",["create-react-class","lodash","baseUI/controls/radioButtonsMixin","baseUI/panelInputs/radioList.rt"],function(e,t,s,i){"use strict";return e({displayName:"RadioList",mixins:[s],render:i})}),define("baseUI/panelInputs/buttonGroup.rt",["react","lodash","util"],function(i,t,s){"use strict";return function(){return function(){var e=s.valueLink.getValueFromProps(this.props);return i.createElement.apply(this,["span",this.topLevelProps,i.createElement("span",{className:"label"},this.getLabel()),t.map(this.props.options,function(e,t,s){return i.createElement("div",{onClick:function(e,t,s){this.handleClick(s)}.bind(this,e,t,s)},i.createElement("span",{className:"option"},t.label," ",e===t.value?"selected":""))}.bind(this,e))])}.apply(this,[])}}),define("baseUI/panelInputs/buttonGroup",["create-react-class","lodash","util","baseUI/panelInputs/inputMixin","baseUI/panelInputs/buttonGroup.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"ButtonGroup",mixins:[i],handleClick:function(e){var t=this.props.options[e];s.valueLink.callOnChangeIfExists(this.props,t.value)},render:n})}),define("baseUI/mixins/mediaServicesMixin",["prop-types"],function(e){"use strict";return{contextTypes:{mediaServices:e.object},getMediaServices:function(){return this.context.mediaServices}}}),define("baseUI/panelInputs/changeMediaInput.rt",["react","lodash","santa-editor-symbols","baseUI/controls/button"],function(e,t,s,i){"use strict";return function(){return e.createElement("div",{className:"media-button"},e.createElement(i,this.getButtonProps()),this.hasFile()?e.createElement("div",{key:"hasfile",className:"media-button-filename-text"},e.createElement("span",{className:"wrapper"},this.props.value,e.createElement(s.symbol,{name:"inputValidationSuccess"}))):null)}}),define("baseUI/panelInputs/changeMediaInput",["create-react-class","prop-types","lodash","util","baseUI/mixins/mediaServicesMixin","baseUI/panelInputs/changeMediaInput.rt","baseUI/panelInputs/inputMixin"],function(e,t,s,o,i,n,a){"use strict";var r={Image:"IMAGE",SingleAudioPlayer:"MUSIC",AudioPlayer:"MUSIC",Default:"DOCUMENT",Flash:"FLASH"},l={MULTIPLE:"multiple",SINGLE:"single"};return e({displayName:"changeMediaButton",mixins:[a,i],propTypes:{mediaType:t.oneOf(s.keys(r)),buttonLabelWithItems:t.string,buttonLabelWithoutItems:t.string,value:t.string,selectionType:t.oneOf(s.values(l)),mediaManagerHeaderLabel:t.string,mediaManagerButtonLabel:t.string,mediaManagerBiLabel:t.string,onClick:t.func},getButtonLabel:function(){return this.hasFile()?this.props.buttonLabelWithItems:this.props.buttonLabelWithoutItems},getDefaultProps:function(){return{mediaType:"Default",buttonLabelWithItems:"CHANGE_MEDIA",buttonLabelWithoutItems:"ADD_MEDIA",selectionType:"multiple"}},openMediaFrame:function(){var s=this;this.props.onClick&&this.props.onClick();var i=this.getMediaServices(),e=i.mediaManager,t=[r[this.props.mediaType]];this.props.mediaManagerBiLabel&&t.push(this.props.mediaManagerBiLabel);var n=void 0;(this.props.mediaManagerHeaderLabel||this.props.mediaManagerButtonLabel)&&((n={}).title=o.translate(this.props.mediaManagerHeaderLabel),n.submitButton=o.translate(this.props.mediaManagerButtonLabel)),t.push({translation:n,callback:function(e,t){s.onClose(e,t),i.setFocusToEditor()},multiSelect:this.props.selectionType===l.MULTIPLE}),e.open.apply(e,t)},getButtonProps:function(){var e={className:"btn-confirm-secondary upload-button no-margin",onClick:this.openMediaFrame,label:this.getButtonLabel()};return this.hasFile()&&(e.icon="organizeImagesIcon",e.className+=" has-file"),e},onClose:function(e){var t;e&&(t=o.valueLink).callOnChangeIfExists.apply(t,[this.props].concat(Array.prototype.slice.call(arguments)))},hasFile:function(){return this.props.value},render:n})}),define("baseUI/panelInputs/thumbnailSlider.rt",["react","lodash","santa-editor-symbols","util"],function(s,e,t,i){"use strict";return function(){return s.createElement("div",{className:"control-thumbnailsSlider",style:{width:this.props.width+"px"}},s.createElement.apply(this,["div",{className:"itemsContainer",style:{left:"-"+this.state.position+"px"}},e.map(this.props.items,function(e,t){return s.createElement("label",{"data-aid":e.value,key:e.value},s.createElement("input",{type:"radio",name:this.getRadioGroupId(),checked:e.value===i.valueLink.getValueFromProps(this.props),onChange:function(e,t){this.handleChange(e.value)}.bind(this,e,t)}),s.createElement("img",{src:i.media.getMediaUrl(e.iconSrc)}))}.bind(this))]),this.state.isLeftEdge?null:s.createElement("div",{className:"left arrow",key:"left",onMouseDown:this.startLeft,onMouseUp:this.endLeft},s.createElement("span",{})),this.state.isRightEdge?null:s.createElement("div",{className:"right arrow",key:"right",onMouseDown:this.startRight,onMouseUp:this.endRight},s.createElement("span",{})))}}),define("baseUI/panelInputs/thumbnailSlider",["reactDOM","create-react-class","prop-types","lodash","zepto","util","baseUI/controls/radioButtonsMixin","baseUI/panelInputs/thumbnailSlider.rt"],function(e,t,s,i,l,n,o,a){"use strict";function r(e){if(this.state.position!==e){var t=e-this.state.position,s=this.state.distanceToScroll-t;this.setState({position:e,distanceToScroll:s,isLeftEdge:0===e,isRightEdge:0===s})}}function p(){0!==this.state.distanceToScroll?function(){var e=Math.min(this.state.distanceToScroll,this.props.stepWidth),t=this.state.position+e;r.call(this,t)}.call(this):this.endRight()}function c(){0!==this.state.position?function(){var e=Math.min(this.state.position,this.props.stepWidth),t=this.state.position-e;r.call(this,t)}.call(this):this.endLeft()}return t({displayName:"thumbnailSlider",propTypes:{items:s.array.isRequired,width:s.number,stepWidth:s.number,selectedItemOffset:s.number},mixins:[o,n.imagesContainerMixin],getDefaultProps:function(){return{width:400,stepWidth:96,selectedItemOffset:50}},getInitialState:function(){return{}},componentDidMount:function(){this.focusOnSelectedSkin()},componentWillUnmount:function(){window.clearInterval(this.moveInterval)},moveInterval:void 0,focusOnSelectedSkin:function(){var r=e.findDOMNode(this);this.afterImagesLoad(function(){var e=r.scrollWidth-r.clientWidth,t=l(r).find("input:checked").parent().position(),s=t?t.left:0,i=Math.max(s-this.props.selectedItemOffset,0),n=Math.min(e,i),o=e-n,a=l(r).find(".itemsContainer");a.css({"margin-top":-a.height()/2,visibility:"visible"}),this.setState({position:n,distanceToScroll:o,isRightEdge:0===o,isLeftEdge:0===n})}.bind(this),l(r))},getPosition:function(){return this.state.position},startRight:function(){p.apply(this),this.moveInterval=window.setInterval(p.bind(this),200)},endRight:function(){window.clearInterval(this.moveInterval),this.props.afterMoveRight()},startLeft:function(){c.apply(this),this.moveInterval=window.setInterval(c.bind(this),200)},endLeft:function(){window.clearInterval(this.moveInterval),this.props.afterMoveLeft()},render:a})}),define("baseUI/panelInputs/labelWithCircleButton.rt",["react","lodash","baseUI/popovers/tooltip","baseUI/controls/infoIcon","baseUI/controls/button","util","santa-editor-symbols","baseUILib"],function(t,s,e,i,n,o,a,r){"use strict";return function(){return function(){var e=o.translate;return t.createElement("div",{className:o.inheritClassName(this.props,"label-with-circle-button"+(this.props.isDisabled?" disabled":""))},this.props.label?t.createElement("label",{key:"linkToLabel",className:s({"with-button":this.props.showButton}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},"\n        ",e(this.props.label),"\n    "):null,this.props.infoIconText?t.createElement(i,{key:"linkToIconInfo",className:"link-to-icon-info",text:this.props.infoIconText,title:this.props.infoIconTitle}):null,t.createElement("div",{className:"container-action"},t.createElement(r.ActionWithSymbol,{action:this.props.onClick,symbol:this.getSymbol(),disabled:this.props.isDisabled},t.createElement(r.TextLabel,{value:this.props.displayedValue,shouldTranslate:!1}))))}.apply(this,[])}}),define("baseUI/panelInputs/labelWithCircleButton",["react","create-react-class","prop-types","lodash","constants","santa-editor-symbols","baseUI/panelInputs/labelWithCircleButton.rt"],function(e,t,s,i,n,o,a){"use strict";var r={name:"inputValidationSuccess",className:"validation-icon validation-icon-success"};return t({displayName:"labelWithCircleButton",propTypes:{isDisabled:s.bool,displayedValue:s.string.isRequired,label:s.string,onClick:s.func.isRequired,buttonIcon:s.string,showButton:s.bool,showSuccessSymbol:s.bool,infoIconText:s.string,infoIconTitle:s.string,eventsToShowButtonTooltip:s.array,eventsToHideButtonTooltip:s.array,tooltipText:s.string,tooltipWidth:s.number,tooltipStyle:s.oneOf(i.values(n.UI.TOOLTIP.STYLE_TYPE))},getDefaultProps:function(){return{showButton:!0}},getSymbol:function(){return this.props.showSuccessSymbol?e.createElement(o.symbol,r):this.props.showButton?"linkBtnThin"!==this.props.buttonIcon?e.createElement(o.symbol,{name:this.props.buttonIcon}):void 0:null},render:a})}),define("baseUI/panelInputs/media/wixStaticMediaMixin",["lodash","reactDOM","util"],function(a,t,r){"use strict";return{getInitialState:function(){return this.defaultPanelWidth=288,this.defaultPanelHeight=155,{}},componentDidMount:function(){var e=t.findDOMNode(this).getBoundingClientRect();this.containerWidth=e.width,this.containerHeight=e.height},getImageTransformData:function(e,t){var s=this.containerWidth||this.defaultPanelWidth,i=this.containerHeight||this.defaultPanelHeight,n=a.assign({width:s,height:i},e),o=r.imageTransform.getFromImageData(n,s,i,t||r.imageTransform.getImageScale(n,s,i),r.imageTransform.alignTypes.CENTER,"bg");return{url:o.uri,css:o.css.container}},getEmptyImageData:function(){return{uri:"",width:0,height:0,title:"",originalImageDataRef:""}}}}),define("baseUI/popovers/bubblePositioning",["lodash","util","constants"],function(D,e,O){"use strict";return{create:function(T,c,u,C,N,S,x,s){var k=[O.UI.TOOLTIP.ALIGNMENT.BOTTOM,O.UI.TOOLTIP.ALIGNMENT.TOP],U=O.UI.BUBBLE.DISTANCE_FROM_TARGET,L=e.math.ensureWithinLimits,M=function(){var e=w(),t=Math.floor(e.target.left+e.target.width/2);return s&&s.type===O.UI.TOOLTIP.ALIGNMENT.LEFT?t-s.value:s&&s.type===O.UI.TOOLTIP.ALIGNMENT.RIGHT?t+s.value-e.self.width:null},P=function(){var e=w(),t=Math.floor(e.target.top+e.target.height/2);return s&&s.type===O.UI.TOOLTIP.ALIGNMENT.TOP?t-s.value:s&&s.type===O.UI.TOOLTIP.ALIGNMENT.BOTTOM?t+s.value-e.self.height:null},w=function(){return{window:{width:T(window).width(),height:T(window).height()},target:u.getBoundingClientRect(),self:c.getBoundingClientRect()}};return{getPosition:function(){var e,t,s,i,n,o,a,r,l,p,c,u,h,d,m,g,f,b,v,y,I=D.includes(k,S),E={top:0,left:0};return E.left=I?(E.top=(m=w(),f=(g=0)<m.target.top-U-m.self.height,b=m.target.bottom+U+m.self.height<m.window.height,v=S===O.UI.TOOLTIP.ALIGNMENT.TOP,y=S===O.UI.TOOLTIP.ALIGNMENT.BOTTOM,v&&f||y&&!b?(g=m.target.top-U-m.self.height,x(O.UI.TOOLTIP.ALIGNMENT.TOP)):(g=m.target.bottom+U,x(O.UI.TOOLTIP.ALIGNMENT.BOTTOM)),g+N),c=w(),u=Math.floor(c.target.left+c.target.width/2)-c.self.width/2,h=M()||u,d=c.window.width-C-c.self.width,L(h,C,d)):(E.top=(a=w(),r=Math.floor(a.target.top+a.target.height/2)-a.self.height/2,l=P()||r,p=a.window.height-C-a.self.height,L(l,C,p)),e=w(),s=(t=0)<e.target.left-U-e.self.width,i=e.target.right+U+e.self.width<e.window.width,n=S===O.UI.TOOLTIP.ALIGNMENT.LEFT,o=S===O.UI.TOOLTIP.ALIGNMENT.RIGHT,n&&s||o&&!i?(t=e.target.left-U-e.self.width,x(O.UI.TOOLTIP.ALIGNMENT.LEFT)):(t=e.target.right+U,x(O.UI.TOOLTIP.ALIGNMENT.RIGHT)),t+N),E.top+=T(window).scrollTop()||0,E},measureArrowStyle:function(e,t){if(!e)return{display:"none"};var s=t===O.UI.TOOLTIP.STYLE_TYPE.SMALL?8:10,i=u.getBoundingClientRect(),n=void 0,o=void 0;switch(e){case O.UI.TOOLTIP.ALIGNMENT.TOP:n=i.top-U-s/2+N,o=i.left+(i.width-s)/2;break;case O.UI.TOOLTIP.ALIGNMENT.BOTTOM:n=i.top+i.height+U-s/2+N,o=i.left+(i.width-s)/2;break;case O.UI.TOOLTIP.ALIGNMENT.LEFT:n=i.top+(i.height-s)/2,o=i.left-U-s/2+N;break;case O.UI.TOOLTIP.ALIGNMENT.RIGHT:n=i.top+(i.height-s)/2,o=i.left+i.width+U-s/2+N}var a=T(c),r=T(window).scrollTop()||0,l=parseInt(a.css("left"),10)||0,p=parseInt(a.css("top"),10)||0;return{top:n-(a.offset().top-r-p),left:o-(a.offset().left-l),height:s,width:s}}}}}}),define("baseUI/popovers/bubble.rt",["react","lodash","util"],function(e,s,i){"use strict";return function(){var t=this;return e.createElement(i.outerClick,{onOuterClick:this.onOuterClick},e.createElement("div",{ref:function(e){t.rootElement=e},className:s(this.getClasses()).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),style:this.getRootStyle(),onMouseLeave:this.onMouseLeave,onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter},e.createElement("div",{className:"arrow",style:this.getArrowStyle()}),e.createElement("div",{className:"content-wrapper"},this.getContent())))}}),define("baseUI/popovers/bubble",["react","create-react-class","prop-types","lodash","zepto","util","santa-editor-utils","constants","baseUI/popovers/bubblePositioning","baseUI/popovers/bubble.rt"],function(t,e,s,i,n,o,a,r,l,p){"use strict";function c(e){return i.isString(e)?r.UI.TOOLTIP.VALUE_TYPE.STRING:e&&e.classPath&&e.props?r.UI.TOOLTIP.VALUE_TYPE.CLASS:r.UI.TOOLTIP.VALUE_TYPE.TEMPLATE}return(0,a.hoc.measuring)(e({displayName:"bubble",propTypes:{value:s.oneOfType([s.string.isRequired,s.element.isRequired,s.shape({classPath:s.string,props:s.object}).isRequired]),targetNode:s.object,mouseLeftTargetNode:s.bool,closeTriggers:s.arrayOf(s.oneOf(i.values(r.UI.TOOLTIP.TRIGGERS))),width:s.string,noArrow:s.bool,styleType:s.oneOf(i.values(r.UI.TOOLTIP.STYLE_TYPE)),marginsFromWindow:s.oneOfType([s.number,s.string]),hideMethod:s.func,timeoutForMouseOverBubble:s.number,shake:s.bool,shouldHaveTransition:s.bool,behindPopUps:s.bool,arrowColor:s.string,customClasses:s.arrayOf(s.string),onMouseEnter:s.func,onMouseLeave:s.func,closeDelay:s.number,alignment:s.oneOf(i.values(r.UI.TOOLTIP.ALIGNMENT)),marginsFromElement:s.number,overridePositionAdjustments:s.shape({type:s.oneOf(i.values(r.UI.TOOLTIP.ALIGNMENT)).isRequired,value:s.number.isRequired}),measurements:s.object.isRequired,reportMeasurements:s.func.isRequired},mixins:[o.translationMixin],getDefaultProps:function(){return{timeoutForMouseOverBubble:150,marginsFromWindow:0,closeDelay:500,alignment:r.UI.TOOLTIP.ALIGNMENT.TOP,marginsFromElement:0}},getInitialState:function(){return this.calculatedAlignment=null,{measured:!1}},componentDidMount:function(){this.props.hideMethod&&i.includes(this.props.closeTriggers,r.UI.TOOLTIP.TRIGGERS.TIMER)&&(this.pendingCloseDelay=window.setTimeout(this.props.hideMethod,this.props.closeDelay)),this.measureBubble()},componentWillReceiveProps:function(e){e.mouseLeftTargetNode&&this.hideAfterDelayIfMouseNotOverBubble()},componentDidUpdate:function(){this.measureBubble()},componentWillUnmount:function(){window.clearTimeout(this.pendingCloseDelay)},getClasses:function(){var t={"tooltip-presenter":!0};if(t["alignment-"+this.calculatedAlignment]=!0,c(this.props.value)===r.UI.TOOLTIP.VALUE_TYPE.STRING||this.props.styleType)switch(this.props.styleType){case r.UI.TOOLTIP.STYLE_TYPE.SMALL:t["small-tooltip"]=!0;break;case r.UI.TOOLTIP.STYLE_TYPE.CONTENT_ONLY:t["content-only"]=!0;break;default:t["normal-tooltip"]=!0}else t["content-only"]=!0;return this.props.shouldHaveTransition&&(t["tooltip-transition"]=!0),this.props.behindPopUps&&(t["tooltip-behind-pop-ups"]=!0),this.props.shake&&(t["tooltip-shake"]=!0),i.forEach(this.props.customClasses,function(e){t[e]=!0}),t},onOuterClick:function(e){var t=e.target;if(i.includes(this.props.closeTriggers,r.UI.TOOLTIP.TRIGGERS.OUTER_CLICK)){for(;t;){if(t===this.props.targetNode)return;t=t.parentElement||t.parentNode}this.hide()}},hide:function(){window.clearTimeout(this.pendingCloseDelay),this.props.hideMethod()},hideAfterDelayIfMouseNotOverBubble:function(){window.setTimeout(function(){this.mouseOverBubble||this.hide()}.bind(this),this.props.timeoutForMouseOverBubble)},onMouseLeave:function(){this.props.onMouseLeave&&this.props.onMouseLeave(),this.mouseOverBubble=!1,i.includes(this.props.closeTriggers,r.UI.TOOLTIP.TRIGGERS.MOUSE_LEAVE)&&this.hideAfterDelayIfMouseNotOverBubble()},onMouseEnter:function(){this.props.onMouseEnter&&this.props.onMouseEnter(),this.mouseOverBubble=!0},onMouseOver:function(){this.mouseOverBubble=!0},getContent:function(){var e=this.props.value;switch(c(e)){case r.UI.TOOLTIP.VALUE_TYPE.STRING:return t.createElement("div",{className:"content",children:this.translateIfNeeded(e)});case r.UI.TOOLTIP.VALUE_TYPE.CLASS:return t.createElement(o.lazyComponent,i.assign({moduleName:e.classPath,onModuleLoaded:this.onContentLoaded},i.assign({},e.props,{calculatedAlignment:this.calculatedAlignment})));case r.UI.TOOLTIP.VALUE_TYPE.TEMPLATE:return this.props.value}},onContentLoaded:function(){this.forceUpdate()},updateCalculatedAlignmentAndRender:function(e){this.calculatedAlignment!==e&&(this.calculatedAlignment=e,this.forceUpdate())},measureBubble:function(){var e=l.create(n,this.rootElement,this.props.targetNode,this.props.marginsFromWindow,this.props.marginsFromElement,this.props.alignment,this.updateCalculatedAlignmentAndRender,this.props.overridePositionAdjustments);this.props.reportMeasurements({position:e.getPosition(),arrowStyle:!this.props.noArrow&&e.measureArrowStyle(this.calculatedAlignment,this.props.styleType)})},getRootStyle:function(){var e={maxWidth:this.props.width};return i.isEmpty(this.props.measurements)?e:i.defaults({},this.props.measurements.position,e)},getArrowStyle:function(){return i.get(this.props,"measurements.arrowStyle")?i.defaults({position:"fixed",backgroundColor:this.props.arrowColor},this.props.measurements.arrowStyle):{}},render:p}))}),define("baseUI/popovers/tooltipPresenter.rt",["react","lodash","baseUI/popovers/bubble"],function(e,t,s){"use strict";return function(){return e.createElement(s,this.getBubbleProps())}}),define("baseUI/popovers/tooltipPresenter",["create-react-class","prop-types","lodash","baseUI/popovers/tooltipManager","baseUI/popovers/tooltipPresenter.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"tooltipPresenter",propTypes:{id:t.string,onClose:t.func},getBubbleProps:function(){return s.assign({},this.props,{hideMethod:i.hide.bind(i,this.props.id)})},componentWillUnmount:function(){this.props.onClose&&this.props.onClose()},render:n})}),define("baseUI/popovers/tooltipsRenderer.rt",["react","lodash","baseUI/popovers/bubble","baseUI/popovers/tooltipPresenter","uiAnimations"],function(s,i,e,n,t){"use strict";return function(){return s.createElement("div",{key:"tooltip-renderer-wrapper",className:"tooltips-layer"},s.createElement.apply(this,[t.tooltipAnimation,{},i.map(this.state.presentedTooltips,function(e,t){return s.createElement(n,i.assign({},{key:e.id},e))}.bind(this))]))}}),define("baseUI/popovers/tooltipsRenderer",["create-react-class","lodash","baseUI/popovers/tooltipManager","baseUI/popovers/tooltipsRenderer.rt"],function(e,t,s,i){"use strict";return e({displayName:"tooltipsRenderer",getInitialState:function(){return{presentedTooltips:[]}},componentWillMount:function(){s.setTooltipRenderer(this)},updateDisplayedTooltips:function(e,t){this.setState({presentedTooltips:e},t)},render:i})}),define("baseUI/popovers/floatingBubble.rt",["react","lodash","baseUI/popovers/bubble"],function(e,t,s){"use strict";return function(){return e.createElement("div",{},e.createElement("div",{ref:"floatingBubbleTarget",style:this.getFloatingBubbleTargetStyle()}),this.props.value&&!this.props.pinMode?e.createElement(s,t.assign({},{key:"floatingBubble",value:this.props.value,targetNode:this.floatingBubbleTarget,hideMethod:this.hideFloatingBubble},this.getFloatingBubbleProps())):null)}}),define("baseUI/popovers/floatingBubble",["reactDOM","create-react-class","prop-types","lodash","baseUI/popovers/floatingBubble.rt"],function(e,t,s,i,n){"use strict";return t({displayName:"floatingBubble",propTypes:{pinMode:s.bool,value:s.oneOfType([s.string,s.element,s.shape({classPath:s.string,props:s.object})]),targetLayout:s.object,bubbleProps:s.object,shouldNotHideOnMouseLeaveTarget:s.bool},componentWillMount:function(){this.floatingBubbleTarget=null},componentDidMount:function(){this.floatingBubbleTarget=e.findDOMNode(this.refs.floatingBubbleTarget)},componentWillUnmount:function(){this.floatingBubbleTarget=null},getFloatingBubbleTargetStyle:function(){if(!this.props.targetLayout)return{display:"none"};var e=this.props.targetLayout;return i(e).pick(["width","height","top","left"]).assign({position:"fixed"}).value()},getFloatingBubbleProps:function(){return this.props.bubbleProps||{}},render:n})}),define("baseUI/popovers/templates/quickTip/quickTip.rt",["react","lodash","util","santa-editor-symbols"],function(e,t,s,i){"use strict";return function(){return e.createElement(s.outerClick,{onOuterClick:this.onOuterClick},e.createElement("div",{className:"quick-tip"},e.createElement("div",{className:"close-quick-tip",onClick:this.closeFloatingBubble},e.createElement("span",{},e.createElement(i.symbol,{name:"bubble-close"}))),this.props.symbol?e.createElement("div",{key:"quickTipImage",className:"quick-tip-image"},e.createElement(i.symbol,{name:this.props.symbol})):null,e.createElement("div",{className:"text-container "+(this.props.symbol?"":"text-no-image")},this.props.text?e.createElement("div",{className:"text",key:"tooltipText"},"\n                ",s.translate(this.props.text),"\n            "):null,this.props.linkAction?e.createElement("div",{className:"text link-action",onClick:this.onLinkClick,onMouseEnter:this.onLinkMouseEnter,onMouseLeave:this.onLinkMouseLeave,key:"linkAction"},s.translate(this.props.linkActionText),"\n            "):null,this.props.textAfterLink?e.createElement("div",{className:"text",key:"tooltipTextAfterLink"},"\n                ",s.translate(this.props.textAfterLink),"\n            "):null)))}}),define("baseUI/popovers/templates/quickTip/quickTip",["create-react-class","prop-types","lodash","baseUI/popovers/templates/quickTip/quickTip.rt"],function(e,t,s,i){"use strict";return e({displayName:"quickTip",propTypes:{text:t.string,linkActionText:t.string,textAfterLink:t.string,linkAction:t.func,linkMouseEnter:t.func,linkMouseLeave:t.func,symbol:t.string,closeAction:t.func},onLinkClick:function(){this.props.linkAction&&this.props.linkAction()},onLinkMouseEnter:function(){this.props.linkMouseEnter&&this.props.linkMouseEnter()},onLinkMouseLeave:function(){this.props.linkMouseLeave&&this.props.linkMouseLeave()},closeFloatingBubble:function(){this.props.closeAction&&this.props.closeAction()},onOuterClick:function(e){this.props.onOuterClick&&this.props.onOuterClick(e)},render:i})}),define("baseUI/popovers/templates/iconAndText/iconAndText.rt",["react","lodash","util","santa-editor-symbols"],function(e,t,s,i){"use strict";return function(){return e.createElement("div",{className:"icon-and-text "+this.props.className},e.createElement(i.symbol,{name:this.props.icon}),e.createElement("span",{},this.props.shouldTranslate?s.translate(this.props.text):this.props.text))}}),define("baseUI/popovers/templates/iconAndText/iconAndText",["create-react-class","prop-types","baseUI/popovers/templates/iconAndText/iconAndText.rt"],function(e,t,s){"use strict";return e({displayName:"iconAndText",propTypes:{text:t.string.isRequired,icon:t.string.isRequired,shouldTranslate:t.bool},getDefaultProps:function(){return{shouldTranslate:!0,className:""}},render:s})}),define("baseUI/popovers/templates/titleBodyAndLinkTooltip/titleBodyAndLinkTooltip.rt",["react","lodash","util","santa-editor-symbols"],function(e,t,s,i){"use strict";return function(){return e.createElement("div",{className:"titleBodyAndLinkTooltip"},this.props.onClose?e.createElement(i.symbol,{className:"close",key:"closeButton",name:"bubble-close",onClick:this.props.onClose}):null,this.props.title?e.createElement("div",{className:"title",key:"title"},s.translate(this.props.title)):null,this.props.text?e.createElement("div",{className:"text",key:"text"},s.translate(this.props.text)):null,this.props.link?e.createElement("div",{className:"link",key:"link",onClick:this.onLinkClick},"\n        ",s.translate(this.props.link),"\n    "):null)}}),define("baseUI/popovers/templates/titleBodyAndLinkTooltip/titleBodyAndLinkTooltip",["create-react-class","prop-types","lodash","baseUI/popovers/templates/titleBodyAndLinkTooltip/titleBodyAndLinkTooltip.rt"],function(e,t,s,i){"use strict";return e({displayName:"titleBodyAndLinkTooltip",propTypes:{title:t.string,text:t.string,link:t.string,linkAction:t.func},onLinkClick:function(){this.props.linkAction&&this.props.linkAction()},render:i})}),define("baseUI/popovers/templates/keyboardShortcutTooltip/keyboardShortcutTooltip.rt",["react","lodash","util"],function(e,t,s){"use strict";return function(){return e.createElement("div",{className:"keyboardShortcutTooltip"},this.props.label?e.createElement("span",{className:"label",key:"label"},s.translate(this.props.label)):null,this.props.shortcut?e.createElement("span",{className:"shortcut",key:"shortcut"},"(",this.props.shortcut,")"):null)}}),define("baseUI/popovers/templates/keyboardShortcutTooltip/keyboardShortcutTooltip",["create-react-class","prop-types","lodash","baseUI/popovers/templates/keyboardShortcutTooltip/keyboardShortcutTooltip.rt"],function(e,t,s,i){"use strict";return e({displayName:"keyboardShortcutTooltip",propTypes:{label:t.string,shortcut:t.string},getInitialState:function(){return{}},render:i})}),define("baseUI/popovers/templates/popoverTemplates",["baseUI/popovers/templates/quickTip/quickTip","baseUI/popovers/templates/imageAndTextTooltip/imageAndTextTooltip","baseUI/popovers/templates/iconAndText/iconAndText","baseUI/popovers/templates/titleBodyAndLinkTooltip/titleBodyAndLinkTooltip","baseUI/popovers/templates/keyboardShortcutTooltip/keyboardShortcutTooltip"],function(e,t,s,i,n){"use strict";return{quickTip:e,imageAndTextTooltip:t,iconAndText:s,titleBodyAndLinkTooltip:i,keyboardShortcutTooltip:n}}),define("baseUI/panelInputs/richTextParagraph.rt",["react","lodash"],function(s,e){"use strict";return function(){return s.createElement("div",{},this.props.paragraphTitle?s.createElement("div",{key:"title",className:"rich-text-paragraph-title"},"\n        ",this.props.paragraphTitle,"\n    "):null,s.createElement.apply(this,["div",{className:"rich-text-paragraph-content"},e.map(this.props.paragraphTextChunks,function(e,t){return s.createElement("span",{style:e.style},e.text)}.bind(this))]))}}),define("baseUI/panelInputs/richTextParagraph",["create-react-class","prop-types","lodash","baseUI/panelInputs/richTextParagraph.rt"],function(e,t,s,i){"use strict";return e({displayName:"RichTextParagraph",propTypes:{paragraphTitle:t.string,paragraphTextChunks:t.array},render:i})}),define("baseUI/panelInputs/dropDown/dropdownManager",["reactDOM","lodash"],function(u,s){"use strict";var h={optionsComponent:null,selectedIndex:null,currentDropdown:null,currentOptionsList:null,hoveredOption:null,isOptionsVisible:!1,blurEnabled:!0},t=[37,38,39,40];return{INDENT_FROM_EDGE:12,DEFAULT_SCROLL_SPEED:5,MIN_LIST_HEIGHT:180,KEYBOARD_CONTEXT:"dropdown",SCROLL_KEYS:t,setState:function(e,t){return"string"==typeof e?h[e]=t:"object"===(void 0===e?"undefined":_typeof(e))&&s.forEach(e,function(e,t){h[t]=e}),h},reset:function(){this.setState({optionsComponent:null,selectedIndex:null,currentDropdown:null,currentOptionsList:null,hoveredOption:null,isOptionsVisible:!1})},registerOptionsComponent:function(e){this.setState("optionsComponent",e)},addOption:function(e){s.includes(h.currentOptionsList,e)||h.currentOptionsList.push(e)},show:function(e){var t=h.optionsComponent;if(t){this.registerOuterClick();var s=e.getData();this.setState({selectedIndex:s.selectedIndex,currentDropdown:e,currentOptionsList:[],isOptionsVisible:!0}),this.disableBrowserScroll(),e.setExpanded(!0),t.show(s)}},hide:function(){var e=h.currentDropdown;this.hideOptions(),this.focus(u.findDOMNode(e)),e.setExpanded(!1)},hideOptions:function(){this.setState("isOptionsVisible",!1),this.unregisterOuterClick(),this.setHovered(null),this.enableBrowserScroll(),h.optionsComponent.hide()},getOptionsLocation:function(){var e=h.optionsComponent,t=h.currentDropdown,s=t.getDDEl(),i=e.getOptionsListEl(),n=u.findDOMNode(h.currentOptionsList[t.state.selectedIndex]),o=e.getFooterEl();return t.getOptionsLocation(s,i,n,o)},select:function(e){var t=h.currentDropdown;this.hide(),t.setSelected(e.getData())},getScrollData:function(e){var t=h.optionsComponent,s=h.currentDropdown;return s.getScrollData?s.getScrollData(e,t.getOptionsEl(),t.getOptionsListEl()):null},getViewportSize:function(){return{height:window.document.documentElement.clientHeight,width:window.document.documentElement.clientWidth}},getSelectedIndex:function(){return h.selectedIndex},setHovered:function(e){h.hoveredOption&&h.hoveredOption.unhover(),e&&(e.hover(),h.currentDropdown.onHover(e.getData())),this.setState("hoveredOption",e)},onOptionsVisible:function(){h.currentDropdown.onOptionsVisible(h.optionsComponent.getOptionsListEl())},getKeyboardHandlers:function(){var p=this,c=function(e){e.preventDefault(),e.stopPropagation()},e=function(e){h.hoveredOption&&p.select(h.hoveredOption),c(e)},t=function(e){var t=e.keyCode;if(38===t||40===t){var s=void 0,i=h.hoveredOption?h.hoveredOption.props.index:h.selectedIndex;if(0<=(s=38===t?i-1:i+1)&&s<h.currentOptionsList.length){var n=h.currentOptionsList[s],o=h.optionsComponent,a=38===t,r=a?"top":"bottom",l=u.findDOMNode(n).getBoundingClientRect()[r]-o.getOptionsListEl().getBoundingClientRect()[r];p.setHovered(n),(a&&l<0||!a&&0<l)&&(o.showMouseEventsBlocker(),o.scrollBy(l))}}c(e)};return{esc:function(e){p.hide(),c(e)},enter:e,space:e,up:t,down:t,backspace:c}},isExpanded:function(e){return h.currentDropdown===e&&h.isOptionsVisible},getFocusedElement:function(){return window.document.activeElement},focus:function(e){e.focus()},search:function(e){var t=this.findOption(e);return t?(this.setHovered(t),this.scrollTo(t),t.getData()):null},findOption:function(e){if(e.length){var t=void 0,s=h.currentDropdown.getSearchTexts();for(t=0;t<s.length;t++){if(s[t].substr(0,e.length).toLowerCase()===e.toLowerCase())return h.currentOptionsList[t]}}return null},scrollTo:function(e){var t=h.optionsComponent,s=u.findDOMNode(e).getBoundingClientRect().top-t.getOptionsListEl().getBoundingClientRect().top;t.scrollBy(s)},registerOuterClick:function(){this.boundHide=this.hide.bind(this),window.document.addEventListener("mousedown",this.boundHide),window.addEventListener("blur",this.boundHide)},unregisterOuterClick:function(){window.document.removeEventListener("mousedown",this.boundHide),window.removeEventListener("blur",this.boundHide)},disableBrowserScroll:function(){window.document.addEventListener("keydown",this.preventKeyScroll),window.addEventListener("wheel",this.preventWheelScroll),window.addEventListener("mousewheel",this.preventWheelScroll)},enableBrowserScroll:function(){window.document.removeEventListener("keydown",this.preventKeyScroll),window.removeEventListener("wheel",this.preventWheelScroll),window.removeEventListener("mousewheel",this.preventWheelScroll)},preventWheelScroll:function(e){e.preventDefault()},preventKeyScroll:function(e){s.includes(t,e.keyCode)&&e.preventDefault()}}}),define("baseUI/panelInputs/dropDown/cacheMixin",["lodash"],function(s){"use strict";return{cache:null,resetCache:function(){this.cache=null},updateCache:function(e,t){return this.cache||(this.cache={}),"string"==typeof e?this.cache[e]=t:"object"===(void 0===e?"undefined":_typeof(e))&&s.forEach(e,s.bind(function(e,t){this.cache[t]=e},this)),this.cache},getCached:function(e){if(this.cache)return this.cache[e]}}}),define("baseUI/panelInputs/dropDown/dropDown.rt",["react","lodash","santa-editor-symbols","baseUI/controls/infoIcon","util","experiment"],function(i,n,o,a,r,l){"use strict";return function(){return i.createElement("div",(e={className:"dropdown "+this.getDDClassName(),style:this.props.style,onKeyDown:this.onKeyDown,tabIndex:"0"},t=this.getFilteredProps(),s=n.assign({},e,t),e.hasOwnProperty("style")&&(s.style=n.defaults(s.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(s.className=t.className+" "+e.className),s),this.hasLabel()?i.createElement("label",{key:"dropdownLabel",className:"dropdown-label"},this.props.shouldTranslate?r.translate(this.getLabel()):this.getLabel()):null,this.hasLabel()&&(this.props.infoText||this.props.infoTitle)?i.createElement(a,{key:"infoIcon",text:this.props.infoText,title:this.props.infoTitle}):null,i.createElement("div",{className:"dd",ref:"dropdown",onClick:this.onClick,onMouseDown:this.onMouseDown,onContextMenu:function(){l.isOpen("rightClickBehaviors")&&this.show()}.bind(this)},i.createElement("div",{className:"selected-container",ref:"selectedContainer"},this.props.template.call(this)),this.props.toggleIcon?i.createElement("i",{key:"toggleIcon",className:"expand arrow"},i.createElement(o.symbol,{name:this.props.toggleIconName||"arrowDown"})):null));var e,t,s}}),define("baseUI/panelInputs/dropDown/dropDownMixin",["reactDOM","react","prop-types","lodash","util","baseUI/panelInputs/inputMixin","baseUI/panelInputs/dropDown/dropdownManager","baseUI/panelInputs/dropDown/cacheMixin","baseUI/mixins/reportUIChangeMixin","baseUI/panelInputs/dropDown/dropDown.rt"],function(t,d,e,s,l,i,n,o,a,r){"use strict";function p(e,t){return void 0===e.props.shouldTranslate?t:e.props.shouldTranslate}var c=[32,38,40];return{mixins:[i,o,a],propTypes:{label:e.string,searchText:e.string,tabIndex:e.number,scrollSpeed:e.number,optionsWidth:e.oneOfType([e.number,e.string]),toggleIcon:e.bool,toggleIconName:e.string,showScrollBar:e.bool,showScroll:e.bool,template:e.func,infoText:e.string,setSelectedAnyway:e.bool,onHover:e.func,onClick:e.func,onExpand:e.func,onCollapse:e.func,infoTitle:e.string,onOptionsVisible:e.func},render:r,getDefaultProps:function(){return{shouldTranslate:!0}},getInitialState:function(){var e=l.valueLink.getValueFromProps(this.props),t=this.getOptionsData(e,this.props.children),s=t.options,i=t.selectedIndex,n=this.getSelectedData(i,s);return this.updateCache({selectedContent:n.content,selectedSearchText:n.searchText,options:s,items:t.items,footer:t.footer,searchTexts:t.searchTexts}),{value:e,selectedIndex:i,expanded:!1}},componentWillUpdate:function(e,t){var s=!t.expanded,i=t.selectedIndex!==this.state.selectedIndex;if(s||i){var n=this.getSelectedData(t.selectedIndex,this.getCached("options"));this.updateCache({selectedContent:n.content,selectedSearchText:n.searchText})}},componentWillReceiveProps:function(e){var i,n,t=void 0,s=l.valueLink.getValueFromProps(e);if(e.children!==this.props.children){var o=this.getOptionsData(s,e.children);t=this.getSelectedData(o.selectedIndex,o.options),this.updateCache({selectedContent:t.content,selectedSearchText:t.searchText,options:o.options,items:o.items,footer:o.footer,searchTexts:o.searchTexts}),this.setState({selectedIndex:o.selectedIndex})}if(l.valueLink.getValueFromProps(this.props)!==s){var a=this.getCached("options"),r=(i=s,n=0,a.some(function(e,t){var s=e.props.value===i;return s&&(n=t),s}),n);t=this.getSelectedData(r,a),this.updateCache({selectedContent:t.content,selectedSearchText:t.searchText}),this.setState({value:s,selectedIndex:r})}},componentDidMount:function(){this.mounted=!0},componentWillUnmount:function(){this.mounted=!1,this.isExpanded()&&n.hideOptions()},getSelectedData:function(e,t){var s={searchText:"",content:""};if(t.length){var i=t[e],n=i.props.children,o=i.props.searchText;n&&(s.content="string"==typeof n?(n=n.trim(),p(i,this.props.shouldTranslate)?l.translate(n):n):n),o&&(o=o.trim(),s.searchText=p(i,this.props.shouldTranslate)?l.translate(o):o)}return s},cloneOption:function(e,t){return d.cloneElement(e,{index:t,key:"option-"+t,shouldTranslate:p(e,this.props.shouldTranslate)})},cloneOptgroup:function(e,t){return d.cloneElement(e,{children:t,shouldTranslate:p(e,this.props.shouldTranslate)})},cloneFooter:function(e){return d.cloneElement(e,{shouldTranslate:p(e,this.props.shouldTranslate)})},getSearchText:function(e){var t=e.props.searchText;return t?(t=t.trim(),p(e,this.props.shouldTranslate)?l.translate(t):t):""},parseChildren:function(l,e,t){var p=(t=t||{}).optionIndex||0,c=t.selectedIndex,u=this,h={items:[],options:[],selectedIndex:void 0,footer:null,searchTexts:[]};return d.Children.forEach(e,function(e){if(d.isValidElement(e))if("footer"===e.props.type)h.footer=u.cloneFooter(e);else{var t=e;if("option"===e.props.type)n=c,o=l,r=(a=e).props.value,void 0===n&&void 0!==r&&o===a.props.value&&(c=p),t=u.cloneOption(e,p),h.options.push(t),h.searchTexts.push(u.getSearchText(e)),p++;else if("optgroup"===e.props.type){var s=u.parseChildren(l,e.props.children,{optionIndex:p,selectedIndex:c}),i=s.options;t=u.cloneOptgroup(e,s.items),h.options=h.options.concat(i),h.searchTexts=h.searchTexts.concat(s.searchTexts),c=s.selectedIndex,p+=i.length}h.items.push(t)}var n,o,a,r}),c&&(h.selectedIndex=c),h},getOptionsData:function(e,t){var s=this.parseChildren(e,t);return void 0===s.selectedIndex&&(s.selectedIndex=0),s},getData:function(){return{items:this.getCached("items"),footer:this.getCached("footer"),selectedIndex:this.state.selectedIndex,className:this.className,showScrollBar:this.props.showScrollBar}},getDDClassName:function(){var e="";return this.className&&(e+=" "+this.className),this.props.className&&(e+=" "+this.props.className),this.state.expanded&&(e+=" expanded"),this.props.showScroll&&(e+=" show-scroll"),this.isDropDownDisabled()&&(e+=" disabled"),e.trim()},getDDEl:function(){return t.findDOMNode(this.refs.dropdown)},getOnChange:function(e){var t=this;return function(){return l.valueLink.callOnChangeIfExists(t.props,e)}},setSelected:function(e){var t=e.value,s=e.index;(this.props.setSelectedAnyway||this.state.value!==t||this.state.selectedIndex!==s)&&(this.reportUIChange({value:t}),this.setState({value:t,selectedIndex:s},this.getOnChange(t)))},toggle:function(){this.isDropDownDisabled()||(this.isExpanded()?n.hide():(n.show(this),s.isFunction(this.props.onExpand)&&this.props.onExpand()))},isDropDownDisabled:function(){var e=s.isArray(this.props.children)?!this.props.children.length:!this.props.children;return this.props.disabled||e},onKeyDown:function(e){s.includes(c,e.keyCode)&&(this.toggle(),e.preventDefault(),e.stopPropagation())},focus:function(){this.mounted&&t.findDOMNode(this).focus()},isExpanded:function(){return n.isExpanded(this)},setExpanded:function(e){this.setState({expanded:e}),!e&&s.isFunction(this.props.onCollapse)&&this.props.onCollapse()},getFocusEl:function(){var e=this.refs.focusElement;if(e)return t.findDOMNode(e)},getSearchTexts:function(){return this.getCached("searchTexts")},onHover:function(e){this.props.onHover&&this.props.onHover(e)},onOptionsVisible:function(e){this.props.onOptionsVisible&&this.props.onOptionsVisible(e)},onMouseDown:function(e){n.isExpanded(this)&&e.nativeEvent.stopImmediatePropagation()},onClick:function(e){this.toggle(),s.isFunction(this.props.onClick)&&this.props.onClick(e)},getFilteredProps:function(){return s.omit(this.filteredProps(),"shouldTranslate")}}}),define("baseUI/panelInputs/dropDown/select.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"selected dropdown-selected"},this.getCached("selectedContent"))}}),define("baseUI/panelInputs/dropDown/select",["create-react-class","prop-types","lodash","baseUI/panelInputs/dropDown/dropDownMixin","baseUI/panelInputs/dropDown/dropdownManager","baseUI/panelInputs/dropDown/select.rt"],function(e,t,s,i,g,n){"use strict";var f=g.INDENT_FROM_EDGE;function b(e,t,s,i){var n=void 0,o={},a=void 0,r=t.top,l="top"===e;return(n=l?r+t.height:i-r)<g.MIN_LIST_HEIGHT+f?(a=l?i-(n+s.scrollHeight):r-s.scrollHeight)<f&&(a=f):n=f,o.currentSide=n,o.oppositeSide=a,o}return e({displayName:"select",mixins:[i],className:"select",propTypes:{shouldTranslate:t.bool},getDefaultProps:function(){return{toggleIcon:!0,template:n,setSelectedAnyway:!1}},getOptionsLocation:function(e,t,s){var i,n,o=g.getViewportSize().height,a=e.getBoundingClientRect(),r=(i=a,(n=s)?i.top-n.offsetTop:i.top),l=o-r-t.scrollHeight,p=r<f,c=l<f,u=p&&c,h=0,d=Number(this.props.optionsWidth)||a.width,m=void 0;return(p||u)&&(h=-r+f),p&&!c?(r=(m=b("top",a,t,o)).currentSide,m.oppositeSide&&(l=m.oppositeSide)):c&&!p?(l=(m=b("bottom",a,t,o)).currentSide,m.oppositeSide&&(r=m.oppositeSide)):p&&c&&(l=r=f),{style:{top:r,bottom:l,left:a.left,width:d},scrollTop:h}},getScrollData:function(e,t,s){var i=t.getBoundingClientRect(),n=void 0,o=void 0,a=i.height<s.scrollHeight,r={distance:0},l=g.getViewportSize().height;return a&&(o=0<e?(n="top",Math.floor(i.top)):(n="bottom",Math.floor(l-i.bottom)),f<o?(r.distance=function(e,t,s,i){var n=e-Math.abs(t);if(Math.abs(n)<f)n=f;else{var o=i-f-s.scrollHeight;o<f&&(o=f),n<o&&(n=o)}return n}(o,e,s,l),r.edge=n):r.distance=e),r}})}),define("baseUI/panelInputs/dropDown/option",["reactDOM","react-dom-factories","create-react-class","prop-types","util","baseUI/mixins/classNameMixin","baseUI/panelInputs/dropDown/cacheMixin","baseUI/panelInputs/dropDown/dropdownManager"],function(e,s,t,i,n,o,a,r){"use strict";return t({displayName:"option",mixins:[o,a],propTypes:{value:i.any,index:i.number},getDefaultProps:function(){return{type:"option"}},getInitialState:function(){return{selected:r.getSelectedIndex()===this.props.index,hovered:this.props.hovered}},componentWillReceiveProps:function(e){var t=e.value,s={};this.props.value!==t&&(s.value=t),s.selected=r.getSelectedIndex()===this.props.index,this.setState(s)},select:function(){r.select(this)},getData:function(){var e=this.props;return{value:e.value,index:e.index,content:this.getCached("content"),searchText:e.searchText}},hover:function(){e.findDOMNode(this).classList.add("hovered")},unhover:function(){e.findDOMNode(this).classList.remove("hovered")},onMouseEnter:function(){r.setHovered(this)},render:function(){var e="option dropdown-option",t=this.props.children||"";return this.state.selected?e+=" selected":(this.state.hovered||this.props.hovered)&&(e+=" hovered"),t&&"string"==typeof t&&(t=t.trim(),this.props.shouldTranslate&&(t=n.translate(t))),this.updateCache("content",t),r.addOption(this),s.li({onClick:this.select,className:this.generateClassName(e),style:this.props.style,onMouseEnter:this.onMouseEnter,onMouseLeave:this.unhover},t)}})}),define("baseUI/panelInputs/stepper.rt",["react","lodash","baseUI/panelInputs/dropDown/select","baseUI/panelInputs/dropDown/option"],function(i,t,s,n){"use strict";return function(){return function(){var e=this.props.units;return i.createElement("div",{className:t(this.getWrapperClasses()).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onClick:function(e){this.refs.input.focus()}.bind(this,e),style:this.getStepperWidth()},i.createElement("input",{ref:"input",className:"input",type:"text",value:this.state.value,disabled:!!this.props.disabled,readOnly:!this.state.edited,maxLength:"8","data-aid":this.props.automationId,step:this.props.step,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onFocus:function(e){this.onFocus()}.bind(this,e),onBlur:function(e){this.handleBlur()}.bind(this,e)}),e?i.createElement("span",{className:"units-container",key:"units"},t.isArray(e)?null:i.createElement("span",{key:"units-single",className:"units"},e),t.isArray(e)?i.createElement.apply(this,[s,{key:"units-select",ref:"unitsDropdown",className:"units-dd",value:this.props.selectedUnits,onChange:this.props.onUnitsChange,optionsWidth:54,shouldTranslate:!1,disabled:!!this.props.disabled},t.map(e,function(e,t,s){return i.createElement(n,{className:"units-dropdown",value:t.value,key:"unitsItem"+s},t.label)}.bind(this,e)),">\n        "]):null):null)}.apply(this,[])}}),define("baseUI/panelInputs/stepper",["reactDOM","lodash","zepto","create-react-class","prop-types","util","santa-editor-utils","baseUI/panelInputs/inputMixin","baseUI/panelInputs/stepper.rt"],function(i,s,e,t,n,o,a,r,l){"use strict";var p=a.math.normalizeNumber;return t({displayName:"stepper",mixins:[r],propTypes:{min:n.number,max:n.number,step:n.number,selectedUnits:n.string,onUnitsChange:n.func,units:n.oneOfType([n.string,n.array]),afterBlur:n.func,isInvalidValue:n.bool,dynamicInputSize:n.object,inputInFocus:n.bool,automationId:n.string},getDefaultProps:function(){return{max:100,min:0,step:1,units:""}},getInitialState:function(){var e=o.valueLink.getValueFromProps(this.props);return{value:p(void 0!==e?Number(e):0,this.props.min,this.props.max,this.props.step),edited:!1}},componentDidMount:function(){this.props.inputInFocus&&i.findDOMNode(this.refs.input).focus()},handleKeyDown:function(e){var t=e.keyCode,s=e.shiftKey;13===t&&(e.preventDefault(),i.findDOMNode(this.refs.input).blur()),27===t&&(e.preventDefault(),this.handleCancel()),38===t&&(e.preventDefault(),s?this.changeValueByStep(!0,10*this.props.step):this.changeValueByStep(!0)),40===t&&(e.preventDefault(),s?this.changeValueByStep(!1,10*this.props.step):this.changeValueByStep(!1))},getWrapperClasses:function(){var e={"input-stepper":!0,disabled:this.isDisabled(),edited:this.state.edited,"has-units":this.props.units,"with-units-dd":this.props.units&&s.isArray(this.props.units),"units-dd-expanded":this.refs.unitsDropdown&&this.refs.unitsDropdown.isExpanded(),"bad-value":this.props.isInvalidValue,"no-padding":this.props.noPadding};return this.props.className&&(e[this.props.className]=!0),e},changeValueByStep:function(e,t){t=t||this.props.step;var s=e?parseFloat(this.state.value)+t:this.state.value-t;s=p(s,this.props.min,this.props.max,this.props.step),this.acceptChanges(s)},isTemporaryValue:function(e){return s.includes([".","-",""],e)},handleChange:function(e){var t=e.target.value;/^-?[0-9]*(\.[0-9]*)?$/.test(t)&&this.setState({value:t})},handleCancel:function(){var e=o.valueLink.getValueFromProps(this.props),t=this;this.setState({value:e},function(){i.findDOMNode(t.refs.input).blur()})},handleBlur:function(){if(this.setState({edited:!1}),!this.props.disabled){var e=p(this.state.value,this.props.min,this.props.max,this.props.step);this.isTemporaryValue(this.state.value)&&(e=o.valueLink.getValueFromProps(this.props)),this.acceptChanges(e),this.props.afterBlur&&this.props.afterBlur(e)}},getStepperValue:function(e){var t=o.valueLink.getValueFromProps(e);return s.isUndefined(t)?t:parseFloat(t)},componentWillReceiveProps:function(e){var t=this.getStepperValue(e);if(!this.state.edited&&t!==this.state.value){var s=p(t,isNaN(e.min)?this.props.min:e.min,e.max||this.props.max,e.step||this.props.step);this.setState({value:s})}},onFocus:function(){var t=e(i.findDOMNode(this.refs.input));this.setState({edited:!0},function(){var e=s.head(t);e&&(e.select(),t.one("mouseup",function(e){e.preventDefault()}))})},acceptChanges:function(e){this.setState({value:e}),o.valueLink.callOnChangeIfExists(this.props,e)},getStepperWidth:function(){if(this.props.dynamicInputSize){var e=Math.floor(this.getStepperValue(this.props)),t=String(Math.abs(e)).length;return t+=e<0?1:0,{width:Math.max(t*this.props.dynamicInputSize.characterWidth,this.props.dynamicInputSize.minWidth)}}return{}},render:l})}),define("baseUI/panelInputs/slider.rt",["react","lodash","baseUI/panelInputs/stepper","baseUI/controls/infoIcon"],function(e,t,s,i){"use strict";return function(){return e.createElement("div",t.assign({},{className:t({"input-slider":!0,"has-label":this.hasLabel(),disabled:this.isDisabled()}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.getTopLevelProps()),e.createElement("label",{className:"label"},this.translateIfNeeded(this.getLabel())),this.hasLabel()&&(this.props.infoText||this.props.infoText)&&!this.props.disabled?e.createElement(i,{key:"tooltip",title:this.props.infoTitle,text:this.props.infoText,size:18}):null,e.createElement("div",{className:"clearfix sliderArea"},e.createElement("div",{className:"sliderContainer"},e.createElement(s,{automationId:this.props.automationId+"-stepper",className:this.getStepperClass(),disabled:this.props.disabled,min:this.getStepperMin(),max:this.getStepperMax(),value:this.state.value,selectedUnits:this.props.selectedUnits,units:this.props.units,step:this.getStepperStep(),onUnitsChange:this.props.onUnitsChange,onChange:this.handleStepperChange,afterBlur:this.props.afterBlur}),e.createElement("div",{className:"slider",ref:"slider",onMouseDown:this.mouseDown},e.createElement("div",{className:"line"}),e.createElement("div",{className:"knobContainer"},e.createElement("div",{className:"coloredLine",style:{width:"calc("+this.getValueInPercent()+"% + 3px)"}}),e.createElement("div",{className:"sliderKnob",style:{left:"calc("+this.getValueInPercent()+"%)"}}))))))}}),define("baseUI/panelInputs/slider",["reactDOM","zepto","lodash","create-react-class","prop-types","baseUI/panelInputs/inputMixin","baseUI/panelInputs/registerDocumentEventsMixin","util","santa-editor-utils","baseUI/mixins/reportUIChangeMixin","baseUI/panelInputs/slider.rt"],function(s,i,n,e,t,o,a,r,l,p,c){"use strict";var u=l.math,h=u.normalizeNumber,d=u.getQuadraticEquationBy3Points;return e({displayName:"slider",mixins:[o,a,r.translationMixin,p],contextTypes:{reportUIChange:t.func},propTypes:{min:t.number,max:t.number,stepperMin:t.number,stepperMax:t.number,steppeStep:t.number,selectedUnits:t.string,onUnitsChange:t.func,units:t.oneOfType([t.string,t.array]),automationId:t.string,step:t.number,defaultValue:t.number,infoText:t.string,infoTitle:t.string,onSlideEnd:t.func,isSmallStepper:t.bool,afterBlur:t.func,middleValueForPolynomial:t.number},getDefaultProps:function(){return{max:100,min:0,step:1,units:"",isSmallStepper:!1}},getStepperClass:function(){var e="";return n.isArray(this.props.units)?e="with-units-dd":this.props.isSmallStepper&&(e="small"),e},getSliderValue:function(e){var t=r.valueLink.getValueFromProps(e);return n.isUndefined(t)?t:parseFloat(t)},getInitialState:function(){this.sliderX=0,this.sliderWidth=0;var e=this.props.middleValueForPolynomial;e&&(this.quadraticEquation=d({x:0,y:this.props.min},{x:50,y:e},{x:100,y:this.props.max}));var t=this.getSliderValue(this.props),s=void 0!==this.props.defaultValue?Number(this.props.defaultValue):this.props.min,i=n.isNumber(t)?t:s;return{value:h(i,this.props.min,this.props.max,this.props.step)}},getValueInPercent:function(){var e=this.state.value;return this.state.value>this.props.max?e=this.props.max:this.state.value<this.props.min&&(e=this.props.min),this.quadraticEquation?Math.round(this.quadraticEquation.fInverse(e)):Math.round((e-this.props.min)/(this.props.max-this.props.min)*100)},fromPercent:function(e){return this.props.min+(this.props.max-this.props.min)*e/100},calcPositionOnSlider:function(e){var t=(e-this.sliderX)/this.sliderWidth*100;return Math.min(Math.max(t,0),100)},calcNewValueFromKnob:function(e){var t=this.calcPositionOnSlider(e);if(this.quadraticEquation){var s=Math.round(this.quadraticEquation.f(t));return Math.min(Math.max(s,this.props.min),this.props.max)}return h(this.fromPercent(t),this.props.min,this.props.max,this.props.step)},handleKnobPositionChange:function(e){if(!this.props.disabled){var t=this.calcNewValueFromKnob(e.pageX-8);this.handleChange(t)}},mouseUp:function(){i(window.document.body).removeClass("block-selection"),this.removeEventListenersFromDocument("mousemove"),this.removeEventListenersFromDocument("mouseup"),this.reportUIChange({value:this.state.value,value_change_origin:"Slider"}),this.props.onSlideEnd&&this.props.onSlideEnd()},mouseDown:function(e){i(window.document.body).addClass("block-selection"),this.removeEventListenersFromDocument("mousemove"),this.removeEventListenersFromDocument("mouseup");var t=i(s.findDOMNode(this.refs.slider));this.sliderX=t.offset().left,this.sliderWidth=t.width()-16,this.handleKnobPositionChange(e),this.registerEventListenersToDocument("mousemove",this.handleKnobPositionChange),this.registerEventListenersToDocument("mouseup",this.mouseUp)},handleChange:function(e,t){this.state.value!==e&&(this.setState({value:e}),r.valueLink.callOnChangeIfExists(this.props,e,t))},handleStepperChange:function(e){e=h(e,this.getStepperMin(),this.getStepperMax(),this.getStepperStep()),this.handleChange(e,!0),this.reportUIChange({value:e,value_change_origin:"Input"})},getStepperMax:function(e){var t=void 0;return e&&(t=e.stepperMax||e.max),t||(t=this.props.stepperMax||this.props.max),t},getStepperMin:function(e){var t=void 0;return e&&(t=e.stepperMin,isNaN(t)&&(t=e.min)),isNaN(t)&&(t=this.props.stepperMin,isNaN(t)&&(t=this.props.min)),t},getStepperStep:function(e){var t=void 0;return e&&(t=e.stepperStep,isNaN(t)&&(t=e.step)),isNaN(t)&&(t=this.props.stepperStep,isNaN(t)&&(t=this.props.step)),t},componentWillReceiveProps:function(e){var t=this.getSliderValue(e);if(t!==this.state.value){var s=h(t,this.getStepperMin(e),this.getStepperMax(e),this.getStepperStep(e));this.setState({value:s})}},getTopLevelProps:function(){return n.omit(this.props,["min","max","selectedUnits","units","step","defaultValue","infoText","unit","onUnitsChange","infoTitle","isSmallStepper","middleValueForPolynomial","shouldTranslate","value","onChange","valueLink"])},render:c})}),define("baseUI/panelInputs/stepperWithSVG.rt",["react","lodash","santa-editor-symbols","baseUI/panelInputs/stepper"],function(e,t,s,i){"use strict";return function(){return e.createElement("div",{className:"stepper-with-svg",onClick:function(e){this.handleToolTipClick(e)}.bind(this)},e.createElement(i,this.props.stepperProps),this.props.showSymbol?e.createElement(s.symbol,{className:t({safari:this.getBrowserData().safari}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),name:this.props.symbolName,key:"stepperSVG",onClick:function(e){this.handleSymbolClick(e)}.bind(this)}):null)}}),define("baseUI/panelInputs/stepperWithSVG",["create-react-class","prop-types","lodash","coreUtilsLib","baseUI/panelInputs/stepperWithSVG.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"stepperWithSVG",propTypes:{showSymbol:t.bool,stepperClickFunc:t.func,symbolClickFunc:t.func,symbolName:t.string,stepperProps:t.object},getBrowserData:function(){var e=i.browserDetection(window.navigator.userAgent);return e&&e.browser},handleToolTipClick:function(e){e.stopPropagation(),this.props.stepperClickFunc()},handleSymbolClick:function(e){e.stopPropagation(),this.props.symbolClickFunc()},render:n})}),define("baseUI/panelInputs/prefixedTextInput.rt",["react","lodash","baseUI/panelInputs/textInput"],function(i,n,o){"use strict";return function(){return i.createElement("div",(e={className:"prefixed-text-input-container"},t=this.filteredProps(),s=n.assign({},e,t),e.hasOwnProperty("style")&&(s.style=n.defaults(s.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(s.className=t.className+" "+e.className),s),this.hasLabel()?i.createElement("label",{key:"title",className:"label"},this.translateIfNeeded(this.getLabel())):null,i.createElement("div",{},i.createElement("label",{className:"prefixed-text-input-label"},this.translateIfNeeded(this.getInputPrefix())),i.createElement(o,this.getInputProps())));var e,t,s}}),define("baseUI/panelInputs/prefixedTextInput",["create-react-class","prop-types","lodash","util","baseUI/panelInputs/inputMixin","baseUI/panelInputs/prefixedTextInput.rt"],function(e,t,s,i,n,o){"use strict";return e({mixins:[n,i.translationMixin],displayName:"prefixedTextInput",propTypes:{label:t.string,prefix:t.string.isRequired},getInputPrefix:function(){return this.props.prefix},getInputProps:function(){return s.omit(this.props,"label")},render:o})}),define("baseUI/controls/button2.rt",["react","lodash","santa-editor-symbols"],function(i,n,o){"use strict";return function(){return i.createElement("div",this.getWrapperProps({className:"control-button2-wrapper"}),i.createElement("div",(e={className:this.getClassName("control-button2"),disabled:this.props.disabled?"disabled":""},t=this.filteredProps(),s=n.assign({},e,t),e.hasOwnProperty("style")&&(s.style=n.defaults(s.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(s.className=t.className+" "+e.className),s),i.createElement("input",{type:"button",disabled:this.props.disabled?"disabled":""}),this.props.symbolName?i.createElement(o.symbol,{name:this.props.symbolName,className:"symbol",key:"symbol"}):null,this.props.label?i.createElement("span",{className:"label "+this.props.customLabelClass,key:"label"},this.translateIfNeeded(this.props.label)):null));var e,t,s}}),define("baseUI/controls/button2",["create-react-class","prop-types","lodash","baseUI/panelInputs/inputMixin","util","baseUI/controls/button2.rt"],function(e,t,s,i,n,o){"use strict";return e({displayName:"Button2",mixins:[i,n.translationMixin],propTypes:{label:t.string,className:t.string,wrapperClass:t.string,wrapperStyle:t.object,disabled:t.bool,symbolName:t.string,hintId:t.string},getWrapperProps:function(e){var t={};return s.assign(t,e),s.isEmpty(this.props.wrapperClass)||(t.class=s.compact([t.class,this.props.wrapperClass].join(" "))),s.isEmpty(this.props.wrapperStyle)||(t.style=this.props.wrapperStyle),t},render:o})}),define("baseUI/controls/fileInput.rt",["react","lodash","santa-editor-symbols"],function(e,t,s){"use strict";return function(){return e.createElement("label",{className:"file-input-control "+(this.props.onlyText?"text":"button"),disabled:!!this.props.disabled},e.createElement("input",{className:"input-"+this.props.name,type:"file",ref:"input",disabled:!!this.props.disabled,multiple:!0,onClick:this.onClick,accept:this.props.fileTypes,onChange:function(e){this.handleChange(e)}.bind(this)}),this.props.onlyText?null:e.createElement(s.symbol,{name:"upload-btn",key:"button-symbol"}),e.createElement("span",{className:"label"},this.translateIfNeeded(this.props.label)))}}),define("baseUI/controls/fileInput",["create-react-class","prop-types","lodash","baseUI/panelInputs/inputMixin","util","baseUI/mixins/reportUIChangeMixin","baseUI/controls/fileInput.rt"],function(e,t,s,i,n,o,a){"use strict";return e({displayName:"fileInput",propTypes:{label:t.string.isRequired,disabled:t.bool,onChange:t.func,onlyText:t.bool,fileTypes:t.string},mixins:[i,o,n.translationMixin],render:a,handleChange:function(e){var t=e.target.files;this.reportUIChange({value:t}),n.valueLink.callOnChangeIfExists(this.props,t)},onClick:function(){this.refs.input.value=null}})}),define("baseUI/controls/filesDrop.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:t({"drag-area-control":!0,"with-border ":this.props.hasBorder,dragging:this.state.isDragging}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onDragOver:this.handleDragOver,onDrop:this.handleDrop,onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave},e.createElement("div",{className:"drag-area-content"},e.createElement("div",{},this.props.children)))}}),define("baseUI/controls/filesDrop",["create-react-class","prop-types","lodash","util","baseUI/panelInputs/inputMixin","baseUI/mixins/reportUIChangeMixin","baseUI/controls/filesDrop.rt"],function(e,t,s,i,n,o,a){"use strict";function r(e){e.preventDefault()}return e({displayName:"filesDrop",propTypes:{onDrop:t.func,hasBorder:t.bool},mixins:[n,o],render:a,getDefaultProps:function(){return{hasBorder:!0}},getInitialState:function(){return{isDragging:!1}},handleDragOver:function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy",this.setState({isDragging:!0})},handleDragEnter:function(e){e.preventDefault(),this.setState({isDragging:!0})},handleDragLeave:function(e){e.preventDefault(),this.setState({isDragging:!1})},handleDrop:function(e){e.preventDefault();var t=e.dataTransfer?e.dataTransfer.files:e.target.files;this.handleChange(t),s.isFunction(this.props.onDrop)&&this.props.onDrop(),this.setState({isDragging:!1})},handleChange:function(e){this.reportUIChange({value:e}),i.valueLink.callOnChangeIfExists(this.props,e)},componentWillMount:function(){window.addEventListener("dragover",r),window.addEventListener("drop",r)},componentWillUnmount:function(){window.removeEventListener("dragover",r),window.removeEventListener("drop",r)}})}),define("baseUI/controls/sectionDividerLabeledC06.rt",["react","lodash","baseUI/controls/infoIcon","baseUILib"],function(e,t,s,i){"use strict";return function(){return e.createElement(i.SectionDivider,{className:"labeled",label:this.props.label,shouldTranslate:this.props.shouldTranslate},this.translateIfNeeded(this.props.label),"\r\n    ",this.props.infoText?e.createElement(s,{key:"icon",size:18,text:this.props.infoText,title:this.props.infoTitle,fitToBoundsWidth:!1}):null)}}),define("baseUI/controls/sectionDividerLabeledC06",["create-react-class","prop-types","lodash","util","baseUI/controls/sectionDividerLabeledC06.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"sectionDividerLabeledC06",mixins:[i.translationMixin],propTypes:{label:t.string,infoTitle:t.string,infoText:t.string},render:n})}),define("baseUI/panelInputs/dropDown/contextMenu.rt",["react","lodash","santa-editor-symbols"],function(e,t,s){"use strict";return function(){return e.createElement("div",{className:"symbol-more "+t({shrink:this.props.shrink}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement(s.symbol,{name:this.props.icon||"more"}),t.isNumber(this.props.notificationCount)&&!t.isNaN(this.props.notificationCount)&&t.isFunction(this.props.onNotificationClick)?e.createElement("span",{key:"notification",className:"notification",onClick:this.onNotificationClick},this.props.notificationCount):null)}}),define("baseUI/panelInputs/dropDown/contextMenu",["create-react-class","prop-types","lodash","baseUI/panelInputs/dropDown/dropDownMixin","baseUI/panelInputs/dropDown/dropdownManager","baseUI/panelInputs/dropDown/contextMenu.rt"],function(e,t,s,i,u,n){"use strict";function h(e,t,s){return e.height-t-s.scrollHeight}return e({displayName:"contextMenu",mixins:[i],className:"context-menu",propTypes:{icon:t.string,notificationCount:t.number,onNotificationClick:t.func,shrink:t.bool},getDefaultProps:function(){return{toggleIcon:!1,template:n,setSelectedAnyway:!0}},getOptionsLocation:function(e,t){var s,i,n=e.getBoundingClientRect(),o=u.getViewportSize(),a=this.props.optionsWidth||t.getBoundingClientRect().width+1,r=n.left+n.width,l=n.top-10,p=h(o,l,t),c=["tag-triangle"];return s=r,i=a,o.width>=s+i?c.push("tag-left"):(r=n.left-a,c.push("tag-right")),p>=u.INDENT_FROM_EDGE?c.push("tag-side-top"):(p=h(o,l=n.bottom-t.scrollHeight+10,t),c.push("tag-side-bottom")),{style:{top:l,bottom:p,left:r,width:a},optionalClasses:c}},onNotificationClick:function(e){this.props.onNotificationClick(e),e.stopPropagation()}})}),define("baseUI/panelInputs/dropDown/combobox.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"combo-box selected"},this.state.expanded?null:e.createElement("span",{key:"selectedContent"},this.getCached("selectedContent")),this.state.expanded?e.createElement("input",{className:"combo-box-input",key:"selectedInput",ref:"focusElement",type:"text",value:this.getCached("selectedSearchText"),onChange:this.onInputChange,onFocus:this.onFocus,onKeyDown:this.onInputKeyDown,onMouseDown:function(e){e.nativeEvent.stopImmediatePropagation()}.bind(this),onClick:function(e){e.stopPropagation()}.bind(this)}):null)}}),define("baseUI/panelInputs/dropDown/combobox",["reactDOM","create-react-class","lodash","baseUI/panelInputs/dropDown/dropDownMixin","baseUI/panelInputs/dropDown/dropdownManager","baseUI/panelInputs/dropDown/combobox.rt"],function(s,e,c,t,u,i){"use strict";var l=u.INDENT_FROM_EDGE,h={13:"enter",27:"esc",32:"space",8:"backspace",38:"up",37:"left",39:"right",40:"down"};return e({displayName:"combobox",mixins:[t],className:"combobox",isBackspace:!1,getInitialState:function(){return{inputValue:""}},getDefaultProps:function(){return{toggleIcon:!0,template:i,setSelectedAnyway:!1,showScrollBar:!0}},componentDidUpdate:function(e,t){!t.expanded&&this.state.expanded&&u.focus(s.findDOMNode(this.refs.focusElement))},getOptionsLocation:function(e,t,s,i){var n=e.getBoundingClientRect(),o=u.getViewportSize().height,a=n.top+n.height,r=o-a-t.scrollHeight;return i&&(r-=i.getBoundingClientRect().height),r<l&&(r=l),o-a-r<u.MIN_LIST_HEIGHT&&(a=o-(r=o-n.top)-t.scrollHeight,i&&(a-=i.getBoundingClientRect().height),a<l&&(a=l)),{style:{top:a,bottom:r,left:n.left,width:Number(this.props.optionsWidth)||n.width},scrollTop:s&&s.offsetTop||0}},getScrollData:function(e){return{distance:e}},onInputChange:function(e){var t=e.currentTarget,s=void 0,i=void 0;s=this.isBackspace&&this.state.inputValue===t.value?t.value.slice(0,-1):t.value;var n=u.search(s);i=n?n.searchText:s,this.updateCache("selectedSearchText",i),this.setState({inputValue:s},function(){n&&t.setSelectionRange(s.length,i.length)})},onInputKeyDown:function(e){var t,s,i,n,o,a,r,l=h[e.keyCode];if(this.isBackspace="backspace"===l,l){if(c.includes(["enter","esc","up","down"],l)&&u.getKeyboardHandlers()[l](e),"space"===l&&e.stopPropagation(),"left"===l||"right"===l){var p=e.currentTarget;s=l,i=(t=p).selectionStart,n=t.value.length,o=t.selectionStart===t.selectionEnd,a=0===i,r=i===n,(!o||o&&(!a&&!r||a&&"right"===s||r&&"left"===s))&&e.nativeEvent.stopImmediatePropagation()}}},onFocus:function(e){e.currentTarget.select()}})}),define("baseUI/panelInputs/dropDown/options.rt",["react","lodash","santa-editor-symbols"],function(e,t,s){"use strict";return function(){return e.createElement("section",{className:"dropdown-options "+this.state.className+" "+(this.state.visible?"expanded":"")},e.createElement("div",{className:"options",ref:"options",onWheel:this.wheelScroll,onScroll:this.handleScroll,tabIndex:"0",onMouseLeave:this.onMouseLeave,onMouseDown:function(e){e.nativeEvent.stopImmediatePropagation()}.bind(this)},e.createElement("i",{className:"top arrow",onMouseEnter:function(){this.scrollTo(-1)}.bind(this),onMouseLeave:this.stopScrollAnimation},e.createElement(s.symbol,{name:"arrowDown"})),e.createElement("ol",{className:"list",ref:"list"},e.createElement("span",{className:"options-container"},"\n                ",this.getCached("options"),"\n            ")),this.getCached("footer")?e.createElement("footer",{className:"options-footer",ref:"footer",key:"options-footer"},this.getCached("footer")):null,e.createElement("i",{className:"bottom arrow",onMouseEnter:function(){this.scrollTo(1)}.bind(this),onMouseLeave:this.stopScrollAnimation},e.createElement(s.symbol,{name:"arrowDown"})),e.createElement("div",{className:"mouse-events-blocker",ref:"mouseEventsBlocker",onMouseMove:this.hideMouseEventsBlocker})))}}),define("baseUI/panelInputs/dropDown/options",["reactDOM","create-react-class","lodash","util","coreUtilsLib","baseUI/panelInputs/dropDown/dropdownManager","baseUI/panelInputs/dropDown/cacheMixin","baseUI/panelInputs/dropDown/options.rt"],function(s,e,n,t,i,o,a,r){"use strict";var l=t.keyboardShortcuts,p=i.browserDetection(window.navigator.userAgent),c=p&&p.browser;function u(e,t){return t.classList.contains(e)}return e({displayName:"options",mixins:[a],render:r,getInitialState:function(){return this.updateCache({optionalClasses:null,initialKeyboardContext:"",optionsElStyle:null}),{visible:!1,className:"",showScrollBar:!1}},getWindow:function(){return window},componentDidMount:function(){var e=this.getWindow();o.registerOptionsComponent(this),l.registerContext(o.KEYBOARD_CONTEXT,o.getKeyboardHandlers()),this.onWindowResize=function(){this.state.visible&&(this.locate(o.getOptionsLocation()),this.state.showScrollBar||this.toggleScrollArrows())}.bind(this),this.onWindowScroll=function(){this.state.visible&&this.hide()}.bind(this),e.addEventListener("resize",this.onWindowResize),e.addEventListener("scroll",this.onWindowScroll)},shouldComponentUpdate:function(e,t){return void 0!==t.visible&&t.visible!==this.state.visible||void 0!==t.className&&t.className!==this.state.className},componentDidUpdate:function(){var t=this.getOptionsEl();if(this.state.visible){var e=this.getOptionsListEl();c.chrome&&e.style.setProperty("flex-basis",e.scrollHeight+"px"),this.locate(o.getOptionsLocation()),this.state.showScrollBar?this.hideScrollArrows():this.toggleScrollArrows(),o.onOptionsVisible(),o.focus(t)}else{var s=this.getCached("optionalClasses");s&&s.length&&(s.forEach(function(e){t.classList.remove(e)}),this.updateCache("optionalClasses",null))}},componentWillUnmount:function(){var e=this.getWindow();e.removeEventListener("resize",this.onWindowResize),e.removeEventListener("scroll",this.onWindowScroll),l.unregisterContext(o.KEYBOARD_CONTEXT)},show:function(e){this.updateCache({options:e.items,initialKeyboardContext:l.getContext(),footer:e.footer}),l.setContext(o.KEYBOARD_CONTEXT),this.setState({visible:!0,className:e.className,showScrollBar:e.showScrollBar})},hide:function(){this.setState({visible:!1}),this.resetOptionsElStyle(),l.getContext()===o.KEYBOARD_CONTEXT&&l.setContext(this.getCached("initialKeyboardContext"))},getOptionsListEl:function(){return s.findDOMNode(this.refs.list)},getOptionsEl:function(){return s.findDOMNode(this.refs.options)},getFooterEl:function(){var e=this.refs.footer;return e?s.findDOMNode(e):null},locate:function(e){var s=this.getOptionsEl(),t=e.optionalClasses,i={};n.forEach(e.style,function(e,t){s.style.setProperty(t,e+"px")}),i.optionsElStyle=e.style,this.getOptionsListEl().scrollTop=e.scrollTop||0,t&&t.length&&(t.forEach(function(e){s.classList.add(e)}),i.optionalClasses=t),this.updateCache(i)},toggleScrollArrows:function(){var e,t=this.getOptionsListEl(),s=this.getOptionsEl(),i=u("up",s),n=u("down",s),o=u("scroll",s),a=0<t.scrollTop,r=(e=t).offsetHeight+e.scrollTop+1<e.scrollHeight;!a&&!r||o?a||r||!o||s.classList.remove("scroll"):s.classList.add("scroll"),a&&!i?s.classList.add("up"):i&&!a&&s.classList.remove("up"),r&&!n?s.classList.add("down"):n&&!r&&s.classList.remove("down")},hideScrollArrows:function(){var e=this.getOptionsEl();u("up",e)&&e.classList.remove("up"),u("down",e)&&e.classList.remove("down")},wheelScroll:function(e){this.scroll(o.getScrollData(e.deltaY)),o.onOptionsVisible()},handleScroll:function(){o.onOptionsVisible()},scroll:function(e){e&&(e.edge?this.getOptionsEl().style.setProperty(e.edge,e.distance+"px"):this.getOptionsListEl().scrollTop+=e.distance,this.state.showScrollBar||this.toggleScrollArrows())},scrollTo:function(e){this.scroll(o.getScrollData(e*o.DEFAULT_SCROLL_SPEED)),this.scrollAnimationFrame=window.requestAnimationFrame(this.scrollTo.bind(this,e))},scrollBy:function(e){this.scroll(o.getScrollData(e))},stopScrollAnimation:function(){window.cancelAnimationFrame(this.scrollAnimationFrame)},onMouseLeave:function(){o.setHovered(null)},resetOptionsElStyle:function(){var s=this.getOptionsEl();n.forEach(this.getCached("optionsElStyle"),function(e,t){s.style.setProperty(t,"")}),this.getOptionsListEl().style.setProperty("flex-basis","auto")},showMouseEventsBlocker:function(){s.findDOMNode(this.refs.mouseEventsBlocker).classList.add("visible")},hideMouseEventsBlocker:function(e){var t=this.getCached("currentMouseCoordinates");t?!t||t.x===e.clientX&&t.y===e.clientY||(s.findDOMNode(this.refs.mouseEventsBlocker).classList.remove("visible"),this.updateCache("currentMouseCoordinates",null)):this.updateCache("currentMouseCoordinates",{x:e.clientX,y:e.clientY})}})}),define("baseUI/panelInputs/dropDown/optgroup",["react-dom-factories","create-react-class","prop-types","util","baseUI/mixins/classNameMixin","baseUI/panelInputs/dropDown/cacheMixin","baseUI/panelInputs/dropDown/dropdownManager"],function(t,e,s,i,n,o){"use strict";return e({displayName:"optgroup",mixins:[n,o,i.translationMixin],propTypes:{label:s.string},getDefaultProps:function(){return{type:"optgroup"}},render:function(){var e=this.props.label;return e&&(e=this.translateIfNeeded(e.trim())),t.li({className:this.generateClassName("optgroup dropdown-optgroup"),style:this.props.style,children:[t.h5({className:"optgroup-label",key:"optgroup-label"},e),t.ol({className:"optgroup-list",key:"optgroup-list"},this.props.children)]})}})}),define("baseUI/panelInputs/dropDown/footer",["react-dom-factories","create-react-class","util","baseUI/mixins/classNameMixin","baseUI/panelInputs/dropDown/dropdownManager"],function(t,e,s,i,n){"use strict";return e({displayName:"footer",mixins:[i],getDefaultProps:function(){return{type:"footer"}},render:function(){var e=this.props.children||"";return"string"==typeof e&&(e=e.trim(),this.props.shouldTranslate&&(e=s.translate(e))),t.div({onClick:n.hide.bind(n),className:this.generateClassName(this.props.className),style:this.props.style},e)}})}),define("baseUI/panelInputs/dropDown/iconsMenu.rt",["react","lodash","baseUI/popovers/tooltip","santa-editor-symbols"],function(e,t,s,i){"use strict";return function(){return e.createElement(s,{key:"iconsMenu",value:this.props.tooltip,disabled:!this.props.tooltip},e.createElement("div",{className:"icons-menu-button-wrapper",onClick:function(e){this.props.clickAction(e)}.bind(this)},e.createElement(i.symbol,{name:this.props.icon}),this.props.smallIndicator?e.createElement("div",{className:"small-indicator",key:"smallIndicator"}):null))}}),define("baseUI/panelInputs/dropDown/iconsMenu",["create-react-class","prop-types","lodash","baseUI/panelInputs/dropDown/dropdownManager","baseUI/panelInputs/dropDown/dropDownMixin","baseUI/panelInputs/dropDown/iconsMenu.rt"],function(e,t,s,l,i,n){"use strict";return e({displayName:"iconsMenu",mixins:[i],className:"icons-menu",propTypes:{label:t.string,tooltip:t.oneOfType([t.string,t.bool]),smallIndicator:t.bool,clickAction:t.func},getDefaultProps:function(){return{toggleIcon:!1,template:n,smallIndicator:!1,setSelectedAnyway:!0,tooltip:!1,clickAction:s.noop}},getOptionsLocation:function(e,t){var s=l.getViewportSize(),i=e.getBoundingClientRect(),n=t.getBoundingClientRect(),o=i.left+i.width/2-n.width/2,a=i.top+i.height+5,r="tag-top";return a+n.height+20>s.height&&(a-=n.height+2*i.height,r="tag-bottom"),{style:{top:a,left:o},optionalClasses:["tag-triangle",r]}}})}),define("baseUI/panelInputs/multiValueLinksMixin",[],function(){"use strict";return{getFieldValueFromProps:function(e,t){var s=(e=e||this.props)[t+"Link"];return void 0!==s?s.value:e[t]},callOnFieldChangeIfExists:function(e,t){var s=e+"Link",i=this.props[s]?this.props[s].requestChange:this.props["on"+s+"Change"];i&&i(t)}}}),define("baseUI/controls/toggleMixin",["prop-types","baseUI/panelInputs/inputMixin","util","baseUI/mixins/reportUIChangeMixin"],function(e,t,s,i){"use strict";return{mixins:[t,i,s.translationMixin],contextTypes:{reportUIChange:e.func},handleChange:function(){var e=!s.valueLink.getValueFromProps(this.props);this.reportUIChange({value:e}),s.valueLink.callOnChangeIfExists(this.props,e)}}}),define("baseUI/controls/mandatory.rt",["react","lodash","baseUI/popovers/tooltip","util"],function(e,t,s,i){"use strict";return function(){return e.createElement(s,{disabled:!this.props.forceDisable&&!!this.props.disabled,value:this.state.mandatoryTooltip},e.createElement("label",{className:this.getClassName("control-mandatory")},e.createElement("input",{type:"checkbox",checked:i.valueLink.getValueFromProps(this.props),disabled:!!this.props.disabled,onChange:function(e){this.onMandatoryFieldChecked(e)}.bind(this)}),e.createElement("span",{})))}}),define("baseUI/controls/mandatory",["create-react-class","util","baseUI/controls/toggleMixin","baseUI/controls/mandatory.rt"],function(e,t,s,i){"use strict";return e({displayName:"mandatory",mixins:[s],render:i,getInitialState:function(){return this.originalDisabled=this.props.disabled,this.isChecked=t.valueLink.getValueFromProps(this.props),{mandatoryTooltip:this.getTooltipValue(t.valueLink.getValueFromProps(this.props),this.props.disabled,this.props.forceDisable)}},componentWillReceiveProps:function(e){this.props.disabled!==e.disabled&&(this.originalDisabled=e.disabled,this.setState({mandatoryTooltip:this.getTooltipValue(this.isChecked,e.disabled,e.forceDisable)}))},getTooltipValue:function(e,t,s){return t?s?this.props.hoverToolTipsKeys.forceDisabled:this.props.hoverToolTipsKeys.disabled:e?this.props.hoverToolTipsKeys.mandatoryEnabled:this.props.hoverToolTipsKeys.nonMandatoryEnabled},updateTooltipValue:function(e){this.setState({mandatoryTooltip:this.getTooltipValue(e.target.checked,this.props.disabled,this.props.forceDisable)})},onMandatoryFieldChecked:function(e){this.originalDisabled||(this.isChecked=e.target.checked,this.handleChange(),this.updateTooltipValue(e))}})}),define("baseUI/controls/toggle.rt",["react","lodash","santa-editor-symbols","util","baseUI/controls/infoIcon","baseUILib"],function(e,t,s,i,n,o){"use strict";return function(){return e.createElement(o.Toggle,this.getToggleProps(),this.props.label&&!this.props.labelAfterSymbol?e.createElement("span",{key:"labelBefore",className:"label label-"+this.props.name},this.translateIfNeeded(this.props.label)):null,e.createElement(s.symbol,{name:this.props.name}),this.props.label&&this.props.labelAfterSymbol?e.createElement("span",{key:"labelAfter",className:"label label-"+this.props.name},this.translateIfNeeded(this.props.label)):null,this.shouldDisplayInfoIcon()?e.createElement(n,t.assign({},{key:"infoIcon"},this.getInfoIconProps())):null)}}),define("baseUI/controls/toggle",["react","create-react-class","prop-types","lodash","baseUILib","util","baseUI/controls/infoIcon","baseUI/controls/toggleMixin","baseUI/controls/toggle.rt","coreUtilsLib"],function(s,e,t,i,n,o,a,r,l,p){"use strict";var c={switch:"ToggleSwitch",checkbox:"Checkbox"};return e({displayName:"boolean",propTypes:{name:t.string,label:t.oneOfType([t.string,t.element]),infoText:t.string,infoTitle:t.string,shouldDisplayInfoIcon:t.bool,infoAlignment:t.string,infoFitToBounds:t.bool,disabled:t.bool,labelAfterSymbol:t.bool,shouldTranslate:t.bool,size:t.string},mixins:[r],getDefaultProps:function(){return{name:"switch"}},componentDidMount:function(){"checkbox"===this.props.name&&p.log.error("DEPRECATED: Toggle with name checkbox is deprecated, use new base ui lib checkbox")},getClasses:function(){var e=i.includes(this.props.className,"show-on-all-pages")?"emphasise":"";return this.getClassName(["control-"+this.props.name,this.getSizeClass(),e].join(" "))},getSizeClass:function(){return"medium"===this.props.size?"medium-scale":"no-scale"},getToggleProps:function(){var n=this,e=this.props.valueLink,t=e?{value:e.value,onChange:function(){for(var e,t=arguments.length,s=Array(t),i=0;i<t;i++)s[i]=arguments[i];return(e=o.valueLink).callOnChangeIfExists.apply(e,[n.props].concat(s))}}:{};return i.assign({},this.props,t,{className:this.getClasses()})},shouldDisplayInfoIcon:function(){return this.props.shouldDisplayInfoIcon||this.props.infoText||this.props.infoTitle},getInfoIconProps:function(){return{className:"info-"+this.props.name,key:"infoIcon",title:this.props.infoTitle,text:this.props.infoText,alignment:this.props.infoAlignment,fitToBounds:this.props.infoFitToBounds}},render:function(){var e=n[c[this.props.name]];if(e){var t=this.shouldDisplayInfoIcon()?[this.props.children,s.createElement(a,this.getInfoIconProps())]:this.props.children;return s.createElement(e,this.getToggleProps(),t)}return l.call(this)}})}),define("baseUI/panelInputs/selectiveTextInputWithMandatoryButton.rt",["react","lodash","baseUI/panelInputs/textInput","baseUI/controls/mandatory","baseUI/controls/toggle","baseUILib"],function(t,e,s,i,n,o){"use strict";return function(){return function(){var e=!this.state.enabled;return t.createElement("div",{className:"selective-text-input"},t.createElement(s,{disabled:e,onChange:function(e,t){this.fieldNameChanged(t)}.bind(this,e),className:"textInput",maxLength:this.props.maxLength,placeholder:this.props.placeholder,value:this.state.fieldName}),t.createElement(o.Checkbox,{disabled:this.props.forceDisable,onChange:function(e){this.enabledChanged()}.bind(this,e),value:this.state.enabled}),t.createElement(i,{displayName:this.props.displayName,hoverToolTipsKeys:this.props.hoverToolTipsKeys,disabled:e||this.props.forceDisable,forceDisable:this.props.forceDisable,onChange:function(e){this.requiredChanged()}.bind(this,e),value:this.state.required}))}.apply(this,[])}}),define("baseUI/panelInputs/selectiveTextInputWithMandatoryButton",["create-react-class","prop-types","lodash","baseUI/panelInputs/multiValueLinksMixin","baseUI/panelInputs/selectiveTextInputWithMandatoryButton.rt","util","react-addons-linked-state-mixin"],function(e,t,s,i,n,o,a){"use strict";return e({displayName:"selectiveTextInputWithMandatoryButton",mixins:[o.translationMixin,i,a],propTypes:{placeholder:t.string,enabledLink:t.any,fieldNameLink:t.any,requiredLink:t.any},getInitialState:function(){return{enabled:this.getFieldValueFromProps(this.props,"enabled"),required:this.getFieldValueFromProps(this.props,"required"),fieldName:this.getFieldValueFromProps(this.props,"fieldName")||this.translateIfNeeded(this.props.defaultFieldName)}},render:n,enabledChanged:function(){var e=!this.state.enabled;this.setState({enabled:e}),this.callOnFieldChangeIfExists("enabled",e)},requiredChanged:function(){var e=!this.state.required;this.setState({required:e}),this.callOnFieldChangeIfExists("required",e)},fieldNameChanged:function(e){this.setState({fieldName:e}),this.callOnFieldChangeIfExists("fieldName",e)}})}),define("baseUI/panelInputs/textInputWithButton.rt",["react","lodash","baseUI/controls/button","baseUI/panelInputs/textInput","santa-editor-symbols","util"],function(n,o,a,r,e,l){"use strict";return function(){return function(){var e,t,s,i=this.isDisabled();return n.createElement("div",(e={className:"control-text-input-with-button"+(i?" disabled":"")},t=this.filteredProps(),s=o.assign({},e,t),e.hasOwnProperty("style")&&(s.style=o.defaults(s.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(s.className=t.className+" "+e.className),s),n.createElement(r,{valueLink:{value:l.valueLink.getValueFromProps(this.props),requestChange:this.updateValue},label:this.props.label,shouldTranslate:this.props.shouldTranslate,placeholder:this.props.placeholder,defaultText:this.props.defaultText,maxLength:this.props.maxLength,focus:this.props.focus,isMultiLine:this.props.multiLine,validator:this.props.validator,asyncValidator:this.props.asyncValidator,invalidMessage:this.props.invalidMessage,onFocus:function(e){this.toggleFocus(!0)}.bind(this,i),onBlur:function(e){this.toggleFocus(!1)}.bind(this,i),infoText:this.props.infoText,infoTitle:this.props.infoTitle,selectionActionCounter:this.props.selectionActionCounter,validateOnBlurOnly:!0}),this.shouldShowButton()?n.createElement(a,{key:"textInputWithButtonButton",ref:"actionButton",onClick:this.handleClick,disabled:!this.state.isFocused,label:this.props.buttonLabel,shouldTranslate:this.props.shouldTranslate}):null)}.apply(this,[])}}),define("baseUI/panelInputs/textInputWithButton",["create-react-class","prop-types","lodash","util","baseUI/panelInputs/statefulInputMixin","baseUI/panelInputs/textInputWithButton.rt"],function(e,t,s,i,n,o){"use strict";return e({displayName:"textInputWithButton",propTypes:{label:t.string,validator:t.oneOfType([t.func,t.arrayOf(t.func)]),asyncValidator:t.oneOfType([t.func,t.arrayOf(t.objectOf(t.func)),t.arrayOf(t.func)]),validateOnBlurOnly:t.bool,blurOnEnterKey:t.bool,invalidMessage:t.oneOfType([t.func,t.string,t.arrayOf(t.string)]),placeholder:t.string,defaultText:t.string,multiLine:t.bool,buttonLabel:t.string,maxLength:t.number,focus:t.bool,infoText:t.string,infoTitle:t.string,fixedButton:t.bool,selectionActionCounter:t.number},mixins:[n,i.translationMixin],getInitialState:function(){return{isFocused:!1}},updateValue:function(e,t){i.valueLink.callOnChangeIfExists(this.props,e,t)},toggleFocus:function(e){this.setState({isFocused:e})},shouldShowButton:function(){return this.props.buttonLabel&&this.props.fixedButton&&this.state.isFocused},render:o})}),define("baseUI/panelInputs/textInputWithFixedButton.rt",["react","lodash","baseUI/controls/button","baseUI/popovers/tooltip","santa-editor-symbols","util"],function(t,s,i,n,e,o){"use strict";return function(){return t.createElement(o.outerClick,{onOuterClick:this.onOuterClick},function(){var e=this.isValid();return t.createElement("div",s.assign({},{className:s({"control-text-input-with-fixed-button":!0,invalid:!this.isValid(),success:this.isValid(),focused:this.state.isFocused}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.filteredProps()),t.createElement(n,{id:this.getTooltipId(),value:this.getValidationStatusMessage(),disabled:this.isValid(),ref:"tooltip"},t.createElement("input",{className:"control-text",value:this.state.value,onChange:this.handleChange,maxLength:this.props.maxLength,onFocus:function(e){this.setFocusState(!0)}.bind(this,e),onKeyPress:this.onKeyPress,type:"text",autoFocus:"true",dir:this.props.dir})),t.createElement(i,{ref:"actionButton",onClick:this.handleClick,label:this.props.buttonLabel,className:s({disabled:!this.isValid()}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")}))}.apply(this,[]))}}),define("baseUI/panelInputs/textInputWithFixedButton",["reactDOM","create-react-class","prop-types","zepto","lodash","util","baseUI/panelInputs/statefulInputMixin","baseUI/panelInputs/inputValidationMixin","baseUI/popovers/tooltipManager","baseUI/panelInputs/textInputWithFixedButton.rt"],function(s,e,t,i,n,o,a,r,l,p){"use strict";return e({displayName:"textInputWithFixedButton",propTypes:{buttonLabel:t.string.isRequired,defaultValue:t.string,maxLength:t.number,focus:t.bool,selectOnFocus:t.bool,shouldChangeOnOuterClick:t.bool,onOuterClick:t.func},mixins:[a,r,o.translationMixin],getDefaultProps:function(){return{dir:"ltr",shouldChangeOnOuterClick:!1}},getInitialState:function(){this.uniqueTooltipId=n.uniqueId();var e=o.valueLink.getValueFromProps(this.props)||this.props.defaultValue;return{value:e,origValue:e,invalidMessage:"",showValidationIcon:!0,isFocused:!1}},uniqueTooltipId:"",setFocusState:function(e){var t=e&&this.props.selectOnFocus&&function(){i("input",s.findDOMNode(this)).select()};this.setState({isFocused:e},t)},handleChange:function(e){var t=e.target.value;this.setState({value:o.stringUtils.removeNonSupportedCharacters(t)},function(){this.isValid()?l.hide(this.getTooltipId()):l.show(this.getTooltipId())}.bind(this))},handleClick:function(){this.onChange()},onOuterClick:function(){this.props.shouldChangeOnOuterClick&&this.onChange(),this.props.onOuterClick&&this.props.onOuterClick()},onChange:function(){this.isValid(this.state.value)&&(o.valueLink.callOnChangeIfExists(this.props,this.state.value),this.setFocusState(!1))},onKeyPress:function(e){"Enter"===e.key&&this.handleClick()},getTooltipId:function(){return"text-input-with-button-validation-error"+this.uniqueTooltipId},getTextInputNode:function(){return s.findDOMNode(this.refs.tooltip)},focusControl:function(){this.setFocusState(!0),this.getTextInputNode().select()},render:p})}),define("baseUI/panelInputs/checkboxWithButton.rt",["react","lodash","baseUI/controls/button","baseUILib","santa-editor-symbols","util"],function(t,e,s,i,n,o){"use strict";return function(){return function(){var e=o.valueLink.getValueFromProps(this.props);return t.createElement("div",{className:o.inheritClassName(this.props,"control-checkbox-with-button")},t.createElement("div",{className:"controls-wrapper"},t.createElement(i.Checkbox,{indeterminate:this.props.indeterminate,value:e,onChange:this.handleChange,ref:"checkbox",disabled:this.props.isCheckboxDisabled,label:this.props.label,shouldTranslate:this.props.shouldTranslate,labelAfterSymbol:!0}),e?t.createElement(s,{key:"ui-button",className:"checkbox-button",label:this.props.buttonLabel,onClick:this.props.onButtonClick,shouldTranslate:this.props.shouldTranslate,disabled:Boolean(this.props.isButtonDisabled)}):null))}.apply(this,[])}}),define("baseUI/panelInputs/checkboxWithButton",["create-react-class","prop-types","baseUI/controls/toggleMixin","baseUI/panelInputs/checkboxWithButton.rt"],function(e,t,s,i){"use strict";return e({displayName:"CheckboxWithButton",mixins:[s],propTypes:{buttonLabel:t.string.isRequired,onButtonClick:t.func,isCheckboxDisabled:t.bool,isButtonDisabled:t.bool,label:t.string},render:i})}),define("baseUI/panelInputs/actionWithSymbol.rt",["react","lodash","santa-editor-symbols"],function(e,t,s){"use strict";return function(){return e.createElement("div",{className:t(this.getClasses()).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onClick:function(e){this.props.action(e)}.bind(this)},this.props.symbol?e.createElement("span",{className:"action-symbol",key:"symbol"},e.createElement(s.symbol,{name:this.props.symbol})):null,e.createElement("span",{className:"action-label"},"\n        ",this.getLabel(),"\n    "))}}),define("baseUI/panelInputs/actionWithSymbol",["create-react-class","prop-types","lodash","util","baseUI/panelInputs/actionWithSymbol.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"actionWithSymbol",propTypes:{label:t.string,action:t.func,symbol:t.string,symbolAlignedRight:t.bool,shouldTranslate:t.bool},getDefaultProps:function(){return{symbolAlignedRight:!1,action:s.noop}},getClasses:function(){return{"action-container":!0,"symbol-left":this.props.symbol&&!this.props.symbolAlignedRight,"symbol-right":this.props.symbol&&this.props.symbolAlignedRight}},getLabel:function(){var e=this.props.label;return this.props.shouldTranslate?i.translate(e):e},render:n})}),define("baseUI/tabs/tabHolder",["react","react-dom-factories","create-react-class","prop-types","util","baseUI/panelInputs/inputMixin","baseUI/mixins/classNameMixin"],function(i,e,t,s,n,o,a){"use strict";return t({displayName:"tabs",propTypes:{className:s.string,style:s.object,defaultTab:s.any},mixins:[o,a],getInitialState:function(){return{value:void 0!==n.valueLink.getValueFromProps(this.props)?n.valueLink.getValueFromProps(this.props):this.props.defaultTab}},componentWillReceiveProps:function(e){var t=n.valueLink.getValueFromProps(e);void 0!==t&&this.state.value!==t&&this.setState({value:t})},setSelected:function(e){n.valueLink.callOnChangeIfExists(this.props,e),this.setState({value:e})},generateChildren:function(){var s=[];return i.Children.forEach(this.props.children,function(e){var t=e.props.type;"tabHeader"===t?s.push(i.cloneElement(e,{setSelected:this.setSelected,value:this.state.value,key:"tab-header"})):"tabContent"===t?s.push(i.cloneElement(e,{value:this.state.value,key:"tab-content"})):s.push(e)},this),s},render:function(){return e.section({className:this.generateClassName("tabs"),style:this.props.style},this.generateChildren())}})}),define("baseUI/tabs/tabHeader",["react","react-dom-factories","create-react-class","baseUI/mixins/classNameMixin"],function(s,e,t,i){"use strict";return t({displayName:"tabHeader",mixins:[i],getDefaultProps:function(){return{type:this.displayName}},getInitialState:function(){return{showMore:!1}},childrenList:[],i:1,showMore:function(){this.setState({showMore:!0})},createLabel:function(e,t){return s.cloneElement(e,{setSelected:this.props.setSelected,selected:void 0!==e.props.for?this.props.value===e.props.for:this.props.value===e.props.htmlFor,key:"tab-label "+t})},createShowMoreLabel:function(e){return s.cloneElement(e,{showMore:this.showMore,key:"tab-show-more-label"})},addChild:function(e){if(!e)return!1;var t=e.props.type,s="tabShowMoreLabel"===t&&!this.state.showMore;return"tabLabel"===t?(this.childrenList.push(this.createLabel(e,this.i)),this.i++):s&&this.childrenList.push(this.createShowMoreLabel(e)),s},generateChildren:function(){var e=this.props.children;return this.i=1,this.childrenList=[],e.constructor===Array?e.some(this.addChild,this):e.constructor===Object&&this.addChild(e),this.childrenList},render:function(){return e.ul({className:this.generateClassName("tab-header"),style:this.props.style},this.generateChildren())}})}),define("baseUI/tabs/tabContent",["react-dom-factories","create-react-class","lodash","baseUI/mixins/classNameMixin"],function(e,t,i,s){"use strict";return t({displayName:"tabContent",mixins:[s],getDefaultProps:function(){return{type:this.displayName}},getSelectedTab:function(){var e=this.props.children,t=!1,s=this.props.value;return e.constructor===Array?t=i.find(e,function(e){return e&&"tab"===e.props.type&&s===e.props.name}):e.constructor===Object&&(t=s===e.props.name?e:null),t},render:function(){return e.section({className:this.generateClassName("tab-content "+this.props.value),style:this.props.style},this.getSelectedTab())}})}),define("baseUI/tabs/tabLabel",["react-dom-factories","lodash","create-react-class","baseUI/mixins/classNameMixin"],function(s,i,e,t){"use strict";return e({displayName:"tabLabel",mixins:[t],getDefaultProps:function(){return{type:this.displayName,tabsAmount:null}},setSelected:function(){var e=this.props,t=void 0!==e.for?e.for:e.htmlFor;e.setSelected(t)},render:function(){var e=this.props.style;if(this.props.tabsAmount){var t=480/this.props.tabsAmount;e=i.assign({},this.props.style,{width:t})}return s.li({onClick:this.setSelected,className:this.generateClassName("tab-label "+(this.props.selected?"selected":"")),style:e,"data-aid":this.props.automationId},this.props.children)}})}),define("baseUI/tabs/tabShowMoreLabel",["react-dom-factories","create-react-class","baseUI/mixins/classNameMixin"],function(e,t,s){"use strict";return t({displayName:"tabShowMoreLabel",mixins:[s],getDefaultProps:function(){return{type:this.displayName}},render:function(){return e.a({onClick:this.props.showMore,className:this.generateClassName("tab-show-more-label"),style:this.props.style},this.props.children)}})}),define("baseUI/tabs/tab",["react","create-react-class","baseUI/mixins/classNameMixin"],function(e,t,s){"use strict";return t({displayName:"tab",mixins:[s],getDefaultProps:function(){return{type:this.displayName}},render:function(){return e.createElement("div",{className:this.generateClassName("tab"),style:this.props.style},this.props.children)}})}),define("baseUI/controls/angle.rt",["react","lodash","baseUI/panelInputs/stepper","util"],function(e,t,s,o){"use strict";return function(){var n=this;return e.createElement("div",{className:"control-angle"},e.createElement("label",{className:t({disabled:this.props.disabled,"control-label":!0}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.translate(this.props.label)),e.createElement("div",{className:t({circle:!0,disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),style:this.getCircleStyle(),onClick:this.onAngleClick},e.createElement("div",{className:"circle-center"}),e.createElement("div",{className:"knob",style:this.getKnobStyle(),onMouseDown:this.onKnobMouseDown})),e.createElement(s,{disabled:this.props.disabled,units:"°",value:o.valueLink.getValueFromProps(this.props),onChange:function(){for(var e,t=arguments.length,s=Array(t),i=0;i<t;i++)s[i]=arguments[i];return(e=o.valueLink).callOnChangeIfExists.apply(e,[n.props].concat(s))},onBlur:this.reportChangeFromUser,min:-1,max:360,step:1}))}}),define("baseUI/controls/angle",["reactDOM","prop-types","create-react-class","lodash","zepto","util","baseUI/mixins/reportUIChangeMixin","baseUI/controls/angle.rt"],function(t,e,s,i,n,o,a,r){"use strict";var l=180/Math.PI;function p(){var e=n(t.findDOMNode(this)).find(".circle-center")[0].getBoundingClientRect();this.circleCenter={x:e.left,y:e.top+window.pageYOffset}}return s({displayName:"angle",mixins:[a,o.translationMixin],translate:o.translate,propTypes:{value:e.any,onChange:e.func,valueLink:o.valueLink.valueLinkPropType},componentDidMount:function(){this.previousValue=o.valueLink.getValueFromProps(this.props)},onKnobMouseDown:function(){p.call(this),n(window.document).on("mousemove",this.changeAngle),n(window.document).on("mouseup",this.removeListenersAndReportChange)},removeListenersAndReportChange:function(){n(window.document).off("mouseup",this.removeListenersAndReportChange),n(window.document).off("mousemove",this.changeAngle),this.reportChangeFromUser()},changeAngle:function(e){var t=Math.atan2(e.pageY-this.circleCenter.y,e.pageX-this.circleCenter.x),s=Math.floor((450+t*l)%360);o.valueLink.callOnChangeIfExists(this.props,s)},reportChangeFromUser:function(){var e=o.valueLink.getValueFromProps(this.props);this.previousValue!==e&&(this.previousValue=e,this.reportUIChange({value:e}))},componentWillUnmount:function(){this.removeListenersAndReportChange()},getCircleStyle:function(){var e=o.valueLink.getValueFromProps(this.props);return{transform:"rotate("+e+"deg)",WebkitTransform:"rotate("+e+"deg)"}},getKnobStyle:function(){var e=o.valueLink.getValueFromProps(this.props);return{transform:"rotate(-"+e+"deg)",WebkitTransform:"rotate(-"+e+"deg)"}},onAngleClick:function(e){p.call(this),this.changeAngle(e)},render:r})}),define("baseUI/treeView/treeUtils",["lodash"],function(s){"use strict";function a(e,t,s){return e.left<=t&&t<=e.right&&e.top<=s&&s<=e.bottom}function r(e,t,s){return t<e?e-t:s<t?s-t:0}function t(e){e.removeAttribute("data-reactid")}function i(e,t){t(e),e&&s.forEachRight(e.children,s.partial(i,s,t))}function o(){return!1}function n(e){return e+"px"}return{isMouseInside:a,getManhattanDistance:function(e,t,s,i){return Math.abs(s-e)+Math.abs(i-t)},getDistanceFromComponent:function(e,t,s){if(a(e,t,s))return 0;var i=r,n=i(e.left,t,e.right),o=i(e.top,s,e.bottom);return Math.sqrt(n*n+o*o)},stripReactIds:function(e){return i(e,t),e},forEachNode:i,forEachChild:function(e,t){e&&s.forEachRight(e.children,t)},hasClass:function(e,t){return e&&t&&e.classList&&e.classList.contains(t)},searchUp:function(e,t,s,i){var n=e;for(s=s||o;n;){if(t.call(i,n))return n;if(s.call(i,n))break;n=n.parentElement||n.parentNode}return null},positionate:function(e,t){return e.style.position="absolute",e.style.top=n(t.top),e.style.left=n(t.left),e},resize:function(e,t){return e.style.width=n(t.width),e.style.height=n(t.height),e},calculateRelativePosition:function(e,t){var s=e.getBoundingClientRect(),i=t.getBoundingClientRect();return{top:i.top-s.top,left:i.left-s.left,right:s.right-i.right,bottom:s.bottom-i.bottom,width:i.width,height:i.height}}}}),define("baseUI/treeView/NodeState",[],function(){"use strict";function e(e){this.node=e,this.initialState={parentNode:e.parentNode,nextSibling:e.nextSibling,className:e.className}}return e.prototype.restore=function(){var e=this.node,t=this.initialState;e.parentNode===t.parentNode&&e.nextSibling===t.nextSibling||(t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e)),e.className!==t.className&&(e.className=t.className)},e}),define("baseUI/treeView/Path",[],function(){"use strict";function i(e){this.path=e||[]}function o(e,t){return e&&e[t]}function a(e,t,s){return e&&e[s]&&e[s][t]}function r(e,t,s){return s(e,t)}return i.prototype.length=function(){return this.path.length},i.prototype.append=function(e){if(void 0===e)throw new Error("segment should be defined");return new i(this.path.concat(e))},i.prototype.findIn=function(e,t){var s=e,i=void 0,n=void 0;for(void 0===t&&(n=o),"string"==typeof t&&(n=a),"function"==typeof t&&(n=r),i=0;s&&i<this.path.length;i++)s=n(s,this.path[i],t);return s},i.prototype.parent=function(){return new i(this.path.slice(0,this.path.length-1))},i.prototype.at=function(e){if("number"!=typeof e)throw new Error("index should be a number");return this.path[e]},i.prototype.first=function(e){return new i(this.path.slice(0,e||1))},i.prototype.atRight=function(e){return this.path[this.path.length-(e||0)-1]},i.prototype.toString=function(){return this.path.join(", ")},i.prototype.equalsTo=function(s){return this===s||s instanceof i&&(this.length()===s.length()&&this.path.every(function(e,t){return e===s.path[t]}))},i.prototype.startsWith=function(e,t){return e instanceof i&&(!(e.length()>this.length())&&((!t||e.length()!==this.length())&&e.path.every(function(e,t){return e===this.path[t]},this)))},i.prototype.inc=function(e){if(0===this.length())return new i([0]);var t=this.path.slice();return t[t.length-1]+=void 0===e?1:e,new i(t)},i.prototype.dec=function(e){return void 0===e?this.inc(-1):this.inc(-e)},i.prototype.increment=function(e){var t=void 0;return this.length()===e?t=this.append(0):(t=this.first(e+1)).path[e]+=1,t},i}),define("baseUI/treeView/TreeModel",["lodash","baseUI/treeView/Path","baseUI/treeView/treeUtils"],function(e,s,i){"use strict";var n={treeClass:"",treeNodeClass:"",treeNodeLabelClass:"",collapsedClass:"",cantBeChildClass:""};function t(e){return i.hasClass(e,n.treeNodeClass)}function o(e,t){var s;s=t,n.treeClass=s.treeClass,n.treeNodeClass=s.treeNodeClass,n.treeNodeLabelClass=s.treeNodeLabelClass,n.collapsedClass=s.collapsedClass,n.previewClass=s.previewClass,n.cantBeChildClass=s.cantBeChildClass,this.dom=e,this.children=[],this.refresh()}function a(e,t){return e&&(e.path=t),e}function r(e){var t=e.getElementsByClassName(n.treeClass)[0];this.dom=e,this.path=void 0,this.children=p(t),this.childrenLength=this.dom.dataset&&parseInt(this.dom.dataset.numofchildren||"0",10)}function l(e){return new r(e)}function p(e){return e&&e.children&&0<e.children.length?Array.prototype.slice.call(e.children).filter(t).map(l):[]}return o.prototype.getChildHeight=function(){var e=this.children[0],t=e&&e.getLabel(),s=t&&t.getBoundingClientRect();return s?Math.round(1.15*s.height):NaN},o.prototype.refresh=function(){this.dom&&(this.children=p(this.dom))},o.prototype.findByDom=function(e){if(this.dom===e)return a(this,new s);var t=function i(e,n,o){return e.children.reduce(function(e,t,s){return e||(t.dom===n?o.concat(s):i(t,n,o.concat(s)))},null)}(this,e,[]);return Array.isArray(t)?(t=new s(t),a(this.findByPath(t),t)):null},o.prototype.findByPath=function(e){return a(e.findIn(this,"children")||null,e)},o.prototype.findParentTree=function(e){var t,s=this.findByPath(e.parent());return s&&(t=s.dom,!i.hasClass(t,n.treeClass))?s.dom.getElementsByClassName(n.treeClass)[0]||null:s&&s.dom},o.prototype.insert=function(e,t){var s=this.findParentTree(t),i=function(e,t){for(var s=0;s<e.length;s++)if(e[s]===t)return s;return-1}(s.children,e),n=t.atRight(),o=0<=i&&i<n?1:0,a=s&&s.children[n+o];i!==n&&(a?s.insertBefore(e,a):s.appendChild(e),this.refresh())},r.prototype.getLabel=function(){var e=this.dom.getElementsByClassName(n.treeNodeLabelClass)[0];return e&&e.parentNode!==this.dom?null:e},r.prototype.hasChildren=function(){return 0<this.childrenLength},r.prototype.cantBeChild=function(){return this.hasChildren()||(e=this.dom,i.hasClass(e,n.cantBeChildClass));var e},r.prototype.isCollapsed=function(){return this.hasChildren()&&(e=this.dom,i.hasClass(e,n.collapsedClass));var e},r.prototype.getFirstInsertPosition=function(){return this.isCollapsed()?this.getLastInsertPosition():0},r.prototype.getLastInsertPosition=function(e){return e?Math.max(0,(this.childrenLength||this.children.length)-1):this.childrenLength||this.children.length},o}),define("baseUI/treeView/DragVector",[],function(){"use strict";function e(e,t){this.depth=e,this.position=t}return e.prototype.isOutside=function(){return this.depth<0},e.prototype.isInside=function(){return 0<this.depth},e.prototype.isBack=function(){return this.position<0},e.prototype.isForward=function(){return 0<this.position},e.prototype.isZero=function(){return 0===this.depth&&0===this.position},e.prototype.toString=function(){return[this.depth,this.position].join(", ")},e}),define("baseUI/treeView/HierarchicalDragAlgorithm",["baseUI/treeView/DragVector"],function(c){"use strict";function e(e){this.root=e.root,this.tree=e.tree,this.draggedNode=null,this.threshold={dx:NaN,dy:NaN},this.x0=NaN,this.y0=NaN,this.x1=NaN,this.y1=NaN}function u(e,t,s){return Math.max(e,Math.min(t,s))}return e.prototype.setInitialPosition=function(e,t,s){this.tree.refresh(),this.threshold={dx:23,dy:.5*this.tree.getChildHeight()},this.draggedNode=this.tree.findByDom(e);var i=this.draggedNode.path.length()-1;this.x0=t-(1+i*this.threshold.dx)+this.root.scrollLeft,this.y0=s+this.root.scrollTop,this.x1=NaN,this.y1=NaN},e.prototype.setDragPosition=function(e,t){this.x1=e+this.root.scrollLeft,this.y1=t+this.root.scrollTop,this.updateLayout()},e.prototype.applyDragVector=function(e){var t=this.tree,s=this.draggedNode.path,i=this.draggedNode.cantBeChild(),n=s.length()-1,o=i?n:u(0,n+e.depth,1),a=s.inc(e.position),r=t.findByPath(a);if(r&&r.hasChildren()&&!r.isCollapsed()){if(i)return a;0<e.position&&(a=a.append(r.getFirstInsertPosition())),e.position<0&&(a=a.append(r.getLastInsertPosition()))}if(r||0!==n||(a=s),!r&&0<n&&(a=s.parent().inc(e.position),a=(r=t.findByPath(a))&&0<e.position?a.append(r.getFirstInsertPosition()):r&&e.position<0?a.append(r.getLastInsertPosition()):e.position<0?a.inc():s),n<o&&1===a.length()&&(r=t.findByPath(a.dec(1)))&&!r.path.equalsTo(s)&&(a=r.path.append(r.children.length)),o<n&&2===a.length()){var l=t.findByPath(a.parent()).getLastInsertPosition(!0);if(a.atRight()===l)return a.parent().inc()}return a},e.prototype.updateLayout=function(){var e,t,s,i,n,o=(t=(e=this).x1-e.x0,s=e.y1-e.y0,i=parseInt(t/e.threshold.dx,10),n=parseInt(s/e.threshold.dy,10),new c(u(-1,i,1),u(-1,n,1)));if(!o.isZero()){var a=this.draggedNode,r=this.applyDragVector(o);if(!r.equalsTo(a.path)){r.length()===a.path.length()&&(o.depth=0);var l=a.dom.getBoundingClientRect();this.tree.insert(a.dom,r),this.draggedNode=this.tree.findByDom(a.dom);var p=a.dom.getBoundingClientRect();this.x0+=Math.abs(o.depth)*(p.left-l.left),this.y0+=Math.abs(o.position)*(p.top-l.top)}}},e}),define("baseUI/treeView/treeDocker",["reactDOM","react","create-react-class","prop-types","zepto","lodash","baseUI/treeView/treeUtils","baseUI/treeView/NodeState","baseUI/treeView/TreeModel","baseUI/treeView/HierarchicalDragAlgorithm"],function(p,t,e,s,a,i,c,r,n,o){"use strict";return e({displayName:"treeDocker",propTypes:{treeClass:s.string.isRequired,treeNodeClass:s.string.isRequired,treeNodeLabelClass:s.string.isRequired,collapsedClass:s.string.isRequired,draggedClass:s.string.isRequired,previewClass:s.string.isRequired,cantBeChildClass:s.string,className:s.string,scrollTopGetter:s.func,onNodeMoved:s.func},componentDidMount:function(){var e=p.findDOMNode(this),t=e.getElementsByTagName("ul")[0];this.algorithm=new o({root:e,tree:new n(t,{treeClass:this.props.treeClass,treeNodeClass:this.props.treeNodeClass,treeNodeLabelClass:this.props.treeNodeLabelClass,collapsedClass:this.props.collapsedClass,draggedClass:this.props.draggedClass,previewClass:this.props.previewClass,cantBeChildClass:this.props.cantBeChildClass})})},componentWillUnmount:function(){this.dragData=null,this.algorithm=null},nativeDragStart:function(e){e.preventDefault(),e.stopPropagation()},startDrag:function(e){a(window.document.body).addClass("block-selection");var t=a(window.document);t.off("mousemove",this.onMouseMove),t.off("mouseup",this.onMouseUp);var s=p.findDOMNode(this),i=this.findLabel(e.target,s),n=void 0,o=void 0;this.dragData=null,this.removeGhostElements(s),i&&((n=this.findListItem(i)).classList.remove(this.props.previewClass),n.attributes["data-disable-drag"]&&n.attributes["data-disable-drag"].value||(o=new r(n),this.dragData={root:s,clickedLabel:i,draggedNode:n,initialState:o,ghostElement:null,sx:e.clientX,sy:e.clientY,nx:NaN,ny:NaN},this.algorithm.setInitialPosition(n,this.dragData.sx,this.dragData.sy+this.getScrollTop()),t.on("mousemove",this.onMouseMove),t.on("mouseup",this.onMouseUp)))},removeGhostElements:function(t){var s=this.props.draggedClass;t=t||p.findDOMNode(this),c.forEachChild(t,function(e){c.hasClass(e,s)&&t.removeChild(e)})},findLabel:function(e,t){return c.searchUp(e,this.isTreeLabel,function(e){return e===t},this)},findListItem:function(e,t){return c.searchUp(e,this.isTreeItem,function(e){return e===t},this)},insertGhostElement:function(e,t){var s,i,n,o,a,r,l=this.props.draggedClass;return s=e,i=t||p.findDOMNode(this),n=l,o=c.calculateRelativePosition(i,s),a=s.cloneNode(!0),(r=s.parentNode.cloneNode(!1)).classList.add(n),r.appendChild(a),c.stripReactIds(a),c.stripReactIds(r),c.resize(a,o),c.positionate(r,o),i.appendChild(r),r},onMouseMove:function(e){if(this.dragData){var t=this.dragData;t.ghostElement||this.startDragIfNeeded(e),t.ghostElement&&(this.processDragMove(e),t.ghostElement.style.left=Math.min(44,Math.max(t.nx,10))+"px",t.ghostElement.style.top=Math.min(t.root.offsetHeight+10,Math.max(-5,t.ny))+"px")}},startDragIfNeeded:function(e){var t=this.dragData;5<c.getManhattanDistance(t.sx,t.sy,e.clientX,e.clientY)&&(t.ghostElement=this.insertGhostElement(t.clickedLabel,t.root),t.draggedNode.classList.add(this.props.previewClass),t.nx=parseInt(t.ghostElement.style.left,10),t.ny=parseInt(t.ghostElement.style.top,10))},getScrollTop:function(){return this.props.scrollTopGetter&&this.props.scrollTopGetter()||0},processDragMove:function(e){var t=this.dragData;t.nx+=e.clientX-t.sx,t.ny+=e.clientY-t.sy,t.sx=e.clientX,t.sy=e.clientY,this.algorithm.setDragPosition(e.clientX-12,e.clientY+this.getScrollTop())},onMouseUp:function(e){if(this.dragData){var t=Boolean(this.dragData.ghostElement);t&&this.processDragMove(e),this.removeGhostElements(),this.dragData.initialState.restore(),t&&this.processDragEnd(),this.dragData=null;var s=a(window.document);a(window.document.body).removeClass("block-selection"),s.off("mousemove",this.onMouseMove),s.off("mouseup",this.onMouseUp)}},processDragEnd:function(){if("function"==typeof this.props.onNodeMoved){var e=this.algorithm,t=e.tree,s=e.draggedNode,i=s.dom,n=s.path.parent(),o=t.findByPath(n).dom,a=s.path.atRight(),r=this.props.onNodeMoved;t.refresh();var l=t.findByDom(i).path,p=t.findByDom(o).path;p=p.append(a),l.equalsTo(p)||r({from:l,to:p})}},isTreeItem:function(e){return c.hasClass(e,this.props.treeNodeClass)},isTreeLabel:function(e){return c.hasClass(e,this.props.treeNodeLabelClass)},render:function(){var e={className:this.props.className};return this.props.isDragAvailable&&(e.onMouseDown=this.startDrag,e.onDragStart=this.nativeDragStart),t.createElement("div",e,this.props.children)}})}),define("baseUI/treeView/treeView.rt",["react","lodash","experiment"],function(n,o,s){"use strict";return function(){return function(){var e=this.getTreeNodeClass(),t=this.getChildren();return n.createElement.apply(this,["ul",{className:this.props.className+(this.props.isRoot?" tree-root":"")},s.isOpen("pagesPanelOpenCollapsed")&&this.props.isCollapsed?null:o.map(t,function(e,t,s,i){return n.createElement(e,o.assign({},{key:s.id},this.passNodeProps(s,i)))}.bind(this,e,t))])}.apply(this,[])}}),define("baseUI/treeView/treeNode.rt",["react","lodash","santa-editor-symbols"],function(n,o,a){"use strict";return function(){return function(){var e=this.getTreeViewClass(),t=this.props.nodeContent,s=this.getChildren().length,i=this.hasChildren();return n.createElement("li",{"data-numofchildren":s,"data-disable-drag":this.props.dataSource.type.isDynamicPage||this.props.dataSource.type.isRouter,className:o({"tree-collapsed":this.state.collapsed,"has-children":this.hasChildren(),"pages-tree-node":!0}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onContextMenu:this.onContextMenu},n.createElement("span",{className:"expander",onClick:this.toggleCollapsed},i&&this.state.collapsed?n.createElement(a.symbol,{key:"expand",name:"expand"}):null,this.state.collapsed?null:n.createElement(a.symbol,{key:"collapse",name:"collapse"})),n.createElement(t,this.passNodeContentProps(this.props.dataSource)),n.createElement(e,o.assign({},{isCollapsed:this.state.collapsed},this.passNodeProps())))}.apply(this,[])}}),define("baseUI/treeView/treeView",["create-react-class","prop-types","lodash","util","baseUI/panelInputs/inputMixin","baseUI/treeView/treeView.rt","baseUI/treeView/treeNode.rt"],function(e,t,n,i,s,o,a){"use strict";function r(){return{nodePath:[],dataSource:[],collapsedSelector:null,childrenSelector:"items",nodeTemplate:a,treeTemplate:o,openSettings:function(){}}}function l(e,t){var s,i;return n(this.props).omit(["selected","isRoot"]).assign({dataSource:e||this.getChildren(),nodePath:(s=this.props.nodePath,i=t,void 0===i?s:s.concat(i))}).assign(e&&e.id&&{key:e.id}).value()}function p(e,t,s){return"string"==typeof t?e[t]:"function"==typeof t?t.call(s,e):void 0}function c(e,t){return Array.isArray(e)?e:p(e,t.props.childrenSelector,t)||[]}function u(e,t){return Boolean(p(e,t.props.collapsedSelector,t))}var h=e({displayName:"treeNode",propTypes:{dataSource:t.object,onNodeToggled:t.func,onNodeContextMenu:t.func,nodeTemplate:t.func,treeTemplate:t.func},mixins:[s],getDefaultProps:r,getInitialState:function(){return{selected:!1,collapsed:u(this.props.dataSource,this)}},componentWillReceiveProps:function(e){var t=u(e.dataSource,this);this.state.collapsed!==t&&this.setState({collapsed:t})},isSelected:function(){var e=this.props.dataSource,t=i.valueLink.getValueFromProps(this.props);if(this.props.equalityComparer){var s=this.props.equalityComparer;return Boolean(s(e,t))}return e===t},passNodeProps:l,passNodeContentProps:function(e){return n(this.props).omit(["selected","isRoot"]).assign({dataSource:e,isSelected:this.isSelected(),setSelected:this.setSelected}).assign(e&&e.id&&{key:e.id}).value()},getChildren:function(){return c(this.props.dataSource,this)},hasChildren:function(){return 1<=this.getChildren().length},toggleCollapsed:function(e){var t=!this.state.collapsed;this.props.onNodeToggled&&this.props.onNodeToggled(this,t),this.setState({collapsed:t}),e&&(e.preventDefault(),e.stopPropagation())},setSelected:function(e){this.setState({selected:!0}),i.valueLink.callOnChangeIfExists(this.props,this.props.dataSource),e&&(e.preventDefault(),e.stopPropagation())},onContextMenu:function(e){this.props.onNodeContextMenu(e,this.props.dataSource)},getTreeViewClass:function(){return d},render:function(){return this.props.nodeTemplate.call(this)}}),d=e({displayName:"treeView",mixins:[s],getDefaultProps:r,passNodeProps:l,getChildren:function(){return c(this.props.dataSource,this)},getTreeNodeClass:function(){return h},render:function(){return this.props.treeTemplate.call(this)}});return d}),define("baseUI/controls/datePicker.rt",["react","lodash","baseUI/controls/button","santa-editor-symbols","util"],function(a,o,e,t,r){"use strict";return function(){function n(e,t,s,i,n,o){return a.createElement("td",{onClick:function(e,t,s,i,n,o){r.valueLink.callOnChangeIfExists(this.props,e[7*s+n])}.bind(this,e,t,s,i,n,o)},a.createElement("div",{className:this.getElementClasses(e[7*s+n])},e[7*s+n]?e[7*s+n].getDate():""))}return a.createElement("div",{className:"input-date-picker"},a.createElement("div",{className:"dp-header"},a.createElement("div",{className:"dp-navigate dp-previous",onClick:function(){this.updateMonth(-1)}.bind(this)},a.createElement(t.symbol,{name:"greaterThen"})),a.createElement("div",{className:"dp-title"},this.getMonthTitle()),a.createElement("div",{className:"dp-navigate dp-next",onClick:function(){this.updateMonth(1)}.bind(this)},a.createElement(t.symbol,{name:"greaterThen"}))),a.createElement("div",{className:"dp-body"},function(){var e=this.getDatesInMonth(),t=this.state.value.getMonth();return a.createElement("table",{},a.createElement("thead",{},a.createElement.apply(this,["tr",{},o.map(this.getDays(),function(e,t,s,i){return a.createElement("td",{},a.createElement("div",{className:"dp-day-name"},s))}.bind(this,e,t))])),a.createElement.apply(this,["tbody",{},o.map(o.range(e.length/7),function(e,t,s,i){return a.createElement.apply(this,["tr",{className:"dp-week",key:e[7*s].getFullYear()+"_"+e[7*s].getMonth()+"_"+s},o.map(o.range(7),n.bind(this,e,t,s,i))])}.bind(this,e,t))]))}.apply(this,[])),a.createElement("div",{className:"dp-footer"+(this.props.showDelete?" with-delete-btn":"")},this.props.showDelete?a.createElement(e,{className:"delete-btn",key:"deleteButton",icon:"delete",onClick:function(){r.valueLink.callOnChangeIfExists(this.props,null)}.bind(this)}):null,a.createElement(e,{className:"goto-today",onClick:function(){this.setState({value:new Date})}.bind(this),label:this.translateIfNeeded(this.props.todayLabel),shouldTranslate:!1}),a.createElement(e,{className:"goto-selection",disabled:!this.props.value,onClick:function(){r.valueLink.getValueFromProps(this.props)&&this.setState({value:r.valueLink.getValueFromProps(this.props)})}.bind(this),shouldTranslate:!1,label:this.translateIfNeeded(this.props.goToSelectedLabel)})))}}),define("baseUI/controls/datePicker",["create-react-class","prop-types","lodash","util","baseUI/controls/datePicker.rt"],function(e,t,n,s,i){"use strict";return e({displayName:"datePicker",mixins:[s.translationMixin],propTypes:{todayLabel:t.string,goToSelectedLabel:t.string,startDay:t.string,days:t.arrayOf(t.string),monthNames:t.arrayOf(t.string),showDelete:t.bool,fixedNumberOfRows:t.bool,value:t.any,onChange:t.func,valueLink:s.valueLink.valueLinkPropType},getDefaultProps:function(){return{todayLabel:"Today",goToSelectedLabel:"Go to selected",value:new Date,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],fixedNumberOfRows:!0}},getDays:function(){for(var e=n.map(this.props.days,this.translateIfNeeded),t=this.props.startDay?this.translateIfNeeded(this.props.startDay):e[0];e[0]!==t;)e.push(e.shift());return e},getInitialState:function(){return{value:s.valueLink.getValueFromProps(this.props)||new Date}},getDatesInMonth:function(){for(var e=[],t=new Date(this.state.value.getFullYear(),this.state.value.getMonth(),1),s=this.props.startDay?this.props.days.indexOf(this.props.startDay):0;t.getDay()!==s;)t=new Date(t.getFullYear(),t.getMonth(),t.getDate()-1),e.unshift(t);for(t=new Date(this.state.value.getFullYear(),this.state.value.getMonth(),1);t.getMonth()===this.state.value.getMonth();)e.push(t),t=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1);for(;t.getDay()!==s;)e.push(t),t=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1);if(this.props.fixedNumberOfRows){var i=42-e.length;n.times(i,function(){e.push(t),t=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1)})}return e},updateMonth:function(e){var t=new Date(this.state.value.getFullYear(),this.state.value.getMonth()+e,this.state.value.getDate());this.setState({value:t})},getElementClasses:function(e){var t=["dp-day",!e||e.getMonth()!==this.state.value.getMonth()&&"dp-day-not-in-current-month",this.isEquals(e,s.valueLink.getValueFromProps(this.props))&&"dp-day-selected",this.isEquals(e,new Date)&&"dp-today"];return n(t).compact().join(" ")},isEquals:function(e,t){return!(e&&!t||t&&!e)&&(e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())},getMonthTitle:function(){var e=this.props.monthNames[this.state.value.getMonth()];return this.translateIfNeeded(e)+" "+this.state.value.getFullYear()},render:i})}),define("baseUI/controls/image.rt",["react","lodash","util"],function(n,o,a){"use strict";return function(){return function(){var e,t,s,i=this.getImageProps();return n.createElement("div",{className:a.inheritClassName(this.props),style:this.getContainerStyle(i.css.container)},"img"===this.imageHtmlTag?n.createElement("img",{key:"image_type_img",src:this.getUrl(i.uri),style:this.getImageStyle(i.css.img),onLoad:this.props.onLoad}):null,this.effectName&&"img"===this.imageHtmlTag?n.createElement("svg",{key:"svg_type_img",version:"1.1",style:this.getSvgStyle()},n.createElement("defs",{dangerouslySetInnerHTML:{__html:this.getFilterDefinition()}})):null,"svg"===this.imageHtmlTag?n.createElement("svg",(e={key:this.getLegacyKey(i),version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:this.getLegacySvgStyle(i),dangerouslySetInnerHTML:{__html:this.getLegacySvgInnerHtml(i)}},t=i.attr.container,s=o.assign({},e,t),e.hasOwnProperty("style")&&(s.style=o.defaults(s.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(s.className=t.className+" "+e.className),s)):null)}.apply(this,[])}}),define("baseUI/controls/image",["create-react-class","prop-types","lodash","util","coreUtilsLib","baseUI/controls/image.rt"],function(e,t,g,l,s,i){"use strict";var n=function(){var e="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent;if(e){var t=s.browserDetection(e).browser;return!(t.ie||t.edge)}return!0}();return e({displayName:"Image",propTypes:{imageData:t.object.isRequired,imageWidth:t.number.isRequired,imageHeight:t.number.isRequired,fittingType:t.string,crop:t.object,debounce:t.number,onLoad:t.func,isClip:t.bool},getSvgStyle:function(){return{width:this.props.imageWidth,height:this.props.imageHeight,left:0,top:0,overflow:"hidden",position:"absolute"}},filterId:"",effectName:"",imageHtmlTag:"img",getInitialState:function(){var e=g.get(this.props.imageData,["filterEffect","effectType"])||g.get(this.props.imageData,"effectName","none");return"none"!==e&&(this.effectName=e,this.filterId="filter_"+g.uniqueId(),n||(this.imageHtmlTag="svg")),{imageUrl:""}},componentWillMount:function(){this.updateImageUrl=g.debounce(this.updateImageUrl,this.props.debounce||0,{trailing:!0})},componentDidMount:function(){this.mounted=!0,this.imageUrlToSetOnMount&&this.updateImageUrl(this.imageUrlToSetOnMount)},componentWillUnmount:function(){this.mounted=!1},updateImageUrl:function(e){var t=this;this.mounted?this.setState({imageUrl:e},function(){delete t.imageUrlToSetOnMount}):this.imageUrlToSetOnMount=e},setImageHtmlTag:function(){var e=this.props.crop,t=e&&(e.svgId||e.svgStr);this.effectName||t?(t?this.maskId=this.maskId||"mask_"+g.uniqueId():this.maskId&&(this.maskId=null),(this.effectName||t)&&(this.imageHtmlTag="svg")):(this.imageHtmlTag="img",this.maskId&&(this.maskId=null))},getContainerStyle:function(e){return g.assign({},this.props.style||{},e)},getImageStyle:function(e){return this.effectName?g.assign({WebkitFilter:this.filterId?"url(#"+this.filterId+")":"",filter:this.filterId?"url(#"+this.filterId+")":""},e):e},getImageProps:function(){this.setImageHtmlTag();var e=l.imageTransform.getFromImageData(this.props.imageData,this.props.imageWidth,this.props.imageHeight,this.props.fittingType||l.imageTransform.fittingTypes.SCALE_TO_FILL,l.imageTransform.alignTypes.CENTER,this.imageHtmlTag);return this.props.debounce&&e.uri!==this.state.imageUrl&&this.updateImageUrl(e.uri),e},getUrl:function(e){return this.props.debounce?this.state.imageUrl:e},getFilterDefinition:function(){return this.filterId?l.imageEffects.getFilter(this.filterId,this.effectName,g.get(this.props.imageData,"filterEffect")):""},getMaskDefinition:function(){var e=this.props.crop;if(e){var t=e.svgStr,s=e.svgDomId,i=e.width,n=e.height,o=e.x,a=e.y;i||(n=i="100%",a=o=0);var r=function(e){var t=e.width,s=e.height,i=2*e.x+t,n=2*e.y+s,o=void 0,a=void 0;switch(e.flip){case"x":o="1 -1",a="0 -"+n;break;case"y":o="-1 1",a="-"+i+" 0";break;case"xy":o="-1 -1",a="-"+i+" -"+n;break;default:o="1 1",a="0 0"}return"scale("+o+") translate("+a+")"}(e);return l.imageEffects.getMask(this.maskId,s,t,{width:i,height:n,x:o,y:a,transform:r},this.props.isClip)}return""},getLegacySvgStyle:function(e){return g.assign({width:Math.round(this.props.imageWidth),height:Math.round(this.props.imageHeight)},e.css.container)},getMaskContour:function(){var e=this.props.crop,t=e.svgDomId,s=e.maskContour,i=e.width,n=e.height,o=e.x,a=e.y,r=s.width;return'<use xlink:href="#'+t+'" x="'+o+'" y="'+a+'" width="'+i+'" height="'+n+'" stroke="'+s.color+'" stroke-width="'+r+'"></use>'},getLegacySvgInnerHtml:function(e){var t,s,i,n,o,a,r,l,p,c,u="<defs>"+this.getFilterDefinition()+this.getMaskDefinition()+"</defs>",h=g.assign({filter:this.filterId&&"url(#"+this.filterId+")",mask:this.maskId&&"url(#"+this.maskId+")",src:e.uri},e.attr.img),d=(s=(t=h).src,i=t.x,n=t.y,o=t.width,a=t.height,r=t.transform,l=t.preserveAspectRatio,p=t.filter,c=t.mask,'<image xlink:href="'+s+'" x="'+(i||0)+'" y="'+(n||0)+'" width="'+o+'" height="'+a+'" transform="'+r+'" preserveAspectRatio="'+l+'"'+(p=p?' filter="'+p+'"':"")+(c=c?' mask="'+c+'"':"")+"/>"),m=this.props.crop;return""+u+(m&&m.maskContour?this.getMaskContour():"")+d},getLegacyKey:function(e){var t=this.props.crop,s=t?"_"+t.x+"_"+t.y+"_"+t.width+"_"+t.height+(t.flip?"_"+t.flip:"")+(t.svgId?"_"+t.svgId:""):"";return"svg_type_svg"+e.attr.img.width*e.attr.img.height+s},render:i})}),define("baseUI/controls/radio.rt",["react","lodash","santa-editor-symbols","util","baseUI/popovers/tooltip","baseUI/controls/image"],function(e,t,s,i,n,o){"use strict";return function(){return e.createElement(n,{ref:"tooltip",value:this.props.tooltip||this.props.label,disabled:!this.shouldShowTooltip(),shouldTranslate:!0},e.createElement("label",{className:"radio-control "+this.getClassName("control-"+this.props.name)+" "+t({disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),key:this.props.name,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut},e.createElement("input",{className:"input-"+this.props.name,type:"radio",name:this.props.group,checked:i.valueLink.getValueFromProps(this.props),disabled:!!this.props.disabled,onChange:this.props.onChange}),"symbol"===this.props.radioType?e.createElement(s.symbol,{className:t(this.getRadioClasses()).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),key:"radio-symbol",name:this.props.name}):null,"class"===this.props.radioType?e.createElement("div",{className:"class-"+this.props.name,key:"radio-class"}):null,"image"===this.props.radioType&&this.props.imageData?e.createElement("div",{className:"image-radio image-radio-"+this.props.valueName,key:"radio-image"},e.createElement(o,{className:"image-radio-src",imageData:this.props.imageData,imageWidth:this.props.imageWidth,imageHeight:this.props.imageHeight})):null,this.props.notifySymbol?e.createElement("div",{ref:"notifySymbol",key:"notifySymbol",className:"notify-symbol "+this.props.notifySymbolClassName,onMouseOver:function(){this.toggleNotifySymbolTooltip(!0)}.bind(this),onMouseLeave:function(){this.toggleNotifySymbolTooltip(!1)}.bind(this)},e.createElement("span",{},e.createElement(s.symbol,{name:this.props.notifySymbol,onClick:this.props.onNotifySymbolClick}))):null,this.props.label?e.createElement("span",{ref:"label",className:"label label-"+this.props.name+" "+t({disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),key:"radio-label"},this.props.translate?i.translate(this.props.label):this.props.label):null))}}),define("baseUI/controls/radio",["reactDOM","create-react-class","prop-types","lodash","baseUI/panelInputs/inputMixin","baseUI/mixins/classNameMixin","baseUI/popovers/tooltipManager","baseUI/controls/radio.rt"],function(e,t,s,i,n,o,a,r){"use strict";return t({displayName:"radio",mixins:[n,o],propTypes:{options:s.array,name:s.string,imageData:s.object,imageWidth:s.number,imageHeight:s.number,label:s.string,tooltip:s.string,group:s.string,onChange:s.func,disabled:s.bool,translate:s.bool,onMouseOver:s.func,onMouseOut:s.func,notifySymbol:s.string,onNotifySymbolClick:s.func,notifySymbolClassName:s.string,notifSymbolTooltip:s.string,radioType:s.oneOf(["image","symbol","class"])},getDefaultProps:function(){return{notifySymbolClassName:"notify-symbol-small-right",disabled:!1,translate:!0}},isLabelEllipsisActive:function(){return this.props.label&&this.props.ellipsis&&e.findDOMNode(this).offsetWidth<e.findDOMNode(this.refs.label).scrollWidth},componentDidMount:function(){this.labelEllipsActive=this.isLabelEllipsisActive()},componentDidUpdate:function(){this.labelEllipsActive=this.isLabelEllipsisActive()},shouldShowTooltip:function(){return this.props.tooltip||this.labelEllipsActive},toggleNotifySymbolTooltip:function(e){e&&this.props.notifySymbolTooltip?a.createTooltip(!0,{id:"notifySymbol",targetNode:this.refs.notifySymbol,value:this.props.notifySymbolTooltip}):a.hide("notifySymbol")},getRadioClasses:function(){var e={"svg-radio":!0,disabled:this.props.disabled};return e["svg-radio-"+this.props.name]=!0,e},render:r})}),define("baseUI/controls/thumbnails.rt",["react","lodash","util","santa-editor-symbols","baseUI/controls/infoIcon","baseUI/controls/radio"],function(i,n,o,e,t,a){"use strict";return function(){return i.createElement.apply(this,["div",{className:this.getClassName("control-thumbnails")+" "+n({"with-title":!!this.props.title,square:this.props.square}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),"data-max-thumbs-per-row":this.props.maxThumbsPerRow,"data-items-to-skip":this.props.itemsToSkip},this.props.infoText?i.createElement(t,{key:"infoIcon",title:this.props.infoTitle,text:this.props.infoText}):null,this.props.title?i.createElement("div",{key:"title"},o.translate(this.props.title)):null,n.map(this.props.options,function(e,t,s){return function(e,t){var s=o.valueLink.getValueFromProps(this.props);return i.createElement(a,{key:e.value,radioType:e.radioType||this.props.radioType,name:e.symbolName||e.className,imageData:e.imageData,imageWidth:e.width,imageHeight:e.height,disabled:e.disabled,translate:e.translate,label:e.label,tooltip:e.tooltip,ellipsis:!0,group:this.getRadioGroupId(),value:n.isEqual(e.value,s),valueName:e.value,notifySymbol:e.notifySymbol,notifySymbolTooltip:e.notifySymbolTooltip,onNotifySymbolClick:e.onNotifySymbolClick,onChange:function(e,t,s){this.handleChange(e.value,e.type)}.bind(this,e,t,s),onMouseOver:function(e,t,s){this.onMouseOver(e.value)}.bind(this,e,t,s),onMouseOut:function(e,t,s){this.onMouseOut(s)}.bind(this,e,t,s)})}.apply(this,[e,t])}.bind(this))])}}),define("baseUI/controls/thumbnails",["create-react-class","prop-types","lodash","baseUI/controls/radioButtonsMixin","baseUI/controls/thumbnails.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"Thumbnails",mixins:[i],propTypes:{options:t.arrayOf(t.shape({value:t.oneOfType([t.string,t.bool,t.number]).isRequired,className:t.string})),maxThumbsPerRow:t.string,itemsToSkip:t.string,title:t.string,onMouseOver:t.func,onMouseOut:t.func,infoTitle:t.string,infoText:t.string,square:t.bool,radioType:t.oneOf(["image","symbol","class"])},getDefaultProps:function(){return{radioType:"symbol",itemsToSkip:"0",options:[{value:"1",label:"16:9",symbolName:"aspect-ratio-16-9"},{value:"2",label:"4:3",symbolName:"aspect-ratio-4-3"},{value:"3",label:"1:1",symbolName:"aspect-ratio-1-1"},{value:"4",label:"1:1",symbolName:"aspect-ratio-3-4"},{value:"5",label:"1:1",symbolName:"aspect-ratio-1-1"}],square:!0}},onMouseOver:function(e){this.props.onMouseOver&&this.props.onMouseOver(e)},onMouseOut:function(e){this.props.onMouseOut&&this.props.onMouseOut(e)},render:n})}),define("baseUI/controls/radioWithIcon.rt",["react","lodash","santa-editor-symbols","util","baseUI/popovers/tooltip"],function(e,t,s,i,n){"use strict";return function(){return e.createElement(n,{ref:"tooltip-"+this.props.value,value:this.props.tooltip,disabled:!this.props.tooltip,shouldTranslate:!0},e.createElement("label",{className:this.props.className},e.createElement("input",{type:"radio",name:this.props.group,value:this.props.value,checked:i.valueLink.getValueFromProps(this.props),onChange:this.props.onChange}),e.createElement("span",{},e.createElement("span",{className:"image-container"},this.props.imageUrl?e.createElement("span",{key:"imgurl",style:{background:"url('"+this.props.imageUrl+"') 50% 50% no-repeat",height:"100%",width:"100%",display:"inline-block"}}):null,this.props.imageUrl?null:e.createElement(s.symbol,{key:"symbol",name:this.props.symbolName})),e.createElement("span",{className:"option-title"},this.props.title))))}}),define("baseUI/controls/radioWithIcon",["create-react-class","prop-types","lodash","baseUI/panelInputs/inputMixin","baseUI/controls/radioWithIcon.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"radioWithIcon",mixins:[i],propTypes:{title:t.string,tooltip:t.string,group:t.string,onChange:t.func,imageUrl:t.string,symbolName:t.string},render:n})}),define("baseUI/controls/thumbnailsWithIcons.rt",["react","lodash","santa-editor-symbols","baseUI/controls/infoIcon","baseUI/controls/radioWithIcon","baseUI/popovers/tooltip","util"],function(i,t,e,s,n,o,a){"use strict";return function(){return function(){var e=a.valueLink.getValueFromProps(this.props);return i.createElement.apply(this,["div",{className:"thumbnails-with-icons"},i.createElement("div",{className:"control-header"},this.props.label?i.createElement("span",{key:"label",className:"thumbnails-with-icons-label"},this.translateIfNeeded(this.props.label)):null,this.props.shouldDisplayInfoIcon?i.createElement(s,{className:"info-"+this.props.name,key:"infoIcon",title:this.props.infoTitle,text:this.props.infoText,alignment:this.props.infoAlignment,fitToBounds:this.props.infoFitToBounds}):null),t.map(this.props.options,function(e,t,s){return i.createElement(n,{key:t.value,symbolName:t.symbolName,imageUrl:t.imageUrl,title:this.translateIfNeeded(t.title),tooltip:t.tooltip,group:this.getRadioGroupId(),value:t.value===e,onChange:function(e,t,s){this.handleChange(t.value)}.bind(this,e,t,s)})}.bind(this,e))])}.apply(this,[])}}),define("baseUI/controls/thumbnailsWithIcons",["create-react-class","prop-types","lodash","baseUI/controls/radioButtonsMixin","baseUI/controls/thumbnailsWithIcons.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"thumbnailsWithIcons",mixins:[i],propTypes:{options:t.array.isRequired,label:t.string},render:n})}),define("baseUI/controls/thumbnailsVertical.rt",["react","lodash","santa-editor-symbols"],function(s,i,n){"use strict";return function(){return s.createElement.apply(this,["div",{className:"thumbnails-vertical"},i.map(this.props.options,function(e,t){return s.createElement("label",{key:"option_"+t},s.createElement("input",{type:"radio",name:this.getRadioGroupId(),value:e.value,checked:this.isCurrentValue(e.value),onChange:function(e,t){this.handleChange(e.value)}.bind(this,e,t)}),s.createElement("div",{className:"thumbnail-container "+this.props.align},e.imgSrc?s.createElement("img",{key:"imgsrc",className:i({withoutLabel:!e.title}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),src:e.imgSrc,width:e.width||"",height:e.height||""}):null,e.symbolName?s.createElement(n.symbol,{key:"thumbnailContainerSymbol",name:e.symbolName}):null,e.title?s.createElement("span",{key:"title",className:"thumbnail-title"},this.translateIfNeeded(e.title)):null))}.bind(this))])}}),define("baseUI/controls/thumbnailsVertical",["create-react-class","prop-types","lodash","util","baseUI/controls/radioButtonsMixin","baseUI/controls/thumbnailsVertical.rt"],function(e,t,s,i,n,o){"use strict";return e({displayName:"thumbnails-vertical",mixins:[n],propTypes:{options:t.array.isRequired,valueLink:t.object,imageMargin:t.string,align:t.string},getDefaultProps:function(){return{align:"center",imageMargin:"5px"}},isCurrentValue:function(e){var t=i.valueLink.getValueFromProps(this.props);return s.isEqual(e,t)},render:o})}),define("baseUI/controls/buttonsGroup.rt",["react","lodash","baseUI/controls/infoIcon","util"],function(i,n,e,o){"use strict";return function(){return i.createElement("div",{className:"control-buttons-group"},this.props.title?i.createElement("p",{key:"title"},o.translate(this.props.title)):null,this.props.title&&(this.props.infoText||this.props.infoTitle)?i.createElement(e,{key:"infoIcon",text:this.props.infoText,title:this.props.infoTitle,size:18}):null,i.createElement.apply(this,["div",{className:"group-buttons-container"+(this.props.align?"-"+this.props.align:"")},n.map(this.props.options,function(e,t,s){return function(e,t){var s=o.valueLink.getValueFromProps(this.props);return i.createElement("label",{key:e.value,className:e.className},i.createElement("input",{type:"radio",name:this.getRadioGroupId(),value:e.value,checked:e.value===s,disabled:this.props.disabled,onChange:function(e,t,s){this.handleChange(e.value)}.bind(this,e,t,s)}),i.createElement("span",{className:n({disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.translateIfNeeded(e.label)))}.apply(this,[e,t])}.bind(this))]))}}),define("baseUI/controls/buttonsGroup",["create-react-class","prop-types","lodash","baseUI/controls/radioButtonsMixin","baseUI/controls/buttonsGroup.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"ButtonsGroup",PropTypes:{align:t.string},mixins:[i],render:n})}),define("baseUI/controls/horizontalTabs.rt",["react","lodash","util"],function(i,e,n){"use strict";return function(){return i.createElement.apply(this,["div",{className:this.getClassName("control-tabs-horizontal")},e.map(this.props.options,function(e,t,s){return function(e,t){var s=n.valueLink.getValueFromProps(this.props);return i.createElement("label",{className:"container "+(e.className||""),key:e.value},i.createElement("input",{type:"radio",className:"input",name:this.getRadioGroupId(),value:e.value,checked:e.value===s,onChange:function(e,t,s){this.handleChange(e.value)}.bind(this,e,t,s)}),i.createElement("span",{className:"tab-decorator"},i.createElement("span",{className:"text-label"},this.props.shouldTranslate?n.translate(e.label):e.label)))}.apply(this,[e,t])}.bind(this))])}}),define("baseUI/controls/horizontalTabs",["create-react-class","lodash","baseUI/controls/radioButtonsMixin","baseUI/controls/horizontalTabs.rt"],function(e,t,s,i){"use strict";return e({displayName:"HorizontalTabs",mixins:[s],getDefaultProps:function(){return{options:[{label:"Image_Button_Settings_Regular_View_Label",value:1},{label:"Image_Button_Settings_Hover_View_Label",value:2},{label:"Image_Button_Settings_Clicked_View_Label",value:3}]}},render:i})}),define("baseUI/controls/linkToggle.rt",["react","lodash","santa-editor-symbols"],function(e,t,s){"use strict";return function(){return e.createElement("label",{className:t({"control-link":!0,disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement("input",{type:"checkbox",defaultChecked:this.props.value,disabled:this.props.disabled}),e.createElement("div",{onClick:this.onClick},e.createElement(s.symbol,{name:"linkBtn"})))}}),define("baseUI/controls/linkToggle",["create-react-class","prop-types","lodash","baseUI/controls/linkToggle.rt"],function(e,t,s,i){"use strict";return e({displayName:"linkToggle",propTypes:{value:t.bool,onClick:t.func,disabled:t.bool},getDefaultProps:function(){return{disabled:!1}},onClick:function(){this.props.disabled||this.props.onClick()},render:i})}),define("baseUI/controls/verticalTabs.rt",["react","lodash","baseUILib","santa-editor-symbols","baseUI/popovers/tooltip","constants","util"],function(i,t,n,o,a,r,s){"use strict";return function(){return function(){var e=s.valueLink.getValueFromProps(this.props);return i.createElement.apply(this,["div",{className:t({"control-tabs-vertical":!0,closed:this.props.closed}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},t.map(this.props.options,function(e,t,s){return i.createElement("div",{key:"option-"+t.value,name:t.value},i.createElement(a,{shouldTranslate:!1,disabled:this.props.closed,value:t.text,alignment:r.UI.TOOLTIP.ALIGNMENT.RIGHT,styleType:r.UI.TOOLTIP.STYLE_TYPE.SMALL,interactive:!1},i.createElement("label",{},i.createElement("input",{type:"radio",name:this.getRadioGroupId(),value:t.value,checked:t.value===e,onChange:function(e,t,s){this.handleChange(t.value)}.bind(this,e,t,s)}),i.createElement("span",{onClick:this.reportTabClicked},i.createElement(o.symbol,{name:t.symbolName}),this.props.closed?i.createElement("span",{className:"tab-text",key:"verticalTabText"},t.text):null),this.props.closed?i.createElement(n.Divider,{long:!0,key:"divider"}):null)))}.bind(this,e))])}.apply(this,[])}}),define("baseUI/controls/verticalTabs",["create-react-class","prop-types","lodash","baseUI/controls/radioButtonsMixin","baseUI/controls/verticalTabs.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"verticalTabs",propTypes:{tabClicked:t.func},mixins:[i],render:n,reportTabClicked:function(){s.isFunction(this.props.tabClicked)&&this.props.tabClicked()}})}),define("baseUI/controls/cornerRadiusInput.rt",["react","lodash","baseUILib"],function(e,t,s){"use strict";return function(){return e.createElement(s.Composites.CornerRadiusInputLabeled,{},e.createElement(s.TextLabel,{value:this.props.label,shouldTranslate:this.props.shouldTranslate}),e.createElement(s.CornerRadiusInput,{value:this.getValue(),onChange:function(e){this.onChange(e)}.bind(this),isInitiallyLocked:this.props.isInitiallyLocked,max:this.props.max,min:this.props.min}))}}),define("baseUI/controls/cornerRadiusInput",["react","prop-types","util","lodash","baseUI/controls/cornerRadiusInput.rt"],function(s,e,t,i,n){"use strict";var o=function(e){function t(e){_classCallCheck(this,t);var s=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.getValue=function(){return s.props.valueLink?s.props.valueLink.value:s.props.value},s.onChange=function(e){var t=s.props.valueLink?s.props.valueLink.requestChange:s.props.onChange;i.isFunction(t)&&t(e),i.invoke(s,"props.reportUIChange",{value:e})},s}return _inherits(t,s.Component),_createClass(t,[{key:"render",value:function(){return n.call(this)}}]),t}();return o.displayName="cornerRadiusInput",o.propTypes={isInitiallyLocked:e.bool,label:e.string.isRequired,max:e.number,min:e.number,onChange:e.func,reportUIChange:e.func,value:e.string,valueLink:e.shape({value:e.string.isRequired,onChange:e.func.isRequired})},t.hoc.reportUIChange(o)}),define("baseUI/controls/alignment.rt",["react","lodash","util","santa-editor-symbols"],function(i,e,n,o){"use strict";return function(){return i.createElement("div",{className:this.getClassName("control-alignment")},i.createElement("div",{className:"label"},n.translate(this.props.label)),i.createElement.apply(this,["div",{className:"items"},e.map(this.props.options,function(e,t,s){return function(e,t){var s=n.valueLink.getValueFromProps(this.props);return i.createElement("label",{className:"item",key:"label"+t},i.createElement("input",{type:"radio",name:this.getRadioGroupId(),value:e.value,checked:e.value===s,onChange:function(e,t,s){this.handleChange(e.value,e.type)}.bind(this,e,t,s)}),i.createElement("span",{},e.symbolName?i.createElement(o.symbol,{key:"symbol",name:e.symbolName}):null))}.apply(this,[e,t])}.bind(this))]))}}),define("baseUI/controls/alignment",["create-react-class","lodash","baseUI/controls/radioButtonsMixin","baseUI/controls/alignment.rt"],function(e,t,s,i){"use strict";return e({displayName:"alignment",mixins:[s],getDefaultProps:function(){return{options:[{value:"left top",label:"",className:""},{value:"center top",label:"",className:""},{value:"right top",label:"",className:""},{value:"left center",label:"",className:""},{value:"center center",label:"",className:""},{value:"right center",label:"",className:""},{value:"left bottom",label:"",className:""},{value:"center bottom",label:"",className:""},{value:"right bottom",label:"",className:""}]}},render:i})}),define("baseUI/controls/textAlignment.rt",["react","lodash","baseUI/commonData/commonData","baseUI/controls/thumbnails"],function(e,t,s,i){"use strict";return function(){return e.createElement("div",{className:t({"pick-text-alignment":!0,"has-label":this.hasLabel()}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement(i,{maxThumbsPerRow:"5",onMouseOver:t.noop,valueLink:this.props.valueLink,title:this.props.label,options:this.props.options||this.TEXT_ALIGNMENT_MODES}))}}),define("baseUI/controls/textAlignment",["create-react-class","util","baseUI/panelInputs/inputMixin","baseUI/controls/textAlignment.rt"],function(e,t,s,i){"use strict";return e({mixins:[s,t.translationMixin],TEXT_ALIGNMENT_MODES:[{value:"left",symbolName:"textAlignLeft"},{value:"center",symbolName:"textAlignCenter"},{value:"right",symbolName:"textAlignRight"}],displayName:"textAlignment",handleChange:function(e){t.valueLink.callOnChangeIfExists(this.props,e)},render:i})}),define("baseUI/panelInputs/colorScheme.rt",["react","lodash","baseUILib","baseUI/commonData/commonData","baseUI/controls/toggle"],function(e,t,s,i,n){"use strict";return function(){return e.createElement("div",{className:"color-scheme-picker"},e.createElement(s.Composites.RadioButtonsLabeled,{},e.createElement(s.TextLabel,{value:"CustomDesign_QuickActions_ColorScheme"}),e.createElement(s.RadioButtons,{value:this.getColorSchemeType(),onChange:this.changeColorSchemeType,options:this.props.options||this.COLOR_SCHEME_OPTIONS})),e.createElement(s.Divider,{long:!1}),e.createElement(n,{className:"invert-color-toggle",onChange:this.changeColorSchemeInvert,value:this.getColorSchemeInvert(),label:"CustomDesign_QuickActions_ReverseColor_Toogle"}))}}),define("baseUI/panelInputs/colorScheme",["create-react-class","lodash","baseUI/panelInputs/colorScheme.rt","util","baseUI/panelInputs/inputMixin"],function(e,i,t,n,s){"use strict";var o=/^(brand|grey|black)(?:\s(inv))?$/;return e({displayName:"colorScheme",mixins:[s],COLOR_SCHEME_OPTIONS:[{value:"black",label:"CustomDesign_QuickActions_BlackandWhite"},{value:"grey",label:"CustomDesign_QuickActions_GreyScale"},{value:"brand",label:"CustomDesign_QuickActions_BrandColors"}],getDefaultProps:function(){return{type:"brand",invert:!0}},changeColorSchemeType:function(e){this.handleChange({type:e})},changeColorSchemeInvert:function(e){this.handleChange({invert:e})},getColorSchemeValues:function(){return(o.exec(n.valueLink.getValueFromProps(this.props).trim())||[]).slice(1)},getColorSchemeType:function(){return i.get(this.getColorSchemeValues(),[0],"brand")},getColorSchemeInvert:function(){return!!i.get(this.getColorSchemeValues(),[1])},handleChange:function(e){var t=i.get(e,"type",this.getColorSchemeType()),s=i.get(e,"invert",this.getColorSchemeInvert());n.valueLink.callOnChangeIfExists(this.props,t+(s?" inv":""))},render:t})}),define("baseUI/controls/playButton.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{onClick:this.onPlayButtonClick,className:t({playButton:!0,isPlaying:this.state.isPlaying}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement("div",{className:"playIcon"}))}}),define("baseUI/controls/playButton",["create-react-class","prop-types","lodash","baseUI/controls/playButton.rt"],function(e,t,s,i){"use strict";return e({displayName:"playBtn",render:i,propTypes:{onClickAction:t.func},getInitialState:function(){return{isPlaying:!1}},onPlayButtonClick:function(){this.setState({isPlaying:!0}),this.props.onClickAction&&this.props.onClickAction(this.onPlayingDone)},onPlayingDone:function(){this.setState({isPlaying:!1})}})}),define("baseUI/controls/thumbnailPreviewPlay.rt",["react","lodash","baseUI/controls/playButton","santa-editor-symbols"],function(e,t,s,i){"use strict";return function(){return e.createElement("div",{className:"thumbnail-preview-play"},e.createElement(i.symbol,{name:this.props.iconSymbolName}),e.createElement("div",{className:"label"},this.props.label),e.createElement(s,{onClickAction:this.props.onClickAction}))}}),define("baseUI/controls/thumbnailPreviewPlay",["create-react-class","lodash","baseUI/controls/thumbnailPreviewPlay.rt"],function(e,t,s){"use strict";return e({displayName:"thumbnailPreviewPlay",render:s,getIconClass:function(){var e={icon:!0};return e[this.props.iconClass]=!0,e}})}),define("baseUI/panelInputs/media/imagePreview.rt",["react","lodash","util","baseUI/controls/button","baseUI/popovers/tooltip","santa-editor-symbols"],function(i,n,e,o,a,t){"use strict";return function(){return i.createElement("div",{className:e.inheritClassName(this.props,"image-preview")+(this.isEmpty()?" empty":"")},this.isEmpty()?null:i.createElement("div",{className:"image-wrapper",key:"wrapper"},i.createElement("div",{className:"image",style:this.getImageTransformData()})),1<this.getNumberOfImages(this.props)?i.createElement("span",{onClick:this.showPrevImage,className:"arrow-button prev",key:"prev"}):null,1<this.getNumberOfImages(this.props)?i.createElement("span",{onClick:this.showNextImage,className:"arrow-button next",key:"next"}):null,this.isEmpty()?i.createElement("div",{className:n({"placeholder-wrapper":!0,"symbol-in-the-middle":0===this.getButtons().length}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),key:"placeholder"},this.props.emptySymbolName?i.createElement(t.symbol,{name:this.props.emptySymbolName,key:"symbol"}):null,i.createElement("div",{className:"corner-borders top"}),i.createElement("div",{className:"corner-borders bottom"})):null,0<this.getButtons().length?function(){var e=this.getButtons();return i.createElement.apply(this,["span",{className:"button-wrapper",key:"buttons"},n.map(e,function(e,t,s){return i.createElement(a,{key:this.getButtonLabel(t)||"button"+s,value:this.getButtonTooltip(t),disabled:!this.getButtonTooltip(t)},i.createElement(o,{className:n(this.getButtonClasses(t)).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),label:this.getButtonLabel(t),icon:this.getButtonIcon(t),onClick:function(e,t,s){this.onClick(t)}.bind(this,e,t,s)}))}.bind(this,e))])}.apply(this,[]):null)}}),define("baseUI/panelInputs/media/imagePreview",["create-react-class","prop-types","lodash","util","baseUI/panelInputs/inputMixin","baseUI/panelInputs/media/imagePreview.rt"],function(e,t,s,o,i,n){"use strict";var a=t.shape({nonEmptyButtonLabel:t.string,nonEmptyButtonIcon:t.string,emptyButtonLabel:t.string,emptyButtonIcon:t.string,onClick:t.func});return e({displayName:"imagePreview",mixins:[i],propTypes:{emptySymbolName:t.string,getImageTransformData:t.func.isRequired,imageFittingType:t.string,buttons:t.oneOfType([t.arrayOf(a),a]).isRequired},getDefaultProps:function(){return{buttons:[]}},getInitialState:function(){return{imageIndex:0,style:{}}},componentWillReceiveProps:function(e){this.state.imageIndex>=this.getNumberOfImages(e)&&this.setState({imageIndex:0})},getButtons:function(){var e=this.props.buttons;return e?s.isArray(e)||(e=[e]):e=[],e},getImageTransformData:function(){var e=this.props.getImageTransformData(this._getImages(this.props)[this.state.imageIndex],this.props.imageFittingType);return s.assign({},e.css,{backgroundImage:"url("+e.url+")"})},getButtonIcon:function(e){return this.isEmpty()?e.emptyButtonIcon:e.nonEmptyButtonIcon},getButtonLabel:function(e){return this.isEmpty()?e.emptyButtonLabel:e.nonEmptyButtonLabel},getButtonTooltip:function(e){return this.isEmpty()?e.emptyButtonTooltip:e.nonEmptyButtonTooltip},_showImage:function(e){var t=this._getImages(this.props);e<0?e=t.length-1:e===t.length&&(e=0),this.setState({imageIndex:e})},showPrevImage:function(){this._showImage(this.state.imageIndex-1)},showNextImage:function(){this._showImage(this.state.imageIndex+1)},_getImages:function(e){var t=o.valueLink.getValueFromProps(e);return s.isEmpty(t)?t=[]:s.isArray(t)||(t=[t]),t},getNumberOfImages:function(e){return this._getImages(e).length},isEmpty:function(){var e=this._getImages(this.props);return s.isEmpty(e)||s.isEmpty(e[this.state.imageIndex].uri)},onClick:function(e){var n=this;e.onClick(function(){for(var e,t=arguments.length,s=Array(t),i=0;i<t;i++)s[i]=arguments[i];return(e=o.valueLink).callOnChangeIfExists.apply(e,[n.props].concat(s))})},getButtonClasses:function(e){return{action:!0,"has-icon":!!this.getButtonIcon(e),"has-label":!!this.getButtonLabel(e)}},render:n})}),define("baseUI/panelInputs/media/organizeImagesInput.rt",["react","lodash","baseUI/panelInputs/media/imagePreview"],function(e,t,s){"use strict";return function(){return e.createElement(s,t.assign({},{buttons:this.getButton(),getImageTransformData:this.getImageTransformData,emptySymbolName:"camera"},this.props))}}),define("baseUI/panelInputs/media/organizeImagesInput",["create-react-class","lodash","prop-types","baseUI/panelInputs/media/wixStaticMediaMixin","baseUI/panelInputs/media/organizeImagesInput.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"organizeImagesInput",mixins:[i],propTypes:{openOrganizeImagesPanel:s.func.isRequired},getButton:function(){return{nonEmptyButtonLabel:"Gallery_Settings_Main_Action_Button",emptyButtonLabel:"Gallery_Settings_Main_Action_Button_Empty",emptyButtonIcon:"plus",onClick:this.props.openOrganizeImagesPanel}},render:n})}),define("baseUI/panelInputs/media/videoInput.rt",["react","lodash","util","baseUI/controls/button","santa-editor-symbols"],function(i,n,o,a,r){"use strict";return function(){return i.createElement("div",(e={className:o.inheritClassName(this.props,"video-input")+(this.isEmpty()?" empty":""),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},t=this.getFilteredProps(),s=n.assign({},e,t),e.hasOwnProperty("style")&&(s.style=n.defaults(s.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(s.className=t.className+" "+e.className),s),this.isEmpty()?null:i.createElement("div",{className:"video-wrapper",key:"wrapper"},i.createElement("iframe",{src:this.getURL()})),this.isEmpty()?null:i.createElement("div",{className:"video-controls",key:"videoControls"},i.createElement("div",{className:n({"blocking-layer":!0,pause:!this.state.isPlaying,play:this.state.isPlaying}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onClick:function(e){e.preventDefault()}.bind(this)}),i.createElement("div",{className:n({"play-button":!this.state.isPlaying,"pause-button":this.state.isPlaying&&this.state.isMouseHovering}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onClick:function(){this.state.isPlaying?this.pauseVideo():this.playVideo()}.bind(this)},i.createElement("span",{className:n({triangle:!this.state.isPlaying,pause:this.state.isPlaying}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")}))),this.isEmpty()?i.createElement("div",{className:n({"placeholder-wrapper":!0}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),key:"placeholder"},i.createElement(r.symbol,{name:"videoInvalid",key:"symbol"})):null,!this.state.isPlaying&&this.props.canChangeVideo?function(){var e=this.getButton();return i.createElement("span",{className:"button-wrapper",key:"button"},i.createElement(a,{className:"action"+(this.getButtonIcon(e)?" has-icon":"")+" btn-confirm-secondary",label:this.getButtonLabel(e),icon:this.getButtonIcon(e),key:this.getButtonLabel(e),onClick:function(e){this.onClick(e)}.bind(this,e)}))}.apply(this,[]):null);var e,t,s}}),define("baseUI/panelInputs/media/videoInput",["create-react-class","prop-types","lodash","util","constants","baseUI/panelInputs/media/videoInput.rt"],function(e,t,i,o,s,n){"use strict";var a="videoSearch.panels.videoSearchPanel",r=s.UI.VIDEO.URL,l=s.UI.VIDEO.QUERY_PARAMS,p=t.shape({videoType:t.string.isRequired,videoId:t.string.isRequired});function c(e){var t,s;return r[e.videoType]+e.videoId+(t=e.videoType,s=i.map(l[t],function(e,t){return t+"="+e}).join("&"),i.isEmpty(s)?"":"?"+s)}return e({displayName:"videoInput",mixins:[o.propTypesFilterMixin],propTypes:{panelManager:t.object,nonEmptyButtonLabel:t.string.isRequired,emptyButtonLabel:t.string.isRequired,onSearchClick:t.func,value:p,valueLink:t.shape({value:p,requestChange:t.func}),canChangeVideo:t.bool},getDefaultProps:function(){return{onSearchClick:i.noop,canChangeVideo:!0}},getInitialState:function(){return{isPlaying:!1,isMouseHovering:!1}},getButton:function(){return{nonEmptyButtonLabel:this.props.nonEmptyButtonLabel,nonEmptyButtonIcon:"magnifyingGlass",emptyButtonLabel:this.props.emptyButtonLabel,emptyButtonIcon:"magnifyingGlass",onClick:this._openVideoSearchPanel}},getButtonIcon:function(e){return this.isEmpty()?e.emptyButtonIcon:e.nonEmptyButtonIcon},getButtonLabel:function(e){return this.isEmpty()?e.emptyButtonLabel:e.nonEmptyButtonLabel},_onVideoSelected:function(e,t,s){this.props.canChangeVideo&&this.props.panelManager&&(this.props.panelManager.closePanelByName(a),e({videoType:s||"YOUTUBE",videoId:t}))},_openVideoSearchPanel:function(e){var t=o.valueLink.getValueFromProps(this.props);this.props.canChangeVideo&&this.props.panelManager&&(this.props.onSearchClick(),this.props.panelManager.openPanel(a,{videoType:t&&t.videoType,onVideoSelected:this._onVideoSelected.bind(this,e)},!0))},getURL:function(){var e=o.valueLink.getValueFromProps(this.props);if(e&&e.videoId){var t=c(e);return(t+=i.includes(t,"?")?"&":"?")+"autoplay="+(this.state.isPlaying?"1":"0")}return null},isEmpty:function(){var e=o.valueLink.getValueFromProps(this.props);return!(e&&e.videoId)},playVideo:function(){this.setState({isPlaying:!0})},pauseVideo:function(){this.setState({isPlaying:!1})},onClick:function(e){var n=this;e.onClick(function(){for(var e,t=arguments.length,s=Array(t),i=0;i<t;i++)s[i]=arguments[i];return(e=o.valueLink).callOnChangeIfExists.apply(e,[n.props].concat(s))})},onMouseEnter:function(){this.setState({isMouseHovering:!0})},onMouseLeave:function(){this.setState({isMouseHovering:!1})},getFilteredProps:function(){return i.omit(this.filteredProps(),"emptySymbolName")},render:n})}),define("baseUI/panelInputs/media/videoPreview.rt",["react","lodash","baseUILib","util","santa-editor-symbols"],function(e,t,s,i,n){"use strict";return function(){var t=this;return e.createElement("div",{className:"video-preview"},this.hasVideoPlayer()?e.createElement("div",{key:"player"},this.state.hasBeenPlayed?null:e.createElement("div",{className:"video-preview__poster",style:this.getPosterStyle(),key:"238"}),this.state.hasBeenPlayed?e.createElement("video",{className:"video-preview__player",ref:function(e){t.videoElement=e},src:this.getVideoUrl(),loop:!0,playsInline:!0,autoPlay:!0,key:"394"}):null,e.createElement("div",{className:"video-preview__cover"},e.createElement("div",{className:"media-panel-play-button","data-aid":"mediaPlayerSettingsPlayButton"},e.createElement("input",{type:"checkbox",value:this.state.isPlaying?"Pause Video":"Play Video",checked:this.state.isPlaying,onChange:this.toggleVideoPlayback}),e.createElement(n.symbol,{name:"play-video"})))):null,this.hasEmbeddedPlayer()?e.createElement("div",{className:"video-preview__embedded-player",key:"wrapper"},e.createElement("iframe",{src:this.getEmbeddedUrl()})):null,this.props.isSearchVisible&&!this.state.isPlaying?e.createElement("div",{className:"video-preview__button-wrapper",key:"search-button"},e.createElement(s.Button,{className:"btn-confirm-secondary",onClick:function(){this.search()}.bind(this)},e.createElement(n.symbol,{name:"magnifyingGlass"}),e.createElement("span",{className:"change-media-button-text"},i.translate("Video_Settings_Content_Search_Button")))):null,this.props.isUploadVisible&&!this.state.isPlaying?e.createElement("div",{className:"video-preview__button-wrapper",key:"upload-button"},e.createElement(s.Button,{className:"btn-confirm-secondary",onClick:function(){this.upload()}.bind(this)},e.createElement(n.symbol,{name:"image-change"}),e.createElement("span",{className:"change-media-button-text"},i.translate("MEDIA_PLAYER_SETTINGS_MEDIA_BUTTON_LABEL")))):null)}}),define("baseUI/panelInputs/media/videoPreview",["create-react-class","prop-types","lodash","util","constants","stateManagement","baseUI/panelInputs/media/videoPreview.rt"],function(e,t,a,r,s,n,i){"use strict";var o,l,p=r.imageTransform.fittingTypes.SCALE_TO_FIT,c=r.serviceTopology.staticVideoUrl,u=s.UI.VIDEO.TYPE,h=s.VIDEO_PLAYER_TYPES,d="videoSearch.panels.videoSearchPanel",m=(_defineProperty(o={},h.DAILYMOTION,u.DAILYMOTION),_defineProperty(o,h.VIMEO,u.VIMEO),_defineProperty(o,h.YOUTUBE,u.YOUTUBE),o),g=(_defineProperty(l={},u.DAILYMOTION,h.DAILYMOTION),_defineProperty(l,u.VIMEO,h.VIMEO),_defineProperty(l,u.YOUTUBE,h.YOUTUBE),l),f=e({displayName:"videoPreview",propTypes:{videoType:t.oneOf(a.values(h)).isRequired,videoUrl:t.string,videoRef:t.object,openMediaManager:t.func.isRequired,openPanel:t.func.isRequired,closePanel:t.func.isRequired,isSearchVisible:t.bool,onSearchStart:t.func,onSearchDone:t.func,isUploadVisible:t.bool,onUploadStart:t.func,onUploadDone:t.func},getInitialState:function(){return{hasBeenPlayed:!1,isPlaying:!1}},componentWillReceiveProps:function(e){e.videoType!==this.props.videoType&&this.setState({hasBeenPlayed:!1,isPlaying:!1})},toggleVideoPlayback:function(e){e.target.checked?this.playVideo():this.pauseVideo()},playVideo:function(){this.setState({isPlaying:!0,hasBeenPlayed:!0}),this.videoElement&&this.videoElement.play()},pauseVideo:function(){this.setState({isPlaying:!1}),this.videoElement&&this.videoElement.pause()},hasVideoPlayer:function(){var e=this.props,t=e.videoType;return e.videoRef||t===h.FILE},hasEmbeddedPlayer:function(){var e=this.props.videoType;return e&&e!==h.FILE},getPosterData:function(){var e=this.props.videoRef;if(e){var t=e.posterImageRef;if(!e.generatedPosters||a.includes(e.generatedPosters,e.uri))return t;var s=a.last(e.qualities),i=s.width,n=s.height;return{uri:a.head(e.generatedPosters),width:i,height:n}}},getPosterStyle:function(){var e=this.getPosterData();if(!e)return{};var t=e.width,s=e.height,i=e.uri,n=r.imageTransform.getFromImageData({width:t,height:s,uri:i},288,162,p,"center","bg"),o={backgroundImage:"url("+n.uri+")"};return a.assign(o,n.css.container),o},getVideoUrl:function(){var e=this.props.videoUrl;if(e)return e;var t=a.get(this.props,"videoRef.qualities");if(t){var s=a.maxBy(t,"width").url;return""+c+s}},getEmbeddedUrl:function(){var e=this.props,t=e.videoType,s=e.videoUrl;return r.videoPlayerUtils.getEmbeddedUrl(t,s)},onSearchVideoSelected:function(e,t){var s=r.videoPlayerUtils.getUrlFromId(g[t],e);this.props.closePanel(d),this.props.onSearchDone(s)},search:function(){this.pauseVideo(),this.props.onSearchStart(),this.props.openPanel(d,{videoType:m[this.props.videoType],onVideoSelected:this.onSearchVideoSelected.bind(this)},!0)},upload:function(){var s=this;this.pauseVideo(),this.props.onUploadStart(),this.props.openMediaManager(function(e,t){s.props.onUploadDone(e,t)})},render:i});return r.hoc.connect(r.hoc.STORES.EDITOR_API,void 0,function(i){return{openMediaManager:function(e){var n;i((n=e,function(e,t,s){var i=s.editorAPI.mediaServices.mediaManager;i.open(i.categories.VIDEO,"editor_media_player",{callback:n})}))},openPanel:function(e,t,s){i(n.editorPlugins.panels.actions.updateOrOpenPanel(e,t,s))},closePanel:function(e){i(n.editorPlugins.panels.actions.closePanelByName(e))}}})(f)}),define("baseUI/panelInputs/media/videoSearch.rt",["react","lodash","baseUILib","util"],function(e,t,s,i){"use strict";return function(){return e.createElement(s.Composites.RichText,{},e.createElement(s.RichText,{className:"light"},e.createElement("p",{},"\n            ",i.translate(this.props.textLabel),"\n            ",e.createElement("a",{onClick:this.onClick},i.translate(this.props.buttonLabel)))))}}),define("baseUI/panelInputs/media/videoSearch",["create-react-class","prop-types","lodash","util","constants","stateManagement","baseUI/panelInputs/media/videoSearch.rt"],function(e,t,s,i,n,o,a){"use strict";var r,l,p="videoSearch.panels.videoSearchPanel",c=n.VIDEO_PLAYER_TYPES,u=n.UI.VIDEO.TYPE,h=(_defineProperty(r={},c.DAILYMOTION,u.DAILYMOTION),_defineProperty(r,c.VIMEO,u.VIMEO),_defineProperty(r,c.YOUTUBE,u.YOUTUBE),r),d=(_defineProperty(l={},u.DAILYMOTION,c.DAILYMOTION),_defineProperty(l,u.VIMEO,c.VIMEO),_defineProperty(l,u.YOUTUBE,c.YOUTUBE),l),m=e({displayName:"videoSearch",propTypes:{openPanel:t.func.isRequired,closePanel:t.func.isRequired,textLabel:t.string,buttonLabel:t.string.isRequired,value:t.oneOf(s.values(c)).isRequired},onVideoSelected:function(e,t){var s=i.videoPlayerUtils.getUrlFromId(d[t],e);this.props.closePanel(p),this.props.onChange(s)},openVideoSearchPanel:function(){this.props.openPanel(p,{videoType:h[this.props.value],onVideoSelected:this.onVideoSelected.bind(this)},!0)},onClick:function(){this.props.onClick(),this.openVideoSearchPanel()},render:a});return i.hoc.connect(i.hoc.STORES.EDITOR_API,void 0,function(i){return{openPanel:function(e,t,s){i(o.editorPlugins.panels.actions.updateOrOpenPanel(e,t,s))},closePanel:function(e){i(o.editorPlugins.panels.actions.closePanelByName(e))}}})(m)}),define("baseUI/panelInputs/media/videoSelectorEditorAPIMapper",["lodash"],function(s){"use strict";var u=function(e,t){return s.head(t||e.selection.getSelectedComponents())};return{mapDispatchToProps:function(t,s){return{changeVideo:function(){return t((a=s.useMediaServices,r=s.selectedComponents,l=s.videoCategory,p=s.onChange,c=s.mediaManagerMediaPath,function(e,t,s){var i=s.editorAPI,n=u(i,r),o=i.mediaServices.mediaManager;l=l||o.categories.VIDEO,a?i.mediaServices.changeVideo(n,l):o.open(l,"editor_media_player",{callback:p,path:c})}));var a,r,l,p,c},registerMedia:function(e){return t((o=e,a=s.selectedComponents,function(e,t,s){var i=s.editorAPI,n=u(i,a);i.media.mediaState.register("media_player",n,o)}));var o,a},unregisterMedia:function(){return t((o=s.selectedComponents,function(e,t,s){var i=s.editorAPI,n=u(i,o);i.media.mediaState.unregister("media_player",n)}));var o},executeBehavior:function(e){return t((o=e,a=s.selectedComponents,function(e,t,s){var i=s.editorAPI,n=u(i,a);i.components.behaviors.execute(n,o)}));var o,a}}}}}),define("baseUI/panelInputs/media/videoSelector.rt",["react","lodash","baseUILib","util","santa-editor-symbols"],function(e,t,s,i,n){"use strict";return function(){return e.createElement("div",{className:"bg-panel-top video-selector"},e.createElement("div",{className:"bg-panel-preview"},e.createElement("div",{ref:"previewMedia",className:"bg-panel-preview-media",style:this.getPosterStyle()}),e.createElement("div",{className:"bg-panel-preview-buttons"},e.createElement(s.Tooltip,{shouldTranslate:!0,closeOnMouseClick:!0,disabled:!this.getPlayBtnTranslation(),content:this.getPlayBtnTranslation()},e.createElement("div",{className:"media-panel-play-button","data-aid":"mediaPlayerSettingsPlayButton"},e.createElement("input",{type:"checkbox",value:this.isVideoPlaying()?"Pause Video":"Play Video",checked:this.isVideoPlaying(),disabled:this.isPlayDisabled(),onChange:this.toggleVideoPlaybackNative}),e.createElement(n.symbol,{name:"play-video"}),this.isVideoInProcess()?e.createElement(s.Composites.Preloader,{key:"play-spinner"},e.createElement(s.Preloader,{})):null)))),this.props.enableChangeVideo?e.createElement("div",{key:"panelTopActions",className:"bg-panel-top-actions"},e.createElement("div",{className:"bg-panel-action"},e.createElement(s.Button,{className:"btn-confirm-secondary",onClick:function(){this.changeMedia()}.bind(this)},e.createElement(n.symbol,{name:"image-change"}),e.createElement("span",{className:"change-media-button-text"},i.translate("MEDIA_PLAYER_SETTINGS_MEDIA_BUTTON_LABEL"))))):null)}}),define("baseUI/panelInputs/media/videoSelector",["create-react-class","prop-types","lodash","util","constants","baseUI/panelInputs/media/videoSelectorEditorAPIMapper","baseUI/panelInputs/media/videoSelector.rt"],function(e,t,a,r,s,i,n){"use strict";var o,l=r.imageTransform.fittingTypes,p=s.VIDEO_READY_STATES,c=(_defineProperty(o={},p.PLAYING_PREVIEW,"MEDIA_PLAYER_SETTINGS_PLAYBACK_PREVIEW_READY_TOOLTIP"),_defineProperty(o,p.IN_PROCESS,"MEDIA_PLAYER_SETTINGS_PLAYBACK_NOT_READY_TOOLTIP"),o),u=e({displayName:"videoSelector",propTypes:{videoCategory:t.string,value:t.object,onChange:t.func,onPreviewVideo:t.func,onPauseVideo:t.func,mediaManagerMediaPath:t.string,enablePlay:t.bool,useMediaServices:t.bool,enableChangeVideo:t.bool,disabledPlayTooltip:t.string},getInitialState:function(){return{readyState:p.NO_VIDEO,playbackState:"waiting"}},getDefaultProps:function(){return{onPreviewVideo:function(){},onPauseVideo:function(){},onChange:function(){},enablePlay:!0,enableChangeVideo:!0}},componentWillReceiveProps:function(e){e.enablePlay||"playing"!==this.getNormalizePlayState(this.state.playbackState)||(this.stopVideo(),this.setState({playbackState:"paused"}))},componentDidMount:function(){this.props.registerMedia(this.handlePlayerStateChange)},componentWillUnmount:function(){this.stopVideo(),this.props.unregisterMedia()},getNormalizePlayState:function(e){return a.includes(["playing","seek_playing","play_preview"],e)?"playing":e},handlePlayerStateChange:function(e){var t=this.getNormalizePlayState(e.playbackState);t===this.state.playbackState&&e.mediaReadyState===this.state.mediaReadyState||("ended"===e.playbackState&&this.stopVideo(),this.setState({playbackState:t,readyState:e.mediaReadyState}))},getPreferredPosterData:function(){var e=this.props.value;if(e){var t=e.posterImageRef;if(!e.generatedPosters||a.includes(e.generatedPosters,t.uri))return t;var s=a.last(e.qualities),i=s.width,n=s.height;return{uri:a.head(e.generatedPosters),width:i,height:n}}},getPosterStyle:function(){var e=this.getPreferredPosterData();if(!e)return{};var t=e.width,s=e.height,i=e.uri,n=r.imageTransform.getFromImageData({width:t,height:s,uri:i},288,162,l.SCALE_TO_FIT,"center","bg"),o={backgroundImage:"url("+n.uri+")"};return a.assign(o,n.css.container),o},getPlayBtnTranslation:function(){return this.props.enablePlay?a.get(c,this.state.readyState,""):this.props.disabledPlayTooltip},toggleVideoPlaybackNative:function(e){this.toggleVideoPlayback(e.target.checked)},toggleVideoPlayback:function(e){e?this.previewVideo():this.stopVideo(),this.setState({playbackState:e?"playing":"paused"})},previewVideo:function(){this.props.executeBehavior("playPreview"),this.props.onPreviewVideo()},stopVideo:function(){this.props.executeBehavior("stop"),this.props.onPauseVideo()},isVideoPlaying:function(){return"playing"===this.getNormalizePlayState(this.state.playbackState)},isPlayDisabled:function(){return!this.props.enablePlay||this.isVideoInProcess()},isVideoInProcess:function(){return this.state.readyState===p.IN_PROCESS},changeMedia:function(){this.stopVideo(),this.props.changeVideo()},render:n});return r.hoc.connect(r.hoc.STORES.EDITOR_API,void 0,i.mapDispatchToProps)(u)}),define("baseUI/panelInputs/media/videoTypeSelector.rt",["react","lodash","baseUILib","constants","santa-editor-symbols"],function(s,e,i,n,o){"use strict";return function(){return function(){var e=this,t=n.VIDEO_PLAYER_TYPES;return s.createElement(i.Composites.RichTextLabeled,{},s.createElement(i.TextLabel,{value:this.props.label,shouldTranslate:!0}),s.createElement(i.RichText,{},s.createElement("ul",{className:"video-type-selector"},s.createElement("li",{className:"video-type-selector__item"},s.createElement(i.Tooltip,{content:"VideoPlayer_Settings_Select_Video_Hover_Label_Computer",shouldTranslate:!0,closeOnMouseClick:!0},s.createElement("button",{className:"video-type-selector__btn"+(this.isActive(t.FILE)?" active":""),onClick:function(){return e.props.onChange(t.FILE)}},s.createElement("span",{className:"video-type-selector__btn-icon"},s.createElement(o.symbol,{name:"video-player-upload"}))))),s.createElement("li",{className:"video-type-selector__item"},s.createElement(i.Tooltip,{content:"VideoPlayer_Settings_Select_Video_Hover_Label_Youtube",shouldTranslate:!0,closeOnMouseClick:!0},s.createElement("button",{className:"video-type-selector__btn"+(this.isActive(t.YOUTUBE)?" active":""),onClick:function(){return e.props.onChange(n.VIDEO_PLAYER_TYPES.YOUTUBE)}},s.createElement("span",{className:"video-type-selector__btn-icon"},s.createElement(o.symbol,{name:"video-player-youtube"}))))),s.createElement("li",{className:"video-type-selector__item"},s.createElement(i.Tooltip,{content:"VideoPlayer_Settings_Select_Video_Hover_Label_Vimeo",shouldTranslate:!0,closeOnMouseClick:!0},s.createElement("button",{className:"video-type-selector__btn"+(this.isActive(t.VIMEO)?" active":""),onClick:function(){return e.props.onChange(n.VIDEO_PLAYER_TYPES.VIMEO)}},s.createElement("span",{className:"video-type-selector__btn-icon"},s.createElement(o.symbol,{name:"video-player-vimeo"}))))),s.createElement("li",{className:"video-type-selector__item"},s.createElement(i.Tooltip,{content:"VideoPlayer_Settings_Select_Video_Hover_Label_Facebook",shouldTranslate:!0,closeOnMouseClick:!0},s.createElement("button",{className:"video-type-selector__btn"+(this.isActive(t.FACEBOOK)?" active":""),onClick:function(){return e.props.onChange(n.VIDEO_PLAYER_TYPES.FACEBOOK)}},s.createElement("span",{className:"video-type-selector__btn-icon"},s.createElement(o.symbol,{name:"video-player-facebook"}))))),s.createElement("li",{className:"video-type-selector__item"},s.createElement(i.Tooltip,{content:"VideoPlayer_Settings_Select_Video_Hover_Label_Dailymotion",shouldTranslate:!0,closeOnMouseClick:!0},s.createElement("button",{className:"video-type-selector__btn"+(this.isActive(t.DAILYMOTION)?" active":""),onClick:function(){return e.props.onChange(n.VIDEO_PLAYER_TYPES.DAILYMOTION)}},s.createElement("span",{className:"video-type-selector__btn-icon"},s.createElement(o.symbol,{name:"video-player-dailymotion"}))))),s.createElement("li",{className:"video-type-selector__item"},s.createElement(i.Tooltip,{content:"VideoPlayer_Settings_Select_Video_Hover_Label_Twitch",shouldTranslate:!0,closeOnMouseClick:!0},s.createElement("button",{className:"video-type-selector__btn"+(this.isActive(t.TWITCH)?" active":""),onClick:function(){return e.props.onChange(n.VIDEO_PLAYER_TYPES.TWITCH)}},s.createElement("span",{className:"video-type-selector__btn-icon"},s.createElement(o.symbol,{name:"video-player-twitch"}))))))))}.apply(this,[])}}),define("baseUI/panelInputs/media/videoTypeSelector",["create-react-class","prop-types","baseUI/panelInputs/media/videoTypeSelector.rt"],function(e,t,s){"use strict";return e({displayName:"videoTypeSelector",propTypes:{label:t.string,value:t.string,onChange:t.func},isActive:function(e){return e===this.props.value},render:s})}),define("baseUI/panelInputs/media/videoUpload.rt",["react","lodash","baseUILib","santa-editor-symbols"],function(t,e,s,i){"use strict";return function(){var e=this;return t.createElement(s.Composites.UploadButtonLabeled,{className:"video-upload"},t.createElement(s.TextLabel,{value:this.props.label,shouldTranslate:!0}),t.createElement(s.UploadButton,{className:"video-upload-button",value:this.state.fileNameUploaded,onClick:function(){return e.changeMedia()},buttonContent:{beforeUpload:t.createElement(s.ButtonContent,{value:this.props.buttonLabel,className:"no-margin",symbol:t.createElement(i.symbol,{name:"image-change"})}),afterUpload:t.createElement(s.ButtonContent,{value:this.props.buttonLabel,className:"no-margin",symbol:t.createElement(i.symbol,{name:"image-change"})})},processMessage:this.props.loadingLabel,status:this.state.uploadStatus,shouldTranslate:!0}))}}),define("baseUI/panelInputs/media/videoUpload",["create-react-class","prop-types","lodash","util","baseUI/panelInputs/media/videoUpload.rt"],function(e,t,u,s,i){"use strict";var n=e({displayName:"videoUpload",propTypes:{videoCategory:t.string,label:t.string,buttonLabel:t.string,loadingLabel:t.string,onClick:t.func,onChange:t.func,mediaManagerMediaPath:t.string,useMediaServices:t.bool},getInitialState:function(){return{uploadStatus:"NONE",fileNameUploaded:""}},changeMedia:function(){var i=this;this.setState({uploadStatus:"IN_PROCESS"}),this.props.onClick(),this.props.changeVideo(function(e,t){var s=u.head(e);i.setState({uploadStatus:s?"UPLOAD_SUCCESS":"NONE",fileNameUploaded:s?s.title:""}),i.props.onChange(e,t)})},render:i});return s.hoc.connect(s.hoc.STORES.EDITOR_API,void 0,function(t,s){return{changeVideo:function(e){return t((a=e,r=s.useMediaServices,l=s.selectedComponents,p=s.videoCategory,c=s.mediaManagerMediaPath,function(e,t,s){var i=s.editorAPI,n=u.head(l||i.selection.getSelectedComponents()),o=i.mediaServices.mediaManager;p=p||o.categories.VIDEO,r?i.mediaServices.changeVideo(n,p):o.open(p,"editor_media_player",{callback:a,path:c})}));var a,r,l,p,c}}})(n)}),define("baseUI/panelInputs/media/mediaManagerMixin",["prop-types","lodash","util"],function(e,n,o){"use strict";return{propTypes:{mediaManager:e.shape({open:e.func.isRequired,categories:e.object.isRequired}).isRequired,focusEditorFunc:e.func.isRequired,mediaManagerCategory:e.string,mediaManagerPath:e.string,mediaManagerHeaderLabel:e.string,mediaManagerButtonLabel:e.string,value:e.any,onChange:e.func,valueLink:o.valueLink.valueLinkPropType},_changeImage:function(e,t,s){if(t){this.dataKeys=n.keys(o.valueLink.getValueFromProps(this.props)),this.dataKeys=n.isEmpty(this.dataKeys)?n.keys(n.head(t)):this.dataKeys;var i=n.pick(t[0],this.dataKeys);i.uri=t[0].fileName,i.originalImageDataRef=null,i.type="Image",i.crop=null,e(i,s)}},openMediaGallery:function(s){var i=this,e=this.props.mediaManager,t=this.props.mediaManagerCategory||e.categories.IMAGE,n=void 0;(this.props.mediaManagerHeaderLabel||this.props.mediaManagerButtonLabel)&&((n={}).title=o.translate(this.props.mediaManagerHeaderLabel),n.submitButton=o.translate(this.props.mediaManagerButtonLabel)),e.open(t,{multiSelect:!1,callback:function(e,t){i._changeImage(s,e,t),i.props.focusEditorFunc()},path:this.props.mediaManagerPath,translation:n})}}}),define("baseUI/panelInputs/media/imageChange.rt",["react","lodash","baseUI/panelInputs/media/imagePreview"],function(e,t,s){"use strict";return function(){return e.createElement("div",{},this.props.previewOnly?e.createElement(s,t.assign({},{key:"previewOnly",value:this.props.value,valueLink:this.props.valueLink,getImageTransformData:this.getImageTransformData,imageFittingType:this.props.imageFittingType,emptySymbolName:"camera"},this.filteredProps())):null,this.props.previewOnly?null:e.createElement(s,t.assign({},{key:"previewInteractive",value:this.props.value,onChange:this.props.onChange,valueLink:this.props.valueLink,buttons:this.getButtons(),getImageTransformData:this.getImageTransformData,imageFittingType:this.props.imageFittingType,emptySymbolName:"camera"},this.filteredProps())))}}),define("baseUI/panelInputs/media/imageChange",["create-react-class","prop-types","lodash","util","baseUI/panelInputs/media/mediaManagerMixin","baseUI/panelInputs/media/wixStaticMediaMixin","baseUI/panelInputs/media/imageChange.rt"],function(e,t,s,i,n,o,a){"use strict";return e({displayName:"imageChange",mixins:[i.propTypesFilterMixin,n,o],propTypes:{addButtonLabel:t.string,changeButtonLabel:t.string,additionalButtons:t.oneOfType([t.object,t.array]),onClick:t.func,imageFittingType:t.string,previewOnly:t.bool},getDefaultProps:function(){return{additionalButtons:[]}},getButtons:function(){var e={nonEmptyButtonLabel:this.props.changeButtonLabel,nonEmptyButtonIcon:"image-change",emptyButtonLabel:this.props.addButtonLabel,emptyButtonIcon:"plus",onClick:this.props.onClick||this.openMediaGallery};return[].concat(e,this.props.additionalButtons)},render:a})}),define("baseUI/panelInputs/media/imageChangeRemove.rt",["react","lodash","baseUI/panelInputs/media/imageChange"],function(e,t,s){"use strict";return function(){return e.createElement(s,t.assign({},{value:this.props.value,onChange:this.props.onChange,valueLink:this.props.valueLink,additionalButtons:this.getRemoveButton(),emptySymbolName:"camera"},this.filteredProps()))}}),define("baseUI/panelInputs/media/imageChangeRemove",["create-react-class","prop-types","lodash","util","baseUI/panelInputs/media/imageChangeRemove.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"imageChangeRemove",mixins:[i.propTypesFilterMixin],propTypes:{removeButtonLabel:t.string,value:t.any,onChange:t.func,valueLink:i.valueLink.valueLinkPropType},getRemoveButton:function(){if((i.valueLink.getValueFromProps(this.props)||{}).uri)return{nonEmptyButtonLabel:this.props.removeButtonLabel,nonEmptyButtonIcon:"delete",onClick:this._removeImage}},_removeImage:function(e){e(null)},render:n})}),define("baseUI/panelInputs/media/logoChange.rt",["react","lodash","util","baseUILib","santa-editor-symbols"],function(e,t,s,i,n){"use strict";return function(){return e.createElement(i.Composites.SecondaryMediaLabeled,{},this.props.label?e.createElement(i.TextLabel,{value:this.props.label,key:"logo-label"}):null,e.createElement(i.SecondaryMediaImage,{src:this.getImageUrl(),onClick:this.handleImageChange}),e.createElement(i.Tooltip,{content:this.getUploadButtonTranslationKey()},e.createElement(i.Button,{className:"no-margin",onClick:this.handleImageChange},e.createElement(i.Symbol,{},e.createElement(n.symbol,{name:this.getUploadButtonSymbol()})))),!this.props.hideDeleteButton&&this.hasImage()?e.createElement(i.Tooltip,{content:"LOGO_DELETE_BUTTON_TOOLTIP",key:"delete-button"},e.createElement(i.Button,{className:"no-margin",onClick:this.handleDelete},e.createElement(i.Symbol,{},e.createElement(n.symbol,{name:"delete"})))):null)}}),define("baseUI/panelInputs/media/logoChange",["create-react-class","prop-types","lodash","util","baseUI/panelInputs/media/logoChange.rt"],function(e,t,n,r,s){"use strict";var i=e({displayName:"logoChange",propTypes:{focusEditorFunc:t.func.isRequired,imageCategory:t.string.isRequired,openMedia:t.func.isRequired,value:t.object,label:t.string,onChange:t.func.isRequired,hideDeleteButton:t.bool},hasImage:function(){return!!this.props.value},getImageUrl:function(){var e=this.props.value,t=r.imageTransform.fittingTypes;if(!e)return"";var s=e.width,i=e.height,n={id:e.uri,width:s,height:i},o={width:126,height:Math.ceil(126/s*i)},a=r.imageTransform.getData(t.SCALE_TO_FIT,n,o,{transformType:"fit"});return r.serviceTopology.staticMediaUrl+"/"+a.uri},getUploadButtonSymbol:function(){return this.hasImage()?"image-change":"upload-btn"},getUploadButtonTranslationKey:function(){return this.hasImage()?"LOGO_CHANGE_BUTTON_TOOLTIP":"LOGO_UPLOAD_BUTTON_TOOLTIP"},handleDelete:function(){this.props.onChange(null)},handleImageChange:function(){var i=this;this.props.openMedia(this.props.imageCategory,{multiSelect:!1,callback:function(e,t){var s=n.assign({type:"Image"},n.head(e));s&&i.props.onChange(s,t),i.props.focusEditorFunc()}})},render:s}),o=function(e,t,s){return s.editorAPI};return r.hoc.connect(r.hoc.STORES.EDITOR_API,function(e){return{imageCategory:e.editorAPI.mediaServices.mediaManager.categories.IMAGE}},function(e){var t=e(o);return{openMedia:t.mediaServices.mediaManager.open,focusEditorFunc:t.mediaServices.setFocusToEditor}})(i)}),define("baseUI/controls/listItemWithImage.rt",["react","lodash","util","baseUI/popovers/tooltip","constants","santa-editor-symbols"],function(e,t,s,i,n,o){"use strict";return function(){return e.createElement("div",{className:"listItemWithImage "+t({disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),"data-aid":this.props.title,onClick:this.props.disabled?t.noop:this.props.callback},e.createElement("img",{className:"image",src:this.props.url}),e.createElement("div",{className:"content"},this.props.title?e.createElement("div",{key:"title",className:"title ellipsis"},this.translateIfNeeded(this.props.title)):null,this.props.desc?e.createElement("div",{key:"desc",className:"desc ellipsis"},this.translateIfNeeded(this.props.desc)):null),e.createElement("div",{className:"indicator"},e.createElement(i,{value:this.props.tooltip,disabled:!this.props.tooltip,alignment:n.UI.TOOLTIP.ALIGNMENT.TOP},e.createElement("div",{},e.createElement(o.symbol,{className:"listItemSymbol "+t({disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),name:this.props.symbol||"arrowWithStates",hintId:this.props.hintId})))))}}),define("baseUI/controls/listItemWithImage",["create-react-class","prop-types","lodash","util","baseUI/controls/listItemWithImage.rt"],function(e,t,s,i,n){"use strict";return e({displayName:"listItemWithImage",propTypes:{title:t.string,desc:t.string,tooltip:t.string,disabled:t.bool,url:t.string.isRequired,callback:t.func.isRequired,hintId:t.string,shouldTranslate:t.bool},translateIfNeeded:function(e){return s.get(this.props,"shouldTranslate",!0)?i.translate(e):e},render:n})}),define("baseUI/controls/listItemWithSymbol.rt",["react","lodash","util","santa-editor-symbols","baseUILib"],function(e,t,s,i,n){"use strict";return function(){return e.createElement("div",{className:"listItem list-item-with-symbol",onClick:function(){this.onItemClick()}.bind(this)},e.createElement(i.symbol,{className:"image",name:this.props.symbol}),e.createElement("div",{className:this.getClassesWithDisabled("content")},this.props.title?e.createElement("div",{key:"title",className:"title ellipsis"},s.translate(this.props.title)):null,this.props.desc?e.createElement("div",{key:"desc",className:"desc ellipsis"},s.translate(this.props.desc)):null),this.props.customTooltipContent?null:e.createElement(n.Tooltip,t.assign({},{key:"tooltip"},this.getTooltipProps()),e.createElement(i.symbol,{className:this.getClassesWithDisabled("expandSymbol"),name:this.getExpandSymbolName()})),this.props.customTooltipContent?e.createElement(this.props.customTooltipContent,{key:"custom-tooltip-content"}):null)}}),define("baseUI/controls/listItemWithSymbol",["create-react-class","prop-types","lodash","baseUI/controls/listItemWithSymbol.rt"],function(e,t,s,i){"use strict";return e({displayName:"listItemWithSymbol",render:i,propTypes:{title:t.string,desc:t.string,symbol:t.string.isRequired,expandSymbol:t.string,expandSymbolDisabled:t.string,callback:t.func.isRequired,disabled:t.bool,customTooltipContent:t.func},getClassesWithDisabled:function(e){return e+(this.props.disabled?" disabled":"")},getExpandSymbolName:function(){return s.isUndefined(this.props.expandSymbol)?"arrowWithStates":this.props.disabled?this.props.expandSymbolDisabled:this.props.expandSymbol},getTooltipProps:function(){return!this.props.disabled&&this.props.tooltip?s.assign({alignment:"RIGHT"},s.pick(this.props.tooltip,"key","id","content")):this.props.disabled&&this.props.disabledTooltip?s.assign({alignment:"RIGHT"},s.pick(this.props.disabledTooltip,"key","id","content")):{disabled:!0}},onItemClick:function(){this.props.callback&&this.props.callback()}})}),define("baseUI/controls/arrowButton.rt",["react","lodash","santa-editor-symbols"],function(e,t,s){"use strict";return function(){return e.createElement("i",{className:"arrow-button "+this.getClassName(),onClick:this.props.onClickAction},e.createElement(s.symbol,{name:"arrowDown"}))}}),define("baseUI/controls/arrowButton",["create-react-class","prop-types","lodash","baseUI/controls/arrowButton.rt"],function(e,t,s,i){"use strict";return e({displayName:"arrowButton",render:i,propTypes:{withoutBorder:t.bool,className:t.string,onClickAction:t.func},getClassName:function(){var e="";return this.props.className&&(e+=" "+this.props.className),this.props.withoutBorder&&(e+=" without-border"),e.trim()}})}),define("baseUI/colorPicker/colorSpace.rt",["react","lodash"],function(i,t){"use strict";return function(){return function(){var e=this.getSelectedColor();return i.createElement("div",{className:"colorSpace"},i.createElement("div",{className:"top-section"},i.createElement("div",{ref:"colorSpace",className:"select-area",onMouseDown:this.selectAreaClicked},i.createElement("div",{className:"selector-layer",style:{backgroundColor:"hsl("+e.hue+", 100%, 50%)"}}),i.createElement("div",{className:"selector-layer saturation-layer"}),i.createElement("div",{className:"selector-layer brightness-layer"}),i.createElement("div",{className:"color-indicator "+(60<e.brightness?"bright-background":"dark-background"),style:this.getIndicatorStyle()})),i.createElement.apply(this,["div",{className:"brightness-options"},t.map(this.getBrightnessOptions(),function(e,t,s){return i.createElement("div",{key:"brightnessOption-"+s,className:"option",style:{backgroundColor:"rgb("+t.red+", "+t.green+", "+t.blue+")"},onClick:function(e,t,s){this.brightnessOptionSelected(s)}.bind(this,e,t,s)})}.bind(this,e))])),i.createElement("div",{className:"hue-scale",onMouseDown:this.hueScaleClicked},i.createElement("div",{className:"hue-indicator "+(this.state.hueIndicatorDrag?"hue-indicator-drag":""),style:this.getHueIndicatorStyle()})))}.apply(this,[])}}),define("baseUI/colorPicker/colorSpace",["reactDOM","zepto","lodash","create-react-class","prop-types","util","baseUI/colorPicker/colorSpace.rt"],function(s,i,n,e,t,o,a){"use strict";return e({displayName:"colorSpace",propTypes:{valueLink:t.object,value:t.object},getInitialState:function(){return{hueIndicatorDrag:!(this.layout={colorSpace:{}})}},updateLayoutDimensions:function(){var e=i(s.findDOMNode(this)),t=i(s.findDOMNode(this.refs.colorSpace));this.layout={colorSpace:{width:t.width(),height:t.height()},width:e.width(),left:e.offset().left,top:e.offset().top}},componentDidMount:function(){this.updateLayoutDimensions(),this.forceUpdate()},componentDidUpdate:function(){this.updateLayoutDimensions()},shouldComponentUpdate:function(e,t){return!n.isEqual(o.valueLink.getValueFromProps(this.props),o.valueLink.getValueFromProps(e))||!n.isEqual(t,this.state)},getSelectedColor:function(){var e=o.valueLink.getValueFromProps(this.props);if(n.isUndefined(e.hue)||n.isUndefined(e.saturation)||n.isUndefined(e.brightness))throw new Error("no HSB color was provided to custom color picker");return n.clone(e)},getBrightnessOptions:function(){for(var e=[],t=this.getSelectedColor(),s=void 0,i=5;0<i;i--)s={hue:t.hue,saturation:t.saturation,brightness:20*i-10},e.push(o.colors.hsbToRgb(s));return e},hueScaleClicked:function(e){this.hueSelected(e),this.setState({hueIndicatorDrag:!0},function(){i(window.document).on("mousemove",this.hueSelected),i(window.document).on("mouseup",this.hueIndicatorDragEnd)}.bind(this))},hueSelected:function(e){var t=o.math.ensureWithinLimits(e.pageX,this.layout.left,this.layout.left+this.layout.width),s=Math.floor(o.math.percentFromValue(t,this.layout.left,this.layout.left+this.layout.width)),i=parseInt(o.math.valueFromPercent(s,0,360),10);this.updateColor({hue:i})},hueIndicatorDragEnd:function(){this.setState({hueIndicatorDrag:!1}),i(window.document).off("mousemove",this.hueSelected),i(window.document).off("mouseup",this.hueIndicatorDragEnd)},updateColor:function(e){var t=this.getSelectedColor(),s=n.assign({},t,e);o.valueLink.callOnChangeIfExists(this.props,s)},brightnessOptionSelected:function(e){this.updateColor({brightness:20*(5-e)-10})},getIndicatorStyle:function(){if(!this.layout.colorSpace.width)return{};var e=this.getSelectedColor();return{left:o.math.valueFromPercent(e.saturation,0,this.layout.colorSpace.width)-5,bottom:o.math.valueFromPercent(e.brightness,0,this.layout.colorSpace.height)-5}},getHueIndicatorStyle:function(){if(!this.layout.width)return{};var e=100*this.getSelectedColor().hue/360;return{left:o.math.valueFromPercent(e,0,this.layout.width)-7}},selectAreaClicked:function(e){this.saturationBrightnessSelected(e),i(window.document).on("mousemove",this.saturationBrightnessSelected),i(window.document).on("mouseup",this.colorIndicatorDragEnd)},saturationBrightnessSelected:function(e){var t=o.math.ensureWithinLimits(e.pageX,this.layout.left,this.layout.left+this.layout.colorSpace.width),s=o.math.ensureWithinLimits(e.pageY,this.layout.top,this.layout.top+this.layout.colorSpace.height),i=o.math.percentFromValue(t,this.layout.left,this.layout.left+this.layout.colorSpace.width),n=100-o.math.percentFromValue(s,this.layout.top,this.layout.top+this.layout.colorSpace.height);this.updateColor({saturation:parseInt(i,10),brightness:parseInt(n,10)})},colorIndicatorDragEnd:function(){i(window.document).off("mousemove",this.saturationBrightnessSelected),i(window.document).off("mouseup",this.colorIndicatorDragEnd)},render:a})}),define("baseUI/colorPicker/colorFormat.rt",["react","lodash","baseUI/controls/horizontalTabs","baseUI/panelInputs/stepper","baseUI/panelInputs/textInput","constants"],function(s,e,t,i,n,o){"use strict";return function(){return function(){var e=o.UI.COLOR_FORMATS;return s.createElement("div",{className:"color-format"},s.createElement(t,{options:this.getFormatOptions(),valueLink:this.linkState("selectedFormat"),className:"arrowed"}),s.createElement("div",{className:"color-values-wrapper"},this.state.selectedFormat===e.HEX?function(e){var t=this.getColorAsHEX();return s.createElement("div",{key:"hexSection",className:"color-value-hex"},s.createElement(n,{validator:this.validateHexValue,invalidMessage:"ColorPicker_ColorSpace_HEXErrorTooltip",value:t,maxLength:6,onChange:this.handleHexChange,onChangeInValidationStatus:this.props.onChangeInValidationStatus}))}.apply(this,[e]):null,this.state.selectedFormat===e.RGB?function(e){var t=this.getColorAsRGB();return s.createElement("div",{key:"rgbSection",className:"color-values"},s.createElement("div",{className:"color-value-item"},s.createElement(i,{min:0,max:255,value:t.red,step:1,onChange:this.handleRedChange})),s.createElement("div",{className:"color-value-item"},s.createElement(i,{min:0,max:255,value:t.green,step:1,onChange:this.handleGreenChange})),s.createElement("div",{className:"color-value-item"},s.createElement(i,{min:0,max:255,value:t.blue,step:1,onChange:this.handleBlueChange})))}.apply(this,[e]):null,this.state.selectedFormat===e.HSB?function(e){var t=this.getColorAsExactHSB();return s.createElement("div",{key:"hsbSection",className:"color-values"},s.createElement("div",{className:"color-value-item"},s.createElement(i,{min:0,max:360,units:"°",value:Math.round(t.hue),step:1,onChange:this.handleHueChange})),s.createElement("div",{className:"color-value-item"},s.createElement(i,{min:0,max:100,units:"%",value:Math.round(t.saturation),step:1,onChange:this.handleSaturationChange})),s.createElement("div",{className:"color-value-item"},s.createElement(i,{min:0,max:100,units:"%",value:Math.round(t.brightness),step:1,onChange:this.handleBrightnessChange})))}.apply(this,[e]):null))}.apply(this,[])}}),define("baseUI/colorPicker/colorFormat",["create-react-class","prop-types","lodash","util","constants","react-addons-pure-render-mixin","react-addons-linked-state-mixin","baseUI/colorPicker/colorFormat.rt"],function(e,t,n,o,s,i,a,r){"use strict";return e({displayName:"colorFormat",propTypes:{value:t.object.isRequired,onChangeInValidationStatus:t.func},mixins:[a,i],getInitialState:function(){var e=o.valueLink.getValueFromProps(this.props),t=o.colors.hsbToRgb(e);return{selectedFormat:s.UI.COLOR_FORMATS.HEX,currentExactHSB:e,currentRGB:t,currentHEX:o.colors.rgbToHex(t)}},componentWillReceiveProps:function(e){if(!n.isEqual(e.value,this.props.value)&&!n.isEqual(e.value,this.state.currentExactHSB)){var t=o.colors.hsbToRgb(e.value);this.setState({currentExactHSB:e.value,currentRGB:t,currentHEX:o.colors.rgbToHex(t)})}},componentDidUpdate:function(e,t){t.selectedFormat!==this.state.selectedFormat&&this.props.onChangeInValidationStatus&&this.props.onChangeInValidationStatus(!0)},getFormatOptions:function(){return[{label:"ColorPicker_ColorSpace_HEX",value:s.UI.COLOR_FORMATS.HEX},{label:"ColorPicker_ColorSpace_RGB",value:s.UI.COLOR_FORMATS.RGB},{label:"ColorPicker_ColorSpace_HSB",value:s.UI.COLOR_FORMATS.HSB}]},getColorAsExactHSB:function(){return n.clone(this.state.currentExactHSB)},getColorAsHEX:function(){return this.state.currentHEX.substr(1)},getColorAsRGB:function(){return n.clone(this.state.currentRGB)},handleRedChange:function(e){var t=this,s=this.getColorAsRGB();s.red=e;var i=o.colors.rgbToHsbExact(s);this.setState({currentExactHSB:i,currentRGB:s,currentHEX:o.colors.rgbToHex(s)},function(){return o.valueLink.callOnChangeIfExists(t.props,n.clone(i))})},handleGreenChange:function(e){var t=this,s=this.getColorAsRGB();s.green=e;var i=o.colors.rgbToHsbExact(s);this.setState({currentExactHSB:i,currentRGB:s,currentHEX:o.colors.rgbToHex(s)},function(){return o.valueLink.callOnChangeIfExists(t.props,n.clone(i))})},handleBlueChange:function(e){var t=this,s=this.getColorAsRGB();s.blue=e;var i=o.colors.rgbToHsbExact(s);this.setState({currentExactHSB:i,currentRGB:s,currentHEX:o.colors.rgbToHex(s)},function(){return o.valueLink.callOnChangeIfExists(t.props,n.clone(i))})},handleHueChange:function(e){var t=this,s=this.getColorAsExactHSB();if(Math.round(s.hue)!==e){s.hue=o.math.ensureWithinLimits(e,0,360);var i=o.colors.hsbToRgb(s);this.setState({currentExactHSB:s,currentRGB:i,currentHEX:o.colors.rgbToHex(i)},function(){return o.valueLink.callOnChangeIfExists(t.props,n.clone(s))})}},handleSaturationChange:function(e){var t=this,s=this.getColorAsExactHSB();if(Math.round(s.saturation)!==e){s.saturation=e;var i=o.colors.hsbToRgb(s);this.setState({currentExactHSB:s,currentRGB:i,currentHEX:o.colors.rgbToHex(i)},function(){return o.valueLink.callOnChangeIfExists(t.props,n.clone(s))})}},handleBrightnessChange:function(e){var t=this,s=this.getColorAsExactHSB();if(Math.round(s.brightness)!==e){s.brightness=e;var i=o.colors.hsbToRgb(s);this.setState({currentExactHSB:s,currentRGB:i,currentHEX:o.colors.rgbToHex(i)},function(){return o.valueLink.callOnChangeIfExists(t.props,n.clone(s))})}},handleHexChange:function(e){var t=this;e="#"+e;var s=o.colors.hexToRgb(e),i=o.colors.rgbToHsbExact(s);this.setState({currentExactHSB:i,currentRGB:s,currentHEX:e},function(){return o.valueLink.callOnChangeIfExists(t.props,n.clone(i))})},validateHexValue:function(e){return/^[0-9A-F]{6}$/i.test(e)},render:r})}),define("baseUI/colorPicker/paletteDisplayer.rt",["react","lodash","util"],function(i,n,o){"use strict";return function(){return i.createElement.apply(this,["div",(e={className:"palette-displayer",onMouseOut:function(){this.previewColor(o.valueLink.getValueFromProps(this.props))}.bind(this)},t=this.filteredProps(),s=n.assign({},e,t),e.hasOwnProperty("style")&&(s.style=n.defaults(s.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(s.className=t.className+" "+e.className),s),n.map(this.getColors(),function(e,t){return i.createElement("div",{key:"paletteColor-"+t,className:n(this.getOptionClasses(e)).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onClick:function(e,t){this.selectColor(e.symbol,t)}.bind(this,e,t),onDoubleClick:this.selectColorAndClose.bind(this,e.symbol),onMouseEnter:function(e,t){this.previewColor(e.symbol)}.bind(this,e,t),style:{backgroundColor:e.value}})}.bind(this))]);var e,t,s}}),define("baseUI/colorPicker/paletteDisplayer",["create-react-class","prop-types","lodash","util","baseUI/mixins/reportUIChangeMixin","baseUI/colorPicker/paletteDisplayer.rt"],function(e,t,i,s,n,o){"use strict";return e({displayName:"paletteDisplayer",mixins:[n,s.propTypesFilterMixin],propTypes:{palette:t.objectOf(t.string).isRequired,isSelectable:t.bool,onPreview:t.func,value:t.any,onChange:t.func,valueLink:s.valueLink.valueLinkPropType},getColors:function(){var s=[];return i.forEach(this.props.palette,function(e,t){11<=parseInt(/color_(\d+)/.exec(t)[1],10)&&s.push({symbol:t,value:e})}),function(e,t,s){for(var i=[],n=t*s,o=0;o<t;o++)for(var a=o;a<n;a+=t)i.push(e[a]);return i}(s,5,s.length/5)},getOptionClasses:function(e){return{"palette-color-option":!0,"white-option":s.colors.getDistanceToWhite(e.value)<3,"option-selected":s.valueLink.getValueFromProps(this.props)===e.symbol,selectable:this.props.isSelectable}},previewColor:function(e){this.props.isSelectable&&this.props.onPreview&&this.props.onPreview(e)},selectColor:function(e,t){this.reportUIChange({value:t}),this.props.isSelectable&&s.valueLink.callOnChangeIfExists(this.props,e)},selectColorAndClose:function(e){this.props.isSelectable&&s.valueLink.callOnChangeIfExists(this.props,e,!0)},render:o})}),define("baseUI/colorPicker/palettesList.rt",["react","lodash"],function(n,o){"use strict";return function(){return n.createElement("div",(e={className:"palettes-list"},t=this.filteredProps(),s=o.assign({},e,t),e.hasOwnProperty("style")&&(s.style=o.defaults(s.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(s.className=t.className+" "+e.className),s),n.createElement.apply(this,["div",{className:"palette-options",onMouseLeave:this.resetPalette},o.map(this.props.palettes,function(e,t){return n.createElement("div",{className:"palette-option-wrapper",key:"paletteOption-"+t,onMouseEnter:this.previewPalette.bind(null,e),onMouseDown:this.selectPalette.bind(null,e)},n.createElement.apply(this,["div",this.getPaletteOptionProps(e),o.map(this.getRootColors(e),function(e,t,s,i){return n.createElement("span",{key:"paletteRootColor-"+i,className:o(this.getPaletteOptionColorClasses(s)).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),style:{backgroundColor:s}})}.bind(this,e,t))]))}.bind(this))]));var e,t,s}}),define("baseUI/colorPicker/palettesList",["reactDOM","create-react-class","prop-types","lodash","zepto","util","baseUI/colorPicker/palettesList.rt"],function(i,e,t,s,n,o,a){"use strict";var r=["color_11","color_18","color_22","color_28","color_34"];return e({displayName:"paletteList",mixins:[o.propTypesFilterMixin],propTypes:{palettes:t.arrayOf(t.object).isRequired,valueLink:t.shape({value:t.object,requestChange:t.func.isRequired}).isRequired,onPreview:t.func.isRequired},componentDidMount:function(){if(this.refs.selectedPalette){var e=n(i.findDOMNode(this)),t=n(i.findDOMNode(this.refs.selectedPalette)).position().top,s=e.height();e.scrollTop(t-.5*s)}},arePalettesEqual:function(e,t){return s.isEmpty(s.difference(this.getRootColors(e),this.getRootColors(t)))},getPaletteOptionProps:function(e){var t=o.valueLink.getValueFromProps(this.props),s=this.arePalettesEqual(t,e),i={className:"palette-option"+(s?" selected":"")};return s&&(i.ref="selectedPalette"),i},getPaletteOptionColorClasses:function(e){return{"palette-option-color":!0,"white-color":o.colors.getDistanceToWhite(e)<3}},getRootColors:function(e){return s(e).pick(r).values().value()},previewPalette:function(e){this.props.onPreview(e)},selectPalette:function(e){o.valueLink.callOnChangeIfExists(this.props,e)},resetPalette:function(){o.valueLink.callOnChangeIfExists(this.props,o.valueLink.getValueFromProps(this.props))},render:a})}),define("baseUI/colorPicker/colorPickerInput.rt",["react","lodash","baseUILib","util"],function(e,t,s,i){"use strict";return function(){return e.createElement("div",{onClick:this.openColorPicker,"data-aid":this.props.automationId,className:this.getClassName("color-picker-input")+(this.props.label?" with-label":"")},this.props.label?e.createElement(s.TextLabel,{className:"color-picker-label",enableEllipsis:!0,key:"colorPickerLabel",type:"T02",shouldTranslate:this.props.shouldTranslate,value:this.props.label}):null,e.createElement("div",{className:t({"color-picker-wrapper":!0,disabled:this.props.disabled,colorPickerOpen:this.state.forceHighlight}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement("div",{className:"color-picker-color",style:{backgroundColor:this.resolveColor(),opacity:this.getOpacity()}})),this.props.helpText?e.createElement(s.Divider,{key:"helpTextDivider",long:!0}):null,this.props.helpText?e.createElement("div",{key:"helpText",className:"rich-text-paragraph"},e.createElement("p",{className:"rich-text-paragraph-content"},this.translateIfNeeded(this.props.helpText))):null)}}),define("baseUI/colorPicker/colorPickerInput",["create-react-class","prop-types","lodash","util","baseUI/panelInputs/inputMixin","baseUI/colorPicker/colorPickerInput.rt"],function(e,t,s,i,n,o){"use strict";return e({displayName:"colorPickerInput",propTypes:{useMouseEvent:t.bool,position:t.object,openColorPicker:t.func.isRequired,colorResolver:t.func,previewOnHover:t.bool,helpText:t.string,automationId:t.string,shouldTranslate:t.bool},mixins:[n,i.translationMixin],getDefaultProps:function(){return{colorResolver:s.identity}},getInitialState:function(){return{forceHighlight:!1}},componentDidMount:function(){this.mounted=!0},componentWillUnmount:function(){this.mounted=!1},openColorPicker:function(e){this.setState({forceHighlight:!0});var t=this.props.position;!t&&this.props.useMouseEvent&&(t={top:e.clientY,left:e.clientX}),this.props.openColorPicker(this.handleChange,i.valueLink.getValueFromProps(this.props),!0,t,!1!==this.props.previewOnHover,this.props.enableHistory,this.onColorPickerClose)},handleChange:function(e){i.valueLink.callOnChangeIfExists(this.props,e)},resolveColor:function(){return this.props.colorResolver(i.valueLink.getValueFromProps(this.props))},getOpacity:function(){var e=1;return s.isNumber(this.props.opacity)&&(e=this.props.opacity),e},unHighlight:function(){this.mounted&&this.setState({forceHighlight:!1})},onColorPickerClose:function(){this.mounted&&this.unHighlight()},render:o})}),define("baseUI/colorPicker/colorPickerInputWithOpacity.rt",["react","lodash","baseUILib","baseUI/panelInputs/slider","baseUI/colorPicker/colorPickerInput"],function(e,t,s,i,n){"use strict";return function(){return e.createElement("div",{className:"color-picker-input-with-opacity"},this.props.label?e.createElement("label",{key:"label",className:t({"color-picker-input-with-opacity-label":!0,disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.translateIfNeeded(this.props.label)):null,e.createElement("div",{className:"color-picker-input-with-opacity-slider"},e.createElement(i,{automationId:this.props.automationId+"-slider",isSmallStepper:this.props.isSmallStepper,disabled:this.props.disabled,units:"%",valueLink:this.linkOpacity(),min:0,max:100,step:1}),e.createElement(n,t.assign({},{automationId:this.props.automationId+"-colorPicker",disabled:this.props.disabled,valueLink:this.linkColor()},this.getPropsForColorInput()))),this.props.helpText?e.createElement(s.Divider,{key:"helpTextDivider",long:!0}):null,this.props.helpText?e.createElement("div",{key:"helpText",className:"rich-text-paragraph"},e.createElement("p",{className:"rich-text-paragraph-content"},this.translateIfNeeded(this.props.helpText))):null)}}),define("baseUI/colorPicker/colorPickerInputWithOpacity",["create-react-class","prop-types","lodash","util","baseUI/colorPicker/colorPickerInputWithOpacity.rt"],function(e,t,s,i,n){"use strict";return e({propTypes:{label:t.string,helpText:t.string,isSmallStepper:t.bool,value:t.any,onChange:t.func,valueLink:i.valueLink.valueLinkPropType,automationId:t.string},getDefaultProps:function(){return{isSmallStepper:!1}},mixins:[i.propTypesFilterMixin,i.translationMixin],displayName:"colorPickerInputWithOpacity",linkColor:function(){return{value:i.valueLink.getValueFromProps(this.props).color,requestChange:function(e){var t=0===i.valueLink.getValueFromProps(this.props).alpha?1:i.valueLink.getValueFromProps(this.props).alpha;i.valueLink.callOnChangeIfExists(this.props,{color:e,alpha:t})}.bind(this)}},linkOpacity:function(){return{value:100*i.valueLink.getValueFromProps(this.props).alpha,requestChange:function(e){i.valueLink.callOnChangeIfExists(this.props,{color:i.valueLink.getValueFromProps(this.props).color,alpha:e/100})}.bind(this)}},getPropsForColorInput:function(){var e=this.filteredProps();return e.opacity=i.valueLink.getValueFromProps(this.props).alpha,e},render:n})}),define("baseUI/panelInputs/opacitySlider.rt",["react","lodash","baseUI/panelInputs/stepper","baseUI/controls/infoIcon"],function(e,t,s,i){"use strict";return function(){return e.createElement("div",t.assign({},{className:t({"input-slider-opacity":!0,"has-label":this.hasLabel(),disabled:this.isDisabled()}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.getTopLevelProps()),e.createElement("label",{className:"label"},this.translateIfNeeded(this.getLabel())),this.hasLabel()&&(this.props.infoText||this.props.infoText)&&!this.props.disabled?e.createElement(i,{key:"tooltip",title:this.props.infoTitle,text:this.props.infoText,size:18}):null,e.createElement("div",{className:"clearfix sliderArea"},e.createElement("div",{className:"sliderContainer"},e.createElement(s,{className:this.getStepperClass(),disabled:this.props.disabled,min:this.getStepperMin(),max:this.getStepperMax(),value:this.state.value,selectedUnits:this.props.selectedUnits,units:this.props.units,step:this.getStepperStep(),onUnitsChange:this.props.onUnitsChange,onChange:this.handleStepperChange,afterBlur:this.props.afterBlur}),e.createElement("div",{className:"slider",ref:"slider",onMouseDown:this.mouseDown},e.createElement("div",{className:"empty-line"}),e.createElement("div",{className:"line",style:this.getColorGradient()}),e.createElement("div",{className:"knobContainer"},e.createElement("div",{className:"sliderKnob",style:{left:"calc("+this.getValueInPercent()+"%)"}}))))))}}),define("baseUI/panelInputs/opacitySlider",["reactDOM","zepto","lodash","create-react-class","prop-types","baseUI/panelInputs/inputMixin","baseUI/panelInputs/registerDocumentEventsMixin","util","santa-editor-utils","baseUI/mixins/reportUIChangeMixin","baseUI/panelInputs/opacitySlider.rt"],function(s,i,n,e,t,o,a,r,l,p,c){"use strict";var u=l.math,h=u.normalizeNumber,d=u.getQuadraticEquationBy3Points;return e({displayName:"opacitySlider",mixins:[o,a,r.translationMixin,p],contextTypes:{reportUIChange:t.func},propTypes:{min:t.number,max:t.number,stepperMin:t.number,stepperMax:t.number,steppeStep:t.number,selectedUnits:t.string,onUnitsChange:t.func,colorResolver:t.func,units:t.oneOfType([t.string,t.array]),step:t.number,defaultValue:t.number,infoText:t.string,infoTitle:t.string,onSlideEnd:t.func,isSmallStepper:t.bool,afterBlur:t.func,middleValueForPolynomial:t.number},getDefaultProps:function(){return{max:100,min:0,step:1,units:"",isSmallStepper:!1}},getStepperClass:function(){var e="";return n.isArray(this.props.units)?e="with-units-dd":this.props.isSmallStepper&&(e="small"),e},getSliderValue:function(e){var t=r.valueLink.getValueFromProps(e);return n.isUndefined(t)?t:parseFloat(t)},getInitialState:function(){this.sliderX=0,this.sliderWidth=0;var e=this.props.middleValueForPolynomial;e&&(this.quadraticEquation=d({x:0,y:this.props.min},{x:50,y:e},{x:100,y:this.props.max}));var t=this.getSliderValue(),s=void 0!==this.props.defaultValue?Number(this.props.defaultValue):this.props.min,i=n.isNumber(t)?t:s;return{value:h(i,this.props.min,this.props.max,this.props.step)}},getValueInPercent:function(){var e=this.state.value;return this.state.value>this.props.max?e=this.props.max:this.state.value<this.props.min&&(e=this.props.min),this.quadraticEquation?Math.round(this.quadraticEquation.fInverse(e)):Math.round((e-this.props.min)/(this.props.max-this.props.min)*100)},fromPercent:function(e){return this.props.min+(this.props.max-this.props.min)*e/100},calcPositionOnSlider:function(e){var t=(e-this.sliderX)/this.sliderWidth*100;return Math.min(Math.max(t,0),100)},calcNewValueFromKnob:function(e){var t=this.calcPositionOnSlider(e);if(this.quadraticEquation){var s=Math.round(this.quadraticEquation.f(t));return Math.min(Math.max(s,this.props.min),this.props.max)}return h(this.fromPercent(t),this.props.min,this.props.max,this.props.step)},handleKnobPositionChange:function(e){if(!this.props.disabled){var t=this.calcNewValueFromKnob(e.pageX-8);this.handleChange(t)}},mouseUp:function(){i(window.document.body).removeClass("block-selection"),this.removeEventListenersFromDocument("mousemove"),this.removeEventListenersFromDocument("mouseup"),this.reportUIChange({value:this.state.value,value_change_origin:"Slider"}),this.props.onSlideEnd&&this.props.onSlideEnd()},mouseDown:function(e){i(window.document.body).addClass("block-selection"),this.removeEventListenersFromDocument("mousemove"),this.removeEventListenersFromDocument("mouseup");var t=i(s.findDOMNode(this.refs.slider));this.sliderX=t.offset().left,this.sliderWidth=t.width()-16,this.handleKnobPositionChange(e),this.registerEventListenersToDocument("mousemove",this.handleKnobPositionChange),this.registerEventListenersToDocument("mouseup",this.mouseUp)},handleChange:function(e,t){this.state.value!==e&&(this.setState({value:e}),r.valueLink.callOnChangeIfExists(this.props,e,t))},handleStepperChange:function(e){e=h(e,this.getStepperMin(),this.getStepperMax(),this.getStepperStep()),this.handleChange(e,!0),this.reportUIChange({value:e,value_change_origin:"Input"})},getStepperMax:function(e){var t=void 0;return e&&(t=e.stepperMax||e.max),t||(t=this.props.stepperMax||this.props.max),t},getStepperMin:function(e){var t=void 0;return e&&(t=e.stepperMin,isNaN(t)&&(t=e.min)),isNaN(t)&&(t=this.props.stepperMin,isNaN(t)&&(t=this.props.min)),t},getStepperStep:function(e){var t=void 0;return e&&(t=e.stepperStep,isNaN(t)&&(t=e.step)),isNaN(t)&&(t=this.props.stepperStep,isNaN(t)&&(t=this.props.step)),t},componentWillReceiveProps:function(e){var t=this.getSliderValue(e);if(t!==this.state.value){var s=h(t,this.getStepperMin(e),this.getStepperMax(e),this.getStepperStep(e));this.setState({value:s})}},getTopLevelProps:function(){return n.omit(this.props,["min","max","value","units","defaultValue","onChange","step"])},getColorGradient:function(){var e=this.props.color;/color_/.test(e)&&(e=this.props.colorResolver(e.replace(/[\{\}]/g,"")));var t=r.colors.hexToRgb(e),s=n.values(t).join(",");return{background:"linear-gradient(to right, rgba("+s+",0) 0%,rgba("+s+" ,0.5) 50%,rgba("+s+",1) 100%)"}},render:c})}),define("baseUI/colorPicker/colorPickerInputWithOpacitySlider.rt",["react","lodash","baseUILib","baseUI/panelInputs/opacitySlider","baseUI/colorPicker/colorPickerInput","util"],function(e,t,s,i,n,o){"use strict";return function(){return e.createElement("div",{className:"color-picker-input-with-opacity"},this.props.label?e.createElement("label",{key:"label",className:t({"color-picker-input-with-opacity-label":!0,disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.translateIfNeeded(this.props.label)):null,e.createElement("div",{className:"color-picker-input-with-opacity-slider"},e.createElement(i,{isSmallStepper:this.props.isSmallStepper,disabled:this.props.disabled,units:"%",color:o.valueLink.getValueFromProps(this.props).color,colorResolver:this.props.colorResolver,valueLink:this.linkOpacity(),min:0,max:100,step:1}),e.createElement(n,t.assign({},{disabled:this.props.disabled,valueLink:this.linkColor()},this.filteredProps()))),this.props.helpText?e.createElement(s.Divider,{key:"helpTextDivider",long:!0}):null,this.props.helpText?e.createElement("div",{key:"helpText",className:"rich-text-paragraph"},e.createElement("p",{className:"rich-text-paragraph-content"},this.translateIfNeeded(this.props.helpText))):null)}}),define("baseUI/colorPicker/colorPickerInputWithOpacitySlider",["create-react-class","prop-types","lodash","util","baseUI/colorPicker/colorPickerInputWithOpacitySlider.rt"],function(e,t,s,i,n){"use strict";return e({propTypes:{label:t.string,helpText:t.string,isSmallStepper:t.bool,value:t.any,onChange:t.func,valueLink:i.valueLink.valueLinkPropType},getDefaultProps:function(){return{isSmallStepper:!1}},mixins:[i.propTypesFilterMixin,i.translationMixin],displayName:"colorPickerInputWithOpacitySlider",linkColor:function(){return{value:i.valueLink.getValueFromProps(this.props).color,requestChange:function(e){var t=0===i.valueLink.getValueFromProps(this.props).alpha?1:i.valueLink.getValueFromProps(this.props).alpha;i.valueLink.callOnChangeIfExists(this.props,{color:e,alpha:t})}.bind(this)}},linkOpacity:function(){return{value:100*i.valueLink.getValueFromProps(this.props).alpha,requestChange:function(e){i.valueLink.callOnChangeIfExists(this.props,{color:i.valueLink.getValueFromProps(this.props).color,alpha:e/100})}.bind(this)}},render:n})}),define("baseUI/controls/iframe.rt",["react","lodash"],function(i,n){"use strict";return function(){return i.createElement("iframe",(e={src:this.props.src,name:this.name,ref:"iframe",style:{maxHeight:this.props.maxHeight},scrolling:this.props.scrolling,width:this.props.width,height:this.props.height},t=this.getIFrameProps(),s=n.assign({},e,t),e.hasOwnProperty("style")&&(s.style=n.defaults(s.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(s.className=t.className+" "+e.className),s));var e,t,s}}),define("baseUI/controls/iframe",["create-react-class","prop-types","lodash","baseUI/controls/iframe.rt","util"],function(e,t,s,i,n){"use strict";return e({displayName:"IFrame",mixins:[n.propTypesFilterMixin],propTypes:{src:t.string.isRequired,onPostMessage:t.func,maxHeight:t.number,scrolling:t.string,height:t.oneOfType([t.number,t.string]),width:t.oneOfType([t.number,t.string])},componentWillMount:function(){window.addEventListener("message",this._postMessageHandler),this.name=this.props.name||s.uniqueId("iframe")},_postMessageHandler:function(e){this.props.onPostMessage&&0===this.props.src.indexOf(e.origin)&&this.props.onPostMessage(e)},componentWillUnmount:function(){window.removeEventListener("message",this._postMessageHandler)},sendMessage:function(e){window.frames[this.name].postMessage(e,this.props.src)},getIFrameProps:function(){return s.omit(this.filteredProps(),["appData"])},render:i})}),define("baseUI/controls/preloader.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"circle-preloader "+(this.props.className||"")})}}),define("baseUI/controls/preloader",["create-react-class","baseUI/controls/preloader.rt"],function(e,t){"use strict";return e({displayName:"preloader",render:t})}),define("baseUI/controls/video.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("figure",{className:"video-container"},e.createElement("video",{ref:"video",key:"video",preload:"metadata",poster:this.props.poster,src:this.props.src}),e.createElement("div",{className:"controls",ref:"controls",key:"controls","data-state":"stopped"},e.createElement("div",{className:"main-action",onClick:this.play},e.createElement("button",{className:"play-big"})),e.createElement("footer",{},e.createElement("div",{className:"progress-bar",ref:"progressBar",key:"progressBar",onClick:this.rewind},e.createElement("span",{className:"progress",ref:"progress",key:"progress"})),e.createElement("div",{className:"actions"},e.createElement("button",{className:"play-pause",onClick:this.play}),e.createElement("button",{className:"stop",onClick:this.stop}),e.createElement("button",{className:"fullscreen",onClick:this.switchFullscreen})))))}}),define("baseUI/controls/video",["create-react-class","prop-types","lodash","baseUI/controls/video.rt"],function(e,t,s,i){"use strict";return e({displayName:"video",propTypes:{src:t.string.isRequired,poster:t.string},video:null,controls:null,progressBar:null,progress:null,render:i,componentDidMount:function(){this.getDOMNodes(),this.setCrutches(),this.addVideoEventListeners()},play:function(){this.video.paused||this.video.ended?this.video.play():this.video.pause()},stop:function(){this.video.pause(),this.video.currentTime=0,this.setControlState("stopped")},rewind:function(e){this.video.currentTime=this.video.duration*e.nativeEvent.offsetX/this.progressBar.offsetWidth,this.onTimeUpdate()},switchFullscreen:function(){this.video.requestFullScreen()},setControlState:function(e){this.controls.dataset.state=e},onPlay:function(){this.setControlState("playing")},onPause:function(){this.video.ended?this.setControlState("stopped"):this.setControlState("paused")},onEnded:function(){this.video.currentTime=0,this.setControlState("stopped")},onTimeUpdate:function(){var e=this.video.currentTime*this.progressBar.offsetWidth/this.video.duration;this.progress.style.setProperty("width",e+"px")},getDOMNodes:function(){this.video=this.refs.video,this.controls=this.refs.controls,this.progressBar=this.refs.progressBar,this.progress=this.refs.progress},setCrutches:function(){this.video.requestFullScreen||(this.video.requestFullScreen=this.video.webkitRequestFullScreen||this.video.mozRequestFullScreen||this.video.msRequestFullscreen)},addVideoEventListeners:function(){this.video.addEventListener("play",this.onPlay),this.video.addEventListener("pause",this.onPause),this.video.addEventListener("ended",this.onEnded),this.video.addEventListener("timeupdate",this.onTimeUpdate)}})}),define("baseUI/controls/toggleButton.rt",["react","lodash","baseUI/controls/toggle","baseUI/popovers/tooltip","constants"],function(e,t,s,i,n){"use strict";return function(){return e.createElement(i,{value:this.props.tooltipValue,disabled:!this.props.tooltipValue,styleType:n.UI.TOOLTIP.STYLE_TYPE.SMALL},e.createElement("span",{},e.createElement(s,{name:this.props.name,className:t({"toggle-button":!0,checked:this.props.value}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),value:this.props.value,instanceId:this.props.name,onChange:this.props.onChange,disabled:this.props.disabled})))}}),define("baseUI/controls/toggleButton",["create-react-class","prop-types","lodash","baseUI/controls/toggleButton.rt"],function(e,t,s,i){"use strict";return e({displayName:"toggleButton",propTypes:{name:t.string},render:i})}),define("baseUI/controls/dock.rt",["react","lodash","baseUI/controls/infoIcon"],function(s,i,e){"use strict";return function(){return s.createElement("div",{className:"control-dock",onMouseLeave:this.props.onMouseLeave},this.hasLabel()&&(this.props.infoText||this.props.infoText)?s.createElement(e,{key:"tooltip",title:this.props.infoTitle,text:this.props.infoText,size:18}):null,s.createElement("label",{className:"dock-label"},this.getLabel()),s.createElement.apply(this,["div",{className:"dock-corners-wrapper"},i.map(this.getDockValues(),function(e,t){return s.createElement("label",{key:e.direction,className:i(this.getClasses(e.direction)).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onMouseEnter:this.onDockMouseEnter.bind(null,e.direction),onMouseLeave:this.props.onMouseLeave},s.createElement("input",{type:"radio",name:this.getRadioGroupId(),onChange:this.onDockChange.bind(null,e.direction),checked:this.props.value===e.direction,value:e.direction}),s.createElement("span",{className:"square "+e.className}))}.bind(this)),s.createElement("div",{className:"dashed horizontal"}),s.createElement("div",{className:"dashed vertical"})]))}}),define("baseUI/controls/dock",["create-react-class","prop-types","lodash","util","baseUI/controls/dock.rt","baseUI/controls/radioButtonsMixin"],function(e,t,s,i,n,o){"use strict";return e({displayName:"dock",propTypes:{value:t.oneOf(s.values(["TOP_LEFT","TOP","TOP_RIGHT","LEFT","MIDDLE","RIGHT","BOTTOM_LEFT","BOTTOM","BOTTOM_RIGHT"])),disabledValues:t.arrayOf(t.oneOf(["MIDDLE"]))},mixins:[o],onDockMouseEnter:function(e){s.isFunction(this.props.onPreviewHover)&&this.props.onPreviewHover(e)},onDockChange:function(e){i.valueLink.callOnChangeIfExists(this.props,e)},getClasses:function(e){return{disabled:function(e){return this.props.disabledValues&&s.includes(this.props.disabledValues,e)}.call(this,e)}},getDockValues:function(){return[{className:"top left",direction:"TOP_LEFT"},{className:"top",direction:"TOP"},{className:"top right",direction:"TOP_RIGHT"},{className:"left",direction:"LEFT"},{className:"middle",direction:"MIDDLE"},{className:"right",direction:"RIGHT"},{className:"bottom left",direction:"BOTTOM_LEFT"},{className:"bottom",direction:"BOTTOM"},{className:"bottom right",direction:"BOTTOM_RIGHT"}]},render:n})}),define("baseUI/panelInputs/accordion.rt",["react","lodash","baseUILib","santa-editor-symbols","baseUI/controls/infoIcon"],function(e,t,s,i,n){"use strict";return function(){return e.createElement("div",{className:"control-accordion"},this.props.useDividers?e.createElement(s.Divider,{long:!0,key:"divider"}):null,e.createElement("div",{className:"accordion-header","data-aid":this.props.automationId,onClick:this.toggle},e.createElement("span",{className:t({"accordion-icon":!0,open:this.state.opened}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement(i.symbol,{name:this.getAccordionIcon()})),e.createElement("label",{className:"control-label"},this.translateIfNeeded(this.getLabel())),this.props.isOptionSelected?e.createElement("span",{key:"selectedIndicator",className:"selected-indicator"},e.createElement(i.symbol,{name:this.props.selectedIndicatorIcon})):null,this.props.infoText||this.props.infoTitle?e.createElement(n,{key:"accordionInfoIcon",title:this.props.infoTitle,text:this.props.infoText}):null),this.props.useDividers&&this.state.opened?e.createElement(s.Divider,{long:!1,key:"stateOpened"}):null,this.state.opened?e.createElement("div",{ref:"accordionContent",key:"accordionContent",className:"content"},this.props.children):null)}}),define("baseUI/panelInputs/accordion",["create-react-class","prop-types","lodash","util","baseUI/mixins/reportUIChangeMixin","baseUI/panelInputs/accordion.rt"],function(e,t,s,i,n,o){"use strict";return e({displayName:"accordion",mixins:[i.translationMixin,n],propTypes:{label:t.string,isOptionSelected:t.bool,infoText:t.string,infoTitle:t.string,selectedIndicatorIcon:t.string,useDividers:t.bool,onExpand:t.func,onToggle:t.func,useNewSymbol:t.bool,openedOnInit:t.bool},contextTypes:{reportUIChange:t.func},getInitialState:function(){return{opened:this.props.openedOnInit}},getAccordionIcon:function(){return this.props.useNewSymbol?this.state.opened?"newAccordionOpen":"newAccordionClose":this.state.opened?"accordionOpen":"accordionClose"},getLabel:function(){return void 0!==this.props.label?this.props.label:""},toggle:function(){var e=this,t=this.state.opened?"close":"open";this.setState({opened:!this.state.opened},function(){"open"===t&&e.props.onExpand&&e.props.onExpand()}),this.props.onToggle&&this.props.onToggle("open"===t),this.reportUIChange({state:t})},componentWillReceiveProps:function(e){this.setState({opened:e.openedOnInit})},render:o})}),define("baseUI/controls/splitter/splitterPane.rt",["react","lodash"],function(i,n){"use strict";return function(){return i.createElement("div",(e={"data-aid":this.props.automationId,className:this.getClass(),style:this.getStyle()},t=this.filteredProps(),s=n.assign({},e,t),e.hasOwnProperty("style")&&(s.style=n.defaults(s.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(s.className=t.className+" "+e.className),s),this.props.children);var e,t,s}}),define("baseUI/controls/splitter/splitterPane",["create-react-class","prop-types","lodash","util","baseUI/controls/splitter/splitterPane.rt"],function(e,t,s,i,n){"use strict";var o="vertical",a="horizontal";return e({displayName:"SplitterPane",mixins:[i.propTypesFilterMixin],propTypes:{layout:t.oneOf([o,a]).isRequired,size:t.string,minSize:t.string,maxSize:t.string,disableEvents:t.bool,collapsed:t.bool,automationId:t.string},getDefaultProps:function(){return{layout:o}},getClass:function(){var e=s.isEmpty(this.props.size)?"splitter-pane-auto-size":null;return s.compact(["splitter-pane","splitter-pane-"+this.props.layout,this.props.className,e]).join(" ")},getStyle:function(){var e={position:"relative",display:this.props.collapsed?"none":""};return this.props.layout===a?s.assign(e,{height:this.props.size,width:"100%",minHeight:this.props.minSize,maxHeight:this.props.maxSize}):s.assign(e,{width:this.props.size,height:"100%",minWidth:this.props.minSize,maxWidth:this.props.maxSize}),s.isEmpty(this.props.size)&&(e.flex=1,e.WebkitFlex=1),this.props.style&&s.assign(e,this.props.style),s.pickBy(e)},render:n})}),define("baseUI/controls/splitter/splitterDivider.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:this.getClass(),onMouseDown:this.handleMouseDown})}}),define("baseUI/controls/splitter/splitterDivider",["reactDOM","create-react-class","prop-types","zepto","lodash","baseUI/controls/splitter/splitterDivider.rt"],function(t,e,s,i,n,o){"use strict";return e({displayName:"splitterDivider",propTypes:{layout:s.oneOf(["vertical","horizontal"]).isRequired,onClick:s.func,onDrag:s.func,onDragEnd:s.func},getClass:function(){return n.compact(["splitter-divider","splitter-divider-"+this.props.layout,this.props.className]).join(" ")},componentWillMount:function(){this.active=!1,this.dragging=!1},componentDidMount:function(){this.props.onDrag&&(i(window.document).on("mousemove",this.handleMouseMove),i(window.document).on("mouseup",this.handleMouseUp))},componentWillUnmount:function(){this.props.onDrag&&(i(window.document).off("mousemove",this.handleMouseMove),i(window.document).off("mouseup",this.handleMouseUp))},handleMouseDown:function(){this.active=!0},handleMouseUp:function(e){!this.dragging&&this.props.onClick&&e.target===t.findDOMNode(this)&&this.props.onClick(e),this.dragging&&this.props.onDragEnd&&this.props.onDragEnd(e),this.active=!1,this.dragging=!1},handleMouseMove:function(e){this.active&&(this.dragging=!0,this.props.onDrag&&this.props.onDrag(e))},render:o})}),define("baseUI/controls/splitter/splitter.rt",["react","lodash","baseUI/controls/splitter/splitterPane","baseUI/controls/splitter/splitterDivider"],function(t,s,i,n){"use strict";return function(){return function(){var e=this.getPaneProps();return t.createElement("div",{className:this.getClass(),style:this.getStyle()},t.createElement(i,e[0]),e[1]?t.createElement(n,s.assign({},{key:"splitter-divider"},this.getDividerProps())):null,e[1]?t.createElement(i,s.assign({},{key:"splitter-pane-1"},e[1])):null)}.apply(this,[])}}),define("baseUI/controls/splitter/splitter",["reactDOM","react","create-react-class","prop-types","lodash","baseUI/controls/splitter/splitter.rt","baseUI/controls/splitter/splitterPane"],function(n,i,e,t,o,s,a){"use strict";var r=e({displayName:"splitter",propTypes:{layout:t.oneOf(["vertical","horizontal"]),splitPosition:t.string,onResize:t.func,statefulResize:t.bool,onDividerClick:t.func,onDragStarted:t.func,children:function(e,t){var s=o.compact(e[t]);return 1!==s.length&&2!==s.length?new Error('Wrong number of children. Only one or two "Pane" objects are allowed'):o.every(s,i.isValidElement)?void 0:new Error('Only "SplitterPane" is allowed as a child')}},getDefaultProps:function(){return{layout:"horizontal",splitPosition:"50%",statefulResize:!1}},getInitialState:function(){return{dragging:!1,draggingPosition:null}},getClass:function(){return["splitter","splitter-"+this.props.layout,this.props.className].join(" ")},getStyle:function(){return o.defaults({display:"flex",flexDirection:"horizontal"===this.props.layout?"column":"row",WebkitFlexDirection:"horizontal"===this.props.layout?"column":"row"},this.props.style)},getPaneSizes:function(){return this.props.children[0]&&this.props.children[1]?[this.state.dragging?this.state.draggingPosition:this.props.splitPosition,null]:[null,null]},getPaneProps:function(){var e=this.props.children,s=this.getPaneSizes(this.state);return o(e).map(o.bind(function(e,t){return e&&o.assign({},e.props,{layout:this.props.layout,size:s[t],key:e.key||t,style:{pointerEvents:this.state.dragging?"none":""}})},this)).compact().value()},getRelativeMousePosition:function(e){var t=n.findDOMNode(this).getBoundingClientRect(),s="horizontal"===this.props.layout?t.height:t.width,i="horizontal"===this.props.layout?e.clientY-t.top:e.clientX-t.left;return{firstPanePercent:(100*i/s).toPrecision(4)+"%",relativePosition:i,splitterSize:s}},handleDividerDrag:function(e){var t=this.getRelativeMousePosition(e);this.props.statefulResize?this.setState({dragging:!0,draggingPosition:t.firstPanePercent}):this.props.onResize&&this.props.onResize(t.firstPanePercent,t.relativePosition,t.splitterSize)},handleDividerDragEnd:function(e){var t=this.getRelativeMousePosition(e);this.props.statefulResize&&this.setState({dragging:!1,draggingPosition:t.firstPanePercent}),this.props.onResize&&this.props.onResize(t.firstPanePercent,t.relativePosition,t.splitterSize)},getDividerProps:function(){return{layout:this.props.layout,onClick:this.props.onDividerClick,onDrag:this.handleDividerDrag,onDragEnd:this.props.statefulResize?this.handleDividerDragEnd:null}},render:s});return r.Pane=a,r}),define("baseUI/controls/imageWithMask.rt",["react","lodash","util"],function(n,o,a){"use strict";return function(){return function(){var e,t,s,i=this.getImageProps();return n.createElement("div",{className:a.inheritClassName(this.props),style:this.getContainerStyle(i.css.container)},"img"===this.imageHtmlTag?n.createElement("img",{key:"image_type_img",src:i.uri,style:this.getImageStyle(i.css.img),onLoad:this.props.onLoad}):null,this.effectName&&"img"===this.imageHtmlTag?n.createElement("svg",{key:"svg_type_img",version:"1.1",style:this.getSvgStyle()},n.createElement("defs",{dangerouslySetInnerHTML:{__html:this.getFilterDefinition()}})):null,"svg"===this.imageHtmlTag?n.createElement("svg",(e={key:"svg_with_mask_type_image",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:this.getLegacySvgStyle(i)},t=i.attr.container,s=o.assign({},e,t),e.hasOwnProperty("style")&&(s.style=o.defaults(s.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(s.className=t.className+" "+e.className),s),n.createElement("defs",{key:this.getLegacyKey(i),dangerouslySetInnerHTML:{__html:this.getSvgDefsInnerHtml()}}),this.props.crop&&this.props.crop.maskContour?n.createElement("use",o.assign({},{key:"maskUse"},this.getMaskContour())):null,n.createElement("image",this.getMaskedImageProps(i))):null)}.apply(this,[])}}),define("baseUI/controls/imageWithMask",["create-react-class","prop-types","lodash","util","coreUtilsLib","baseUI/controls/imageWithMask.rt"],function(e,t,s,l,i,n){"use strict";var o=function(){var e="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent;if(e){var t=i.browserDetection(e).browser;return!(t.ie||t.edge)}return!0}();return e({displayName:"Image",propTypes:{imageData:t.object.isRequired,imageWidth:t.number.isRequired,imageHeight:t.number.isRequired,fittingType:t.string,crop:t.object,updateStyleOnly:t.bool,onLoad:t.func,isClip:t.bool,imageUrl:t.string},getSvgStyle:function(){return{width:this.props.imageWidth,height:this.props.imageHeight,left:0,top:0,overflow:"hidden",position:"absolute"}},filterId:"",effectName:"",imageHtmlTag:"img",getInitialState:function(){var e=s.get(this.props.imageData,"effectName","none");return"none"!==e&&(this.effectName=e,this.filterId="filter_"+s.uniqueId(),o||(this.imageHtmlTag="svg")),this.imageUrl="",{}},setImageHtmlTag:function(){var e=this.props.crop,t=e&&(e.svgId||e.svgStr);this.effectName||t?(t?this.maskId=this.maskId||"mask_"+s.uniqueId():this.maskId&&(this.maskId=null),(this.effectName||t)&&(this.imageHtmlTag="svg")):(this.imageHtmlTag="img",this.maskId&&(this.maskId=null))},getContainerStyle:function(e){return s.assign({},this.props.style||{},e)},getImageStyle:function(e){return this.effectName?s.assign({WebkitFilter:this.filterId?"url(#"+this.filterId+")":"",filter:this.filterId?"url(#"+this.filterId+")":""},e):e},getImageProps:function(){this.setImageHtmlTag();var e=void 0;e=this.props.imageUrl?s.assign({},this.props.imageData,{uri:this.props.imageUrl}):this.props.imageData;var t=l.imageTransform.getFromImageData(e,this.props.imageWidth,this.props.imageHeight,this.props.fittingType||l.imageTransform.fittingTypes.SCALE_TO_FILL,l.imageTransform.alignTypes.CENTER,this.imageHtmlTag);return this.props.updateStyleOnly&&this.imageUrl?t.uri=this.imageUrl:this.imageUrl=t.uri,t},getFilterDefinition:function(){return this.filterId?l.imageEffects.getFilter(this.filterId,this.effectName,{staticMediaUrl:l.serviceTopology.staticMediaUrl}):""},getMaskDefinition:function(){var e=this.props.crop;if(e){var t=e.svgStr,s=e.svgDomId,i=e.width,n=e.height,o=e.x,a=e.y;i||(n=i="100%",a=o=0);var r=function(e){var t=e.width,s=e.height,i=2*e.x+t,n=2*e.y+s,o=void 0,a=void 0;switch(e.flip){case"x":o="1 -1",a="0 -"+n;break;case"y":o="-1 1",a="-"+i+" 0";break;case"xy":o="-1 -1",a="-"+i+" -"+n;break;default:o="1 1",a="0 0"}return"scale("+o+") translate("+a+")"}(e);return l.imageEffects.getMask(this.maskId,s,t,{width:i,height:n,x:o,y:a,transform:r},this.props.isClip)}return""},getLegacySvgStyle:function(e){return s.assign({width:Math.round(this.props.imageWidth),height:Math.round(this.props.imageHeight)},e.css.container)},getMaskedImageProps:function(e){var t=e.attr.img,s=t.x,i=t.y,n=t.width,o=t.height,a=t.transform,r=t.preserveAspectRatio,l={xlinkHref:e.uri,x:s,y:i,width:n,height:o,transform:a,preserveAspectRatio:r};return this.filterId&&(l.filter="url(#"+this.filterId+")"),this.maskId&&(l.mask="url(#"+this.maskId+")"),l},getMaskContour:function(){var e=this.props.crop,t=e.svgDomId,s=e.maskContour,i=e.width,n=e.height,o=e.x,a=e.y,r=s.width;return{xlinkHref:"#"+t,x:o,y:a,width:i,height:n,stroke:s.color,strokeWidth:r}},getSvgDefsInnerHtml:function(){return""+this.getFilterDefinition()+this.getMaskDefinition()},getLegacyKey:function(e){var t=this.props.crop,s=t?"_"+t.x+"_"+t.y+"_"+t.width+"_"+t.height+(t.flip?"_"+t.flip:"")+(t.svgId?"_"+t.svgId:""):"";return"svg_type_svg"+e.attr.img.width*e.attr.img.height+s},render:n})}),define("baseUI/panelInputs/checkableTextInput.rt",["react","lodash","baseUI/controls/toggle","baseUI/panelInputs/textInput","baseUILib"],function(e,t,s,i,n){"use strict";return function(){return this.hasNeededExperiment()?e.createElement("div",{className:"control-checkable-text-input",key:"checkable-text-input-key"},e.createElement("div",{className:"checkable-text-input"},e.createElement(n.Checkbox,{valueLink:this.props.checkStateValueLink}),e.createElement(i,{disabled:!this.props.checkStateValueLink.value||"true"===this.props.shouldDisableTextEditing,placeholder:this.props.placeholderText,valueLink:this.props.textValueLink}))):null}}),define("baseUI/panelInputs/checkableTextInput",["baseUI/panelInputs/checkableTextInput.rt","create-react-class","prop-types","experiment"],function(e,t,s,i){"use strict";return t({displayName:"checkableTextInput",propTypes:{checkStateValueLink:s.shape({requestChange:s.func.isRequired,value:s.bool.isRequired}).isRequired,placeholderText:s.string,experimentNeeded:s.string,textValueLink:s.shape({requestChange:s.func.isRequired,value:s.string.isRequired}).isRequired},hasNeededExperiment:function(){return void 0===this.props.experimentNeeded||i.isOpen(this.props.experimentNeeded)},render:e})}),define("baseUI/panelInputs/labeledStepper.rt",["react","lodash","baseUI/panelInputs/stepper","util"],function(e,t,s,o){"use strict";return function(){var n=this;return e.createElement("div",{className:"control-numeric-input",onClick:this.handleContainerClick},e.createElement("label",{className:"label",ref:"label"},"\n      ",this.props.label||"​"," "),e.createElement(s,{value:o.valueLink.getValueFromProps(this.props),min:this.props.min,max:this.props.max,step:this.props.step,onChange:function(){for(var e,t=arguments.length,s=Array(t),i=0;i<t;i++)s[i]=arguments[i];return(e=o.valueLink).callOnChangeIfExists.apply(e,[n.props].concat(s))}}))}}),define("baseUI/panelInputs/labeledStepper",["lodash","create-react-class","baseUI/panelInputs/inputMixin","baseUI/panelInputs/labeledStepper.rt"],function(e,t,s,i){"use strict";return t({displayName:"labeledStepper",mixins:[s],getInputWrapperClasses:function(){return{"input-stepper":!0}},render:i})}),define("baseUI/utils/SecondaryImageComponent.rt",["react","lodash","baseUILib","baseUI/controls/image","util","santa-editor-symbols"],function(s,i,n,o,e,a){"use strict";return function(e,t){return s.createElement(n.Composites.SecondaryMediaLabeled,{},i.isEmpty(e.infoText)?null:s.createElement(n.InfoIcon,{key:"SecondaryMediaLabeledInfoIcon",shouldTranslate:e.shouldTranslate,text:e.infoText}),s.createElement(n.TextLabel,{value:e.displayName,shouldTranslate:e.shouldTranslate}),s.createElement(n.SecondaryMediaImage,{onClick:e.onImageClick,automationId:e.automationId},e.imageData.uri?s.createElement(o,{key:e.imageData.uri,imageData:e.imageData,imageWidth:e.imageWidth,imageHeight:e.imageHeight}):null),s.createElement(n.Tooltip,{content:e.uploadButtonLabel},s.createElement(n.Button,{automationId:"change-image-btn",onClick:e.onButtonClick},s.createElement(a.symbol,{name:e.symbolName}))),s.createElement(n.Tooltip,{content:"AppStudio_WidgetAPI_Image_DefaultImage_Delete_Tooltip"},e.imageData.uri?s.createElement(n.Button,{onClick:e.onRemoveClick,key:e.imageData.uri},s.createElement(a.symbol,{name:"deleteImage"})):null))}}),define("baseUI/utils/generateUICompBySchema",["lodash","react","util","platformUtils","baseUI/utils/SecondaryImageComponent.rt","baseUILib"],function(q,G,z,Y,j,K){"use strict";var X={string:{composite:K.Composites.TextInputLabeled,component:K.TextInput,hasLabel:!0,hasToolTip:!0,supportedProps:["placeholder","allowInvalidChange","validator","invalidMessage","validateInitialValue","maxLength"]},number:{composite:K.Composites.TextInputLabeled,component:K.NumericInput,hasLabel:!0,hasToolTip:!0,supportedProps:["min","max","step"]},bool:{composite:K.Composites.ToggleSwitch,component:K.ToggleSwitch,hasLabel:!1,hasToolTip:!1,supportedProps:["label"]},url:{composite:K.Composites.TextInputLabeled,component:K.TextInput,hasLabel:!0,hasToolTip:!0,validator:function(e){return q.isEmpty(e)||z.validate.url(e)},invalidMessage:"AppStudio_WidgetAPI_URL_DefaultURL_Error",supportedProps:["placeholder","allowInvalidChange","validateInitialValue"]},radio:{composite:K.Composites.RadioButtonsLabeled,component:K.RadioButtons,hasLabel:!0,hasToolTip:!0,supportedProps:["label","options"]},image:{composite:K.Composites.SecondaryMediaLabeled,component:K.SECONDARY_MEDIA_IMAGE,hasLabel:!1,hasToolTip:!0,supportedProps:["infoText","uploadImage","changeImage"]},dateTime:{composite:K.Composites.TextInputLabeled,component:K.TextInput,hasLabel:!0,hasToolTip:!0,validator:function(e){return q.isEmpty(e)||!isNaN(new Date(e).getDate())},invalidMessage:"AppStudio_WidgetAPI_URL_DefaultDate_Error",supportedProps:["placeholder","allowInvalidChange","validateInitialValue"]}};X.text=X.string;return function(e,t,s,i){var n,o,a,r,l,p,c,u,h,d,m,g,f,b,v,y,I,E,T,C,N,S,x,k=e.name,U=e.type,L=e.propType,M=e.displayName,P=e.shouldTranslate,w=e.defaultValue,D=e.automationId,O=e.validations,_=e.info,B=e.reactKey,V=e.validateInitialValue,A=X[L].validator?X[L]:e,R=A.validator,F=A.invalidMessage,W=(n=q(e).defaults(O)).pick.apply(n,_toConsumableArray(X[L].supportedProps)).assign({value:(o=q.isUndefined(t)?w:t,a=U,"bool"===a?!("false"===o||!o):o),onChange:function(e){return s(k,e)},shouldTranslate:P||!1,automationId:D,key:B||k,allowInvalidChange:!0},R?{validator:R,invalidMessage:F,validateInitialValue:V}:{}).value();if("image"===L){if(!q.get(i,"openMediaManager"))throw new Error("`openMediaManager` prop must be provided to image input");return r=e,l=t,p=s,c=W,u=i.openMediaManager,h=r.name,d=r.displayName,m=r.shouldTranslate,g=void 0!==m&&m,f=r.description,b=c.infoText,v=c.uploadImage,y=void 0===v?"upload-btn":v,I=c.changeImage,E=void 0===I?"image-change":I,T=c.automationId,C=function(e){var t=q.head(e),s=q.assign({type:Y.mediaItemUtils.types.IMAGE,mediaId:t.uri},q.pick(t,["title","width","height"])),i=Y.mediaSrcHandler.createMediaSrc(s);p(h,i.item)},N=l?E:y,S=l?"AppStudio_WidgetAPI_Image_DefaultImage_Change_Tooltip":"AppStudio_WidgetAPI_Image_DefaultImage_Upload_Tooltip",x=l&&Y.mediaItemUtils.parseMediaItemUri(l),G.createElement(j,{infoText:f||b,displayName:d||h,shouldTranslate:g,key:h,onImageClick:x?q.noop:function(){return u(C)},onRemoveClick:function(){return p(h,"")},imageData:{uri:x.mediaId,width:x.width,height:x.height},fittingType:z.imageTransform.fittingTypes.SCALE_TO_FILL,imageHeight:84,imageWidth:156,automationId:T,onButtonClick:function(){return u(C)},symbolName:N,uploadButtonLabel:S})}var H=q.compact([!q.isEmpty(_)&&X[L].hasToolTip?G.createElement(K.InfoIcon,{text:_,shouldTranslate:!1,key:k+"_info"}):null,X[L].hasLabel?function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return G.createElement(K.TextLabel,{value:e,shouldTranslate:t,key:e+"_label"})}(M||k,P):null,G.createElement(X[L].component,W)]);return G.createElement(X[L].composite,{key:B||k},H)}}),define("baseUI/utils/propertySchemaValidationUtils",["lodash","util"],function(a,i){"use strict";var t=function(t){return function(e){return a.size(e)<=a.get(t,"maxLength",Number.MAX_SAFE_INTEGER)&&a.size(e)>=a.get(t,"minLength",-1)}},s=function(t){return function(e){return/^-?\d+\.?\d*$/.test(e)&&e>=a.get(t,"minimum",Number.MIN_SAFE_INTEGER)&&e<=a.get(t,"maximum",Number.MAX_SAFE_INTEGER)}},n=function(){return function(e){return a.isEmpty(e)||i.validate.url(e)}},o=function(){return function(e){return a.isEmpty(e)||!isNaN(new Date(e).getDate())}},r=function(e){switch(e.$id){case"text":return t(e);case"number":return s(e);case"dateTime":return o();case"url":return n()}},l=function(e){var t=a.has(e,"minLength"),s=a.has(e,"maxLength");return t&&s?i.translationUtil.translateTemplate("AppStudio_propertyPanel_textLength_minMaxRange_validator",{min:e.minLength,max:e.maxLength}):t?i.translationUtil.translateTemplate("AppStudio_propertyPanel_textLength_minValue_validator",{min:e.minLength}):s?i.translationUtil.translateTemplate("AppStudio_propertyPanel_textLength_maxValue_validator",{max:e.maxLength}):i.translate("AppStudio_propertyPanel_textLength_validator")},p=function(e){var t=a.has(e,"minimum"),s=a.has(e,"maximum");return t&&s?i.translationUtil.translateTemplate("AppStudio_propertyPanel_minMax_validator",{min:e.minimum,max:e.maximum}):t?i.translationUtil.translateTemplate("AppStudio_propertyPanel_valueMin_validator",{min:e.minimum}):s?i.translationUtil.translateTemplate("AppStudio_propertyPanel_valueMax_validator",{max:e.maximum}):i.translate("AppStudio_propertyPanel_numberValid_validator")},c=function(){return i.translate("AppStudio_WidgetAPI_URL_DefaultURL_Error")},u=function(){return i.translate("AppStudio_WidgetAPI_URL_DefaultDate_Error")},h=function t(s,e,i){if("object"===s.type){var n=i(s.properties);return d(n,e,i)}if("array"===s.type)return a.every(e,function(e){return t(s.items,e,i)});var o=r(s);return!o||o(e)},d=function(t,s,i){return a.every(a.keys(t),function(e){return h(t[e],s[e],i)})};return{getTextValidatorByProp:t,getNumberValidatorByProp:s,getUrlValidator:n,getDateTimeValidator:o,getValidatorByProp:r,getTextInvalidMessageByProp:l,getNumberInvalidMessageByProp:p,getUrlInvalidMessage:c,getDateTimeInvalidMessage:u,getInvalidMessageByProp:function(e){switch(e.$id){case"text":return l(e);case"number":return p(e);case"dateTime":return u();case"url":return c()}},validateByProperty:h}}),define("baseUI/utils/generateUICompByPropertySchema",["lodash","react","util","platformUtils","baseUI/utils/SecondaryImageComponent.rt","baseUILib","constants","santa-editor-symbols","wix-json-schema-utils","baseUI/utils/propertySchemaValidationUtils"],function(H,q,G,z,Y,j,e,t,K,s){"use strict";var i,X=e.APP_STUDIO.PROP_TYPES,Q=(_defineProperty(i={},X.TEXT,function(e){return{composite:j.Composites.TextInputLabeled,component:j.TextInput,placeholder:G.translate("AppStudio_WidgetAPI_Preview_Value_Placeholder_Text"),validator:s.getTextValidatorByProp(e),invalidMessage:s.getTextInvalidMessageByProp(e),minLength:0,maxLength:Number.MAX_SAFE_INTEGER,supportedProps:["placeholder","maxLength","minLength","validator","allowInvalidChange","shouldTranslate","invalidMessage","validateInitialValue","automationId"]}}),_defineProperty(i,X.NUMBER,function(e){return{composite:j.Composites.TextInputLabeled,component:j.NumericInput,placeholder:G.translate("AppStudio_CustomType_DefaultValues_Number_Placeholder"),validator:s.getNumberValidatorByProp(e),invalidMessage:s.getNumberInvalidMessageByProp(e),min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,step:H.has(e,"multipleOf")?e.multipleOf:1,supportedProps:["placeholder","min","max","step","validator","allowInvalidChange","shouldTranslate","invalidMessage","validateInitialValue","automationId"]}}),_defineProperty(i,X.BOOLEAN,function(e,t,s){return{composite:j.Composites.ToggleSwitch,component:j.ToggleSwitch,hasLabel:!1,hasToolTip:!1,label:s.title||e.title,supportedProps:["label","automationId","shouldTranslate"]}}),_defineProperty(i,X.URL,function(){return{composite:j.Composites.TextInputLabeled,component:j.TextInput,placeholder:G.translate("AppStudio_WidgetAPI_URL_DefaultURL_Placeholder"),allowInvalidChange:!0,validator:s.getUrlValidator(),invalidMessage:s.getUrlInvalidMessage(),supportedProps:["placeholder","validator","shouldTranslate","invalidMessage","allowInvalidChange","validateInitialValue","automationId"]}}),_defineProperty(i,X.IMAGE,function(){return{composite:j.Composites.SecondaryMediaLabeled,component:j.SECONDARY_MEDIA_IMAGE,changeImage:"image-change",uploadImage:"upload-btn",supportedProps:["uploadImage","changeImage","automationId"]}}),_defineProperty(i,X.DATE_TIME,function(){return{composite:j.Composites.TextInputLabeled,component:j.TextInput,placeholder:G.translate("AppStudio_CustomType_DefaultValues_Date_Placeholder"),allowInvalidChange:!0,validator:s.getDateTimeValidator(),invalidMessage:s.getDateTimeInvalidMessage(),supportedProps:["placeholder","validator","shouldTranslate","invalidMessage","allowInvalidChange","validateInitialValue","automationId"]}}),_defineProperty(i,X.OBJECT,function(e,t,s){return{composite:j.Composites.ActionWithSymbolLabeled,component:j.ActionWithSymbol,children:q.createElement(j.TextLabel,{value:s.actionLabel||H.isEmpty(t)?G.translate("AppStudio_EditProperty_CustomType_AddValues_Link"):""+G.translate(1===H.size(t)?"AppStudio_EditProperty_CustomType_EditValue_Link":"AppStudio_EditProperty_CustomType_EditValues_Link"),shouldTranslate:!1}),symbol:n("smallPencilLight"),supportedProps:["automationId","symbol","action"]}}),_defineProperty(i,X.ARRAY,function(e,t,s){return{composite:j.Composites.ActionWithSymbolLabeled,component:j.ActionWithSymbol,children:q.createElement(j.TextLabel,{value:s.actionLabel||H.isEmpty(t)?G.translate("AppStudio_EditProperty_AddItems_Link"):H.size(t)+" "+G.translate(1===H.size(t)?"AppStudio_EditProperty_EditItem_Link":"AppStudio_EditProperty_EditItems_Link"),shouldTranslate:!1}),symbol:n("smallPencilLight"),supportedProps:["automationId","symbol","action"]}}),i),$={automationId:"property-input",validateInitialValue:!0,shouldTranslate:!1,allowInvalidChange:!0,hasLabel:!0,hasToolTip:!0,children:null,validations:{}},n=function(e){return q.createElement(t.symbol,{name:e})};return function(e,t,s){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},n=K.createDriver({});n.set.resolvedSchema(e);var o,a,r,l,p,c,u,h,d,m=n.get.name(),g=n.get.resolvedData(),f=H.isUndefined(t)?n.get.default():t,b=(o=g,a=H.get(o,["$ref"],""),Q[a]?a:o.type),v=(r=m,l=g,p=H.pick(l,["maxLength","minLength","maximum","minimum","multipleOf"]),""+r+H.values(p).join("")),y=H.assign(i,{title:i.title||n.get.title()||m}),I=(u=g,h=f,d=y,Q[c=b]?H.assign({},$,Q[c](u,h,d),d):null);if(!I)return null;var E,T,C,N,S,x,k,U,L,M,P,w,D,O,_,B,V,A,R,F=H.assign(H.pick.apply(H,[I].concat(_toConsumableArray(I.supportedProps))),I.validations,{value:f,onChange:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return s(m,e,t)},key:v+"_component"});if(b===X.IMAGE){if(!i.openMediaManager)throw new Error("`openMediaManager` prop must be provided to image input");return E=n,T=f,C=s,N=F,x=(S=y).openMediaManager,k=S.title,U=N.infoText,L=N.shouldTranslate,M=void 0!==L&&L,P=N.uploadImage,w=void 0===P?"upload-btn":P,D=N.changeImage,O=void 0===D?"image-change":D,_=N.automationId,B=function(e){if(e){var t=H.head(e),s=H.assign({type:z.mediaItemUtils.types.IMAGE,mediaId:t.uri},H.pick(t,["title","width","height"])),i=z.mediaSrcHandler.createMediaSrc(s);C(E.get.name(),i.item,!0)}},V=T?O:w,A=T?"AppStudio_WidgetAPI_Image_DefaultImage_Change_Tooltip":"AppStudio_WidgetAPI_Image_DefaultImage_Upload_Tooltip",R=T&&z.mediaItemUtils.parseMediaItemUri(T),q.createElement(Y,{infoText:E.get.description()||U,displayName:k||E.get.title()||E.get.name(),shouldTranslate:M,key:E.get.name()+"_image",onImageClick:R?H.noop:function(){return x(B)},onRemoveClick:function(){return C(E.get.name(),"")},imageData:{uri:R.mediaId,width:R.width,height:R.height},fittingType:G.imageTransform.fittingTypes.SCALE_TO_FILL,imageHeight:84,imageWidth:156,automationId:_,onButtonClick:function(){return x(B)},symbolName:V,uploadButtonLabel:A})}var W=H.compact([!H.isEmpty(n.get.description())&&I.hasToolTip?q.createElement(j.InfoIcon,{text:n.get.description(),shouldTranslate:!1,key:m+"_info"}):null,I.hasLabel?function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return q.createElement(j.TextLabel,{value:e,shouldTranslate:t,key:e+"_label"})}(y.title,I.shouldTranslate):null,q.createElement(I.component,F,I.children)]);return q.createElement(I.composite,{key:v+"_composite"},W)}}),define("baseUI/utils/generateSeparatorBetweenComponents",["lodash","react","baseUILib"],function(t,s,i){"use strict";return function(e){return t(e).zip(t.times(e.length-1,function(e){return s.createElement(i.Divider,{key:"divider"+e,long:!1})})).flatten().slice(0,-1).value()}}),define("baseUI",["baseUI/panelInputs/inputMixin","baseUI/panelInputs/registerDocumentEventsMixin","baseUI/mixins/classNameMixin","baseUI/mixins/reportUIChangeMixin","baseUI/controls/radioButtonsMixin","baseUI/commonData/commonData","baseUI/sortByDragList/sortByDragList","santa-editor-symbols","baseUI/panelInputs/autoCompleteTextInput","baseUI/panelInputs/textInput","baseUI/panelInputs/domainInput","baseUI/panelInputs/domainInputWithEditButtons","baseUI/panelInputs/proportionsSlider","baseUI/panelInputs/radioGroup","baseUI/panelInputs/radioList","baseUI/panelInputs/buttonGroup","baseUI/panelInputs/changeMediaInput","baseUI/panelInputs/thumbnailSlider","baseUI/panelInputs/labelWithCircleButton","baseUI/panelInputs/media/wixStaticMediaMixin","baseUI/popovers/tooltip","baseUI/popovers/tooltip","baseUI/popovers/tooltipManager","baseUI/popovers/tooltipsRenderer","baseUI/popovers/floatingBubble","baseUI/popovers/bubble","baseUI/popovers/templates/popoverTemplates","baseUI/panelInputs/richTextParagraph","baseUI/panelInputs/slider","baseUI/panelInputs/stepper","baseUI/panelInputs/stepperWithSVG","baseUI/panelInputs/prefixedTextInput","baseUI/controls/button","baseUI/controls/button2","baseUI/controls/fileInput","baseUI/controls/filesDrop","baseUI/controls/sectionDividerLabeledC06","baseUI/panelInputs/dropDown/select","baseUI/panelInputs/dropDown/contextMenu","baseUI/panelInputs/dropDown/combobox","baseUI/panelInputs/dropDown/options","baseUI/panelInputs/dropDown/option","baseUI/panelInputs/dropDown/optgroup","baseUI/panelInputs/dropDown/footer","baseUI/panelInputs/dropDown/dropdownManager","baseUI/panelInputs/dropDown/iconsMenu","baseUI/panelInputs/selectiveTextInputWithMandatoryButton","baseUI/panelInputs/textInputWithButton","baseUI/panelInputs/textInputWithFixedButton","baseUI/panelInputs/checkboxWithButton","baseUI/panelInputs/actionWithSymbol","baseUI/tabs/tabHolder","baseUI/tabs/tabHeader","baseUI/tabs/tabContent","baseUI/tabs/tabLabel","baseUI/tabs/tabShowMoreLabel","baseUI/tabs/tab","baseUI/controls/angle","baseUI/treeView/treeDocker","baseUI/treeView/treeView","baseUI/controls/datePicker","baseUI/controls/thumbnails","baseUI/controls/thumbnailsWithIcons","baseUI/controls/thumbnailsVertical","baseUI/controls/mandatory","baseUI/controls/buttonsGroup","baseUI/controls/horizontalTabs","baseUI/controls/linkToggle","baseUI/controls/infoIcon","baseUI/controls/verticalTabs","baseUI/controls/cornerRadiusInput","baseUI/controls/alignment","baseUI/controls/textAlignment","baseUI/panelInputs/colorScheme","baseUI/controls/playButton","baseUI/controls/thumbnailPreviewPlay","baseUI/panelInputs/media/imagePreview","baseUI/panelInputs/media/organizeImagesInput","baseUI/panelInputs/media/videoInput","baseUI/panelInputs/media/videoPreview","baseUI/panelInputs/media/videoSearch","baseUI/panelInputs/media/videoSelector","baseUI/panelInputs/media/videoTypeSelector","baseUI/panelInputs/media/videoUpload","baseUI/panelInputs/media/imageChange","baseUI/panelInputs/media/imageChangeRemove","baseUI/panelInputs/media/logoChange","baseUI/controls/listItemWithImage","baseUI/controls/listItemWithSymbol","baseUI/controls/arrowButton","baseUI/colorPicker/colorSpace","baseUI/colorPicker/colorFormat","baseUI/colorPicker/paletteDisplayer","baseUI/colorPicker/palettesList","baseUI/colorPicker/colorPickerInput","baseUI/colorPicker/colorPickerInputWithOpacity","baseUI/colorPicker/colorPickerInputWithOpacitySlider","baseUI/controls/iframe","baseUI/controls/preloader","baseUI/controls/video","baseUI/controls/toggle","baseUI/controls/toggleButton","baseUI/controls/dock","baseUI/panelInputs/accordion","baseUI/controls/splitter/splitter","baseUI/controls/image","baseUI/controls/imageWithMask","baseUI/controls/radioWithIcon","baseUI/panelInputs/checkableTextInput","baseUI/panelInputs/labeledStepper","baseUI/utils/generateUICompBySchema","baseUI/utils/generateUICompByPropertySchema","baseUI/utils/generateSeparatorBetweenComponents","baseUI/utils/propertySchemaValidationUtils"],function(e,t,s,i,n,o,a,r,l,p,c,u,h,d,m,g,f,b,v,y,I,E,T,C,N,S,x,k,U,L,M,P,w,D,O,_,B,V,A,R,F,W,H,q,G,z,Y,j,K,X,Q,$,J,Z,ee,te,se,ie,ne,oe,ae,re,le,pe,ce,ue,he,de,me,ge,fe,be,ve,ye,Ie,Ee,Te,Ce,Ne,Se,xe,ke,Ue,Le,Me,Pe,we,De,Oe,_e,Be,Ve,Ae,Re,Fe,We,He,qe,Ge,ze,Ye,je,Ke,Xe,Qe,$e,Je,Ze,et,tt,st,it,nt,ot){"use strict";return{inputMixin:e,registerDocumentEventsMixin:t,classNameMixin:s,radioButtonsMixin:n,commonData:o,sortByDragList:a,symbol:r.symbol,autoCompleteTextInput:l,textInput:p,domainInput:c,domainInputWithEditButtons:u,changeMediaInput:f,thumbnailSlider:b,labelWithCircleButton:v,popover:I,tooltip:E,tooltipManager:T,tooltipsRenderer:C,floatingBubble:N,bubble:S,popoverTemplates:x,richTextParagraph:k,imageChange:Me,imageChangeRemove:Pe,logoChange:we,slider:U,stepper:L,stepperWithSVG:M,prefixedTextInput:P,button:w,button2:D,fileInput:O,filesDrop:_,sectionDividerLabeled:B,dropDown:{select:V,contextMenu:A,combobox:R,options:F,option:W,optgroup:H,footer:q,dropDownManager:G,iconsMenu:z},selectiveTextInputWithMandatoryButton:Y,textInputWithButton:j,textInputWithFixedButton:K,textAlignment:ve,colorScheme:ye,checkboxWithButton:X,actionWithSymbol:Q,radioGroup:d,radioList:m,buttonGroup:g,tabs:{holder:$,header:J,content:Z,label:ee,showMoreLabel:te,tab:se},angle:ie,treeDocker:ne,treeView:oe,toggle:Ye,toggleButton:je,datePicker:ae,thumbnails:re,thumbnailsWithIcons:le,thumbnailsVertical:pe,mandatory:ce,buttonsGroup:ue,horizontalTabs:he,linkToggle:de,infoIcon:me,verticalTabs:ge,cornerRadiusInput:fe,alignment:be,playButton:Ie,thumbnailPreviewPlay:Ee,imagePreview:Te,organizeImagesInput:Ce,videoInput:Ne,videoPreview:Se,videoSearch:xe,videoSelector:ke,videoTypeSelector:Ue,videoUpload:Le,listItemWithImage:De,listItemWithSymbol:Oe,arrowButton:_e,colorSpace:Be,colorFormat:Ve,paletteDisplayer:Ae,palettesList:Re,colorPickerInput:Fe,colorPickerInputWithOpacity:We,colorPickerInputWithOpacitySlider:He,iframe:qe,preloader:Ge,video:ze,dock:Ke,accordion:Xe,reportUIChangeMixin:i,media:{wixStaticMediaMixin:y},splitter:Qe,image:$e,imageWithMask:Je,radioWithIcon:Ze,proportionsSlider:h,checkableTextInput:et,labeledStepper:tt,utils:{generateUICompBySchema:st,generateUICompByPropertySchema:it,generateSeparatorBetweenComponents:nt,propertySchemaValidationUtils:ot}}});
//# sourceMappingURL=baseUI.min.js.map