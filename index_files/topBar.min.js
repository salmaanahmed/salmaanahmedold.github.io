var _createClass=function(){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}define("topBar/topBarComponent/topBarMapper",["lodash","stateManagement","coreBi","util","constants","experiment"],function(d,_,n,T,m,P){"use strict";var b=_.editorPlugins.leftBar.selectors.getDeviceType,E=_.sectionedPanel.selectors.openDockedSections,g=_.savePublish.selectors,S=_.externalLinks.selectors.getOverriddenExternalLinks,e=function(o,a){return function(){for(var e=arguments.length,i=Array(e),t=0;t<e;t++)i[t]=arguments[t];return o(function(e,t,o){var n=o.editorAPI;return a.apply(void 0,[n].concat(i))})}};return{mapStateToProps:function(e){var t,o,n=e.editorAPI,i=e.state,a=e.dsRead,r=_.editorPlugins.topBar.selectors.getOverrideGetters,s=d.invoke(n,"dsRead.generalInfo.isFirstSave")||!1,l=r(i),p={openPanels:_.editorPlugins.panels.selectors.selectOpenPanels(i),currentPageId:a.pages&&a.pages.getFocusedPageId()||"",imageCrop:i.imageCrop,areToolsHiddenAndStagePositionMaintained:n.toolsControl.areToolsHiddenAndStagePositionMaintained()||n.mobile.mobileWizard.isEnabled(),isMobileEditor:n.isMobileEditor(),isPreviewMode:n.preview.isInPreviewMode(),idePaneState:n.developerMode.ui.idePane.getState(),isPublishInProgress:n.savePublish.isPublishInProgress(),isBuildInProgress:_.savePublish.selectors.getIsBuildInProgress(i),isSaveInProgress:n.savePublish.isSaveInProgress(),isFirstSave:s,isSiteFromOnBoarding:d.invoke(n,"dsRead.generalInfo.isSiteFromOnBoarding")||!1,isSitePublished:d.invoke(n,"dsRead.generalInfo.isSitePublished")||!1,topBarSettingsMenuExperimentValue:P.getValue("se_topBarSettingsMenu")||"old",topBarMobileExposureExperimentValue:P.getValue("se_topBarMobileExposure")||"old",siteId:d.invoke(n,"dsRead.generalInfo.getSiteId"),metaSiteId:d.invoke(n,"dsRead.generalInfo.getMetaSiteId")||d.get(T,"editorModel.metaSiteId"),sitePublicUrl:n.site.getSitePublicUrl()||"",canUserPublish:n.savePublish.canUserPublish(),isMobileOptimized:n.isMobileOptimizedSite(),isSavedInCurrentSession:n.isSavedInCurrentSession,deviceType:b(i),shouldSaveBeforePublish:s||g.getOverridingSaveAndPublish(n.store.getState())||!P.isOpen("se_publishNotAlwaysSaving"),isToolBarEnabled:Boolean(n.toolbar.isToolbarEnabled()),isRulersEnabled:Boolean(_.editorPlugins.rulers.selectors.isRulersEnabled(i)),isGuidelinesEnabled:Boolean(n.grid.guidelines.isGuidelinesEnabled()),isSnapToEnabled:Boolean(n.grid.snapTo.isSnapToEnabled()),isDeveloperModeEnabled:Boolean(n.developerMode.isEnabled()),isDiscoveryExperimentOpen:Boolean(P.isOpen("se_discoveryFeedTopBar")),isDeveloperToolBarEnabled:Boolean(n.developerToolBar.isEnabled()||d.some(E(i),function(e){return e===m.DOCKED_PANEL_SECTIONS.PROPERTIES})),isDeveloperHiddenComponentsEnabled:Boolean(n.developerHiddenComponents.isEnabled()),isTemplate:d.result(n,"dsRead.generalInfo.isTemplate"),isUserOwner:n.account.isUserOwner(),overriddenMenus:d.invoke(l,"getMenuOverrides",i),overriddenSiteMenu:d.invoke(l,"getSiteMenuOverrides",i),overriddenSettingsMenu:d.invoke(l,"getSettingsMenuOverrides",i),overriddenToolsMenu:d.invoke(l,"getToolsMenuOverrides",i),overriddenHelpMenu:d.invoke(l,"getHelpMenuOverrides",i),overriddenLeftButtons:d.invoke(l,"getLeftButtonsOverrides",i,n),overriddenRightButtons:d.invoke(l,"getRightButtonsOverrides",i,n),overriddenCustomDropPanels:d.invoke(l,"getCustomDropPanelsOverrides",i),overriddenQuickNavigation:_.editorPlugins.topBar.selectors.getOverriddenQuickNavigation(i),overriddenExternalLinks:S(i),isActivePersonalSaleCampaign:n.campaigns.personalSale.isActiveCampaign(),personalSaleCampaignAssetPath:n.campaigns.personalSale.getAssetPath(),personalSaleCampaignDiscountValue:n.campaigns.personalSale.isActiveCampaign()?n.campaigns.personalSale.getDiscountValue():null,isSiteInWixStoreTestDrive:n.wixStores.isSiteInWixStoreTestDrive(),developerModeFirstTime:_.editorPlugins.userPreferences.selectors.getSiteUserPreferences(m.USER_PREFS.DEVELOPER_MODE.FIRST_TIME)(i)||!1,openedDropPanel:n.topBarMenuBar.getOpenedDropDown(),languageCode:T.languages.getLanguageCode(),hasSiteBeenADI:n.site.hasSiteBeenADI(),canSiteBeRestoredToADI:n.site.canRestoreToADI(),shouldShowAutoSaveUI:n.autosaveManager.shouldShowAutosaveUI(),autosaveDisabledOnDS:!1===d.get(d.invoke(n,"dsRead.getAutoSaveInfo"),"shouldAutoSave"),autosaveEnabled:!!_.editorPlugins.userPreferences.selectors.getSiteUserPreferences(m.USER_PREFS.SAVE.AUTOSAVE_ENABLED)(i),forceOpenPagesQuickNavigationEventCounter:n.getForceOpenPagesQuickNavigationEventCounter(),wixReactDealerViewer:n.wixReactDealerViewer,wixDealerClientApi:n.wixDealerClientApi,isDealerCssLoaded:n.isDealerCssLoaded,showTopBarBanner:_.topBar.selectors.getBannerVisibility(i),topBarBannerTitle:_.topBar.selectors.getBannerTitle(i),shouldShowADITooltip:(t=n.site.hasSiteBeenADI(),o=_.userPreferences.selectors.getSiteUserPreferences("hasSeenBackToAdiTooltip")(n.store.getState()),t&&!o),hasSeenBackToAdiTooltip:!_.userPreferences.selectors.arePreferencesEmpty("site")&&_.userPreferences.selectors.getSiteUserPreferences("hasSeenBackToAdiTooltip")(n.store.getState()),didPassWelcomeToEditorPanel:!_.userPreferences.selectors.arePreferencesEmpty("global")&&_.userPreferences.selectors.getGlobalUserPreferences("didPassCameFromADIVideo")(n.store.getState()),getBackToAdiTooltipVisibility:_.topBar.selectors.getBackToAdiTooltipVisibility(n.store.getState())&&0===n.getOpenPanels().length};if(P.isOpen("se_multilingual")){var u=_.multilingual.selectors;if(!u.loading(i).isLoading&&d.isEmpty(u.supportedLanguages(i))?p.loadSupportedLanguages=function(){return n.store.dispatch(_.editorPlugins.multilingual.actions.loadSupportedLanguagesThunk())}:p.loadSupportedLanguages=d.noop,d.isNil(n.dsRead))p.currentLanguageCode=null,p.getSiteLocales=d.identity,p.isMultilingualSite=!1,p.supportedLanguages=[];else{var c=n.dsRead.language;p.currentLanguageCode=c.current.get(),p.isMultilingualSite=c.multilingual.isEnabled(),p.originalLanguage=c.original.get(),p.translationLanguages=c.get()}P.isOpen("se_fixMultilingualInstallation")&&(p.tpaMlState=_.editorPlugins.appsStore.selectors.getAppStore(i,m.MULTILINGUAL.linguistDefId))}return P.isOpen("se_publishNotAlwaysSaving")&&(p.publish=function(e){n.savePublish.isSavePublishLocked()||n.publishManager.publish(e)}),p.isMac=i.topBar.isMac,p},mapDispatchToProps:function(a){return{closeBackToAdiTooltip:function(){return a(_.topBarTooltip.actions.closeBackToAdiTooltip())},showBackToAdiTooltip:function(){return a(_.topBarTooltip.actions.showBackToAdiTooltip())},openPanel:function(e,t,o){a(_.panels.actions.updateOrOpenPanel(e,t,o))},openHelpCenter:function(e,t,o){a(_.panels.actions.openHelpCenter(e,t,o))},openHelpCenterHome:function(e,t,o){a(_.panels.actions.openHelpCenterHome(e,t,o))},undo:function(){a(_.history.actions.undo())},redo:function(){a(_.history.actions.redo())},setTopBarSiteHistoryUsed:function(){a(_.editorPlugins.userPreferences.actions.setSiteUserPreferences("topBarSiteHistoryUsed",!0))},setPanelType:function(e,t,o,n,i){a(_.panels.actions.setPanelType(e,t,o,n,i))},openConnectDomain:e(a,function(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return(t=e.account).openConnectDomain.apply(t,n)}),saveAndPublish:e(a,function(e){for(var t=arguments.length,o=Array(1<t?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];var i;e.savePublish.isSavePublishLocked()||(i=e.publishManager).saveAndPublish.apply(i,o)}),publishRC:e(a,function(e){for(var t=arguments.length,o=Array(1<t?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];var i;e.savePublish.isSavePublishLocked()||(i=e.publishManager).publishRC.apply(i,o)}),save:e(a,function(e,t){e.saveManager.save({origin:t})}),upgrade:e(a,function(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return(t=e.account).upgrade.apply(t,n)}),sendBi:e(a,function(e,t,o,n){var i=n?n(e):o;a(_.editorPlugins.bi.actions.event(t,i))}),toggleToolBar:e(a,function(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];(t=e.toolbar).toggleToolbar.apply(t,n),a(_.editorPlugins.userPreferences.actions.setSiteUserPreferences("topBarCloseToolsUsed",!0))}),toggleHideTools:e(a,function(e){var t=e.toolsControl.toggleHideTools();a(_.editorPlugins.userPreferences.actions.setSessionUserPreferences("hideTools",t));var o=t?n.events.editor.hide_tools.hide_controls:n.events.editor.hide_tools.show_controls;a(_.editorPlugins.bi.actions.event(o,{origin:"handle"}))}),togglePreviewSimple:e(a,function(e){return e.preview.togglePreview()}),enterZoomMode:e(a,function(e){e.panelManager.closeAllPanels(),e.toolsControl.toggleHideTools(!0,!0),window.setTimeout(function(){e.zoomMode.enterZoomMode(),a(_.editorPlugins.bi.actions.event(n.events.topbar.top_bar_click,{category:"zoomout"})),a(_.editorPlugins.bi.actions.event(n.events.preview.PREVIEW_CLICK,{origin:"topbar"}))},400)}),togglePreview:e(a,function(e){e.savePublish.isSavePublishLocked()||(e.savePublish.lockSavePublish(),e.preview.togglePreview(),window.setTimeout(e.savePublish.unlockSavePublish,500))}),setEditorMode:e(a,function(e){for(var t=arguments.length,o=Array(1<t?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];return e.setEditorMode.apply(e,o)}),toggleRulers:function(){a(_.editorPlugins.rulers.actions.toggleRulers())},toggleGuidelines:e(a,function(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return(t=e.grid.guidelines).toggleGuidelines.apply(t,n)}),toggleSnapTo:e(a,function(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return(t=e.grid.snapTo).toggleSnapTo.apply(t,n)}),toggleDeveloperMode:e(a,function(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return(t=e.developerMode).toggle.apply(t,n)}),toggleDeveloperToolBar:e(a,function(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return(t=e.developerToolBar).toggle.apply(t,n)}),toggleDeveloperHiddenComponents:e(a,function(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return(t=e.developerHiddenComponents).toggle.apply(t,n)}),getEditorVersionsInfo:e(a,function(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return(t=e.account).getEditorVersionsInfo.apply(t,n)}),openWixSEOWiz:e(a,function(e){return e.account.openWixSEOWiz("EDITOR_MENU")}),manage:e(a,function(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return(t=e.account).manage.apply(t,n)}),openSettings:e(a,function(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return(t=e.account).openSettings.apply(t,n)}),openRevisions:e(a,function(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return(t=e.account).openRevisions.apply(t,n)}),openReleaseManager:e(a,function(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return(t=e.account).openReleaseManager.apply(t,n)}),myAccountAction:e(a,function(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return(t=e.account).myAccountAction.apply(t,n)}),openPremiumSettings:e(a,function(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return(t=e.account).openPremiumSettings.apply(t,n)}),exitEditor:e(a,function(e){for(var t=arguments.length,o=Array(1<t?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];return e.exitEditor.apply(e,o)}),accountUpgrade:e(a,function(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return(t=e.account).upgrade.apply(t,n)}),setMobileOptimizedSite:e(a,function(e){for(var t=arguments.length,o=Array(1<t?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];return e.setMobileOptimizedSite.apply(e,o)}),waitForChangesApplied:e(a,function(e){for(var t=arguments.length,o=Array(1<t?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];var i;e.dsActions&&(i=e.dsActions).waitForChangesApplied.apply(i,o)}),collapseMobileMenu:function(){a(_.editorPlugins.leftBar.actions.actions.collapseMobileMenu())},getFeedbackNewCommentsCounter:e(a,function(e){var t=e.feedback.getNewCommentsCounter();return 99<t?"99+":t}),closeAllPanels:e(a,function(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return(t=e.panelManager).closeAllPanels.apply(t,n)}),openDropPanel:e(a,function(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return(t=e.topBarMenuBar).openDropDown.apply(t,n)}),closeDropPanel:e(a,function(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return(t=e.topBarMenuBar).closeDropDown.apply(t,n)}),openMobileElementsPanel:e(a,function(e){for(var t,o=arguments.length,n=Array(1<o?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return(t=e.panelHelpers).openMobileElementsPanel.apply(t,n)}),toggleRightSection:function(e){return a(_.sectionedPanel.actions.toggleSection(e))},onMultilingualUpdated:function(){return a(_.editorPlugins.multilingual.actions.dataUpdated())}}}}}),define("topBar/topBarComponent/topBarData",["constants"],function(e){"use strict";var t,o,n=(_defineProperty(t={},e.PROGRESS_STATUS.IDLE_SAVED,"top-bar-btn-idle-saved"),_defineProperty(t,e.PROGRESS_STATUS.IN_PROGRESS,"top-bar-btn-in-progress-indicator"),_defineProperty(t,e.PROGRESS_STATUS.DONE_SUCCESS,"top-bar-btn-done-successfully"),t),i=[e.ROOT_COMPS.TOPBAR.DROP_PANELS.SAVE,e.ROOT_COMPS.TOPBAR.DROP_PANELS.PUBLISH,e.ROOT_COMPS.TOPBAR.DROP_PANELS.PUBLISH_RC,e.ROOT_COMPS.TOPBAR.DROP_PANELS.LOCAL_PUSH,e.ROOT_COMPS.TOPBAR.DROP_PANELS.WIXSTORES_MIGRATION_UPGRADE_SITE,e.ROOT_COMPS.TOPBAR.DROP_PANELS.SITE],a=[e.ROOT_COMPS.TOPBAR.DROP_PANELS.SITE,e.ROOT_COMPS.TOPBAR.DROP_PANELS.SETTINGS,e.ROOT_COMPS.TOPBAR.DROP_PANELS.TOOLS,e.ROOT_COMPS.TOPBAR.DROP_PANELS.HELP,e.ROOT_COMPS.TOPBAR.DROP_PANELS.UPGRADE],r="small",s="medium";return{progressButtonClassNames:n,TEXT_AND_LINK_DROP_PANEL_KEYS:i,AUTO_SAVE_DATA:(_defineProperty(o={},e.PROGRESS_STATUS.IDLE_SAVED,{label:"TOPBAR_SAVE_SAVED_LABEL"}),_defineProperty(o,e.PROGRESS_STATUS.IN_PROGRESS,{label:"TOPBAR_SAVE_SAVING_LABEL",tooltipData:{title:null,text:"TOPBAR_SAVE_SAVING_TOOLTIP"}}),o),EDIT_MODE_LAST_BUTTON_BUBBLE_STYLE_OVERRIDES:{content:{right:"6px"}},KEYBOARD_ACCESSIBLE_DROP_PANELS:a,RESPONSIVENESS_CLASS_SUFFIXES:{en:"en",ko:r,fr:r,tr:r,de:s,pl:s,pt:s,es:s,hi:s,it:s,no:s,nl:s},BACK_TO_ADI_BUBBLE_STYLE_OVERRIDE:{content:{position:"absolute",display:"block",top:"60px"}}}}),define("topBar/topBarComponent/mapTopBarPropsToCustomDropPanels",["lodash","constants","topBar/topBarComponent/topBarData","util","experiment"],function(e,t,o,n){"use strict";var i=o.EDIT_MODE_LAST_BUTTON_BUBBLE_STYLE_OVERRIDES,a=o.BACK_TO_ADI_BUBBLE_STYLE_OVERRIDE,r=function(e){return[{key:t.ROOT_COMPS.TOPBAR.DROP_PANELS.CUSTOM.MOBILE_OPTIMIZE_LAYOUT_UNDO,targetButtonKey:t.ROOT_COMPS.TOPBAR.BUTTONS.UNDO,dropPanelData:{title:"TOPBAR_UNDO_TOOLTIP_TITLE",body:"TOPBAR_MOBILE_TOOLTIP_UNDO_BODY",linkText:null,linkAction:null}},{key:t.ROOT_COMPS.TOPBAR.DROP_PANELS.CUSTOM.AUTO_SAVE,targetButtonKey:t.ROOT_COMPS.TOPBAR.BUTTONS.SAVE,closeOnMouseLeave:!0,dropPanelData:{title:"TOPBAR_SITE_AUTOSAVE_TOOLTIP_TITLE",body:"TOPBAR_SITE_AUTOSAVE_TOOLTIP_BODY_TEXT",keyText:e.isMac?"Topbar_Site_autosave_shortcut_mac":"Topbar_Site_autosave_shortcut",linkText:"TOPBAR_SITE_AUTOSAVE_TOOLTIP_SITE_HISTORY",linkAction:e.openRevisions},bubbleStyleOverrides:e.isSiteInWixStoreTestDrive?i:null},{key:t.ROOT_COMPS.TOPBAR.DROP_PANELS.CUSTOM.BACK_TO_ADI,targetButtonKey:t.ROOT_COMPS.TOPBAR.DROP_PANELS.SITE,closeOnMouseLeave:!0,dropPanelData:{title:"TOPBAR_SITE_BACK_ADI_TOOLTIP_TITLE",body:"TOPBAR_SITE_BACK_ADI_TOOLTIP_BODY",linkText:null,linkAction:null},bubbleStyleOverrides:a},{key:t.ROOT_COMPS.TOPBAR.DROP_PANELS.CUSTOM.BACK_TO_CHAT,targetButtonKey:t.ROOT_COMPS.TOPBAR.DROP_PANELS.HELP,closeOnMouseLeave:!0,dropPanelData:{title:"Topbar_LiveChat_Tooltip_Title",body:"Topbar_LiveChat_Tooltip_Text",linkText:null,linkAction:null}},{key:t.ROOT_COMPS.TOPBAR.DROP_PANELS.CUSTOM.PUBLISH_RC,targetButtonKey:t.ROOT_COMPS.TOPBAR.DROP_PANELS.PUBLISH_RC,closeOnMouseLeave:!1,dynamicPanelPath:"topBar.dropPanels.publishRC",bubbleStyleOverrides:i},{key:t.ROOT_COMPS.TOPBAR.DROP_PANELS.CUSTOM.DISABLE_AUTO_SAVE,targetButtonKey:t.ROOT_COMPS.TOPBAR.BUTTONS.SAVE,closeOnMouseLeave:!0,dropPanelData:{title:"Topbar_Site_autosave_off_tooltip_title",body:"Topbar_Site_autosave_off_tooltip_text",keyText:e.isMac?"Topbar_Site_autosave_shortcut_mac":"Topbar_Site_autosave_shortcut",linkText:null,linkAction:null},bubbleStyleOverrides:e.isSiteInWixStoreTestDrive?i:null},{key:t.ROOT_COMPS.TOPBAR.DROP_PANELS.CUSTOM.ENABLE_AUTO_SAVE,targetButtonKey:t.ROOT_COMPS.TOPBAR.BUTTONS.SAVE,closeOnMouseLeave:!0,dropPanelData:{title:"Topbar_Site_autosave_on_tooltip_title",body:"Topbar_Site_autosave_on_tooltip_text",keyText:e.isMac?"Topbar_Site_autosave_shortcut_mac":"Topbar_Site_autosave_shortcut",linkText:null,linkAction:null},bubbleStyleOverrides:e.isSiteInWixStoreTestDrive?i:null}]};return function(t){return e(t).thru(r).thru(function(e){return n.overrideUtils.applyOverrides(e,t.overriddenCustomDropPanels)}).value()}}),define("topBar/actionSuccess/actionSuccessSymbol.rt",["react","lodash","santa-editor-symbols"],function(o,e,n){"use strict";return function(e,t){return o.createElement("div",{className:"action-success-symbol"},o.createElement(n.symbol,{name:"topBarActionSuccess"}),o.createElement("div",{className:"symbol-mask"}),o.createElement("div",{className:"circle"}))}}),define("topBar/actionSuccess/actionSuccessSymbol",["topBar/actionSuccess/actionSuccessSymbol.rt"],function(e){"use strict";var t=e;return t.displayName="ActionSuccessSymbol",t}),define("topBar/topBarComponent/mapTopBarPropsToButtons",["react","lodash","util","constants","topBar/actionSuccess/actionSuccessSymbol","topBar/topBarComponent/topBarData","coreBi","santa-editor-symbols","experiment"],function(i,a,r,s,l,e,p,u,c){"use strict";var d=e.progressButtonClassNames,t=e.AUTO_SAVE_DATA,_=e.EDIT_MODE_LAST_BUTTON_BUBBLE_STYLE_OVERRIDES,T=s.ROOT_COMPS.TOPBAR.MODES,m=s.ROOT_COMPS.TOPBAR.DROP_PANELS.MOBILE,P=function(e){return e===s.PROGRESS_STATUS.DONE_SUCCESS},b=function(e){return{title:e.isMobileEditor?"TOPBAR_DESKTOP_TOOLTIP_TITLE":"TOPBAR_MOBILE_TOOLTIP_TITLE_NEW",text:e.isMobileEditor?"TOPBAR_DESKTOP_TOOLTIP_BODY":"TOPBAR_MOBILE_TOOLTIP_BODY_NEW"}},E=function(e){var t=e.isMobileEditor?"TOP_BAR_DESKTOP_EDITOR_LABEL":"TOP_BAR_MOBILE_EDITOR_LABEL";return r.translate(t)},g=function(e){return e.shouldShowAutoSaveUI?a.get(t,e.savingStatus+".label","TOPBAR_Site_Save"):"TOPBAR_Site_Save"},S=function(e){return c.isOpen("se_obMigrationFlow")&&e.isSiteFromOnBoarding?{title:"ADI_EDITOR_MIGRATION_SAVE_TOOLTIP_TITLE",text:"ADI_EDITOR_MIGRATION_SAVE_TOOLTIP_TEXT"}:e.shouldShowAutoSaveUI?a.get(t,e.savingStatus+".tooltipData",null):null},O=function(e,t){var o="editor_view_mode_"+(t?"mobile":"desktop");e.setEditorMode(t),e.sendBi(p.events.topbar.top_bar_click,{category:o,origin:e.isPreviewMode?T.PREVIEW:T.EDITOR})},o=function(e){return[{key:s.ROOT_COMPS.TOPBAR.BUTTONS.DESKTOP_MODE,automationId:"top-bar-button-switch-mode",symbolName:"topBarNewDesktop",className:["top-bar-btn-device desktop",e.isMobileEditor?"":"toggled"].join(" "),MODES:[T.EDITOR,T.PREVIEW],onClick:function(){e.isMobileEditor&&O(e,!1)},tooltipData:{title:e.isMobileEditor?"TOPBAR_DESKTOP_TOOLTIP_TITLE":"TOPBAR_DESKTOP_TITLE_NEW",text:"TOPBAR_DESKTOP_TOOLTIP_BODY"},condition:function(){return"topBarLeftSectionToggle"===e.topBarMobileExposureExperimentValue&&!r.url.isQA()}},{key:s.ROOT_COMPS.TOPBAR.BUTTONS.MOBILE_MODE,automationId:"top-bar-button-switch-mode",symbolName:"topBarNewMobile",className:["top-bar-btn-device mobile",e.isMobileEditor?"toggled":""].join(" "),MODES:[T.EDITOR,T.PREVIEW],onClick:function(){e.isMobileEditor||O(e,!0)},tooltipData:{title:e.isMobileEditor?"TOPBAR_MOBILE_TITLE_NEW":"TOPBAR_MOBILE_TOOLTIP_TITLE_NEW",text:"TOPBAR_MOBILE_TOOLTIP_BODY_NEW"},condition:function(){return"topBarLeftSectionToggle"===e.topBarMobileExposureExperimentValue&&!r.url.isQA()}},{key:s.ROOT_COMPS.TOPBAR.BUTTONS.MOBILE,automationId:"top-bar-button-switch-mode",symbolName:e.isMobileEditor?"topBarDesktop":"topBarMobile",className:["top-bar-btn-device","MOBILE"===e.openedDropPanel?"active":""].join(" "),MODES:[T.EDITOR,T.PREVIEW],label:E(e),onClick:function(){e.openedDropPanel===m?e.closeDropPanel(!0):e.openDropPanel(m),e.sendBi(p.events.topbar.top_bar_click,{category:"editor_view_mode",origin:e.isPreviewMode?T.PREVIEW:T.EDITOR})},onMouseEnter:function(){e.openedDropPanel===m&&e.openDropPanel(m)},onMouseLeave:function(){e.closeDropPanel()},tooltipData:b(e),condition:function(){return"topBarLeftModeSwitch"===e.topBarMobileExposureExperimentValue&&!r.url.isQA()}}]},n=function(e){return a([{key:s.ROOT_COMPS.TOPBAR.BUTTONS.ZOOM,automationId:"top-bar-button-zoom",ref:"topBarZoomOutButton",symbolName:"zoomOut_v2",MODES:[T.EDITOR],className:e.isPopupOpen?"hidden":"",onClick:function(){e.enterZoomMode()},tooltipData:{title:"TOPBAR_ZoomOut_Tooltip_Title",text:"TOPBAR_ZoomOut_Tooltip_Body"}},{key:s.ROOT_COMPS.TOPBAR.BUTTONS.UNDO,automationId:"top-bar-button-undo",ref:"undoButton",symbolName:"undo2_v2",MODES:[T.EDITOR],onClick:function(){e.undo(),e.sendBi(p.events.topbar.top_bar_click,{category:"undo"}),e.sendBi(p.events.editor.undo_redo_component_change,{type:"undo",origin:"topbar"})},tooltipData:{text:"TOPBAR_UNDO_TOOLTIP_TITLE"},disabled:e.idePaneState===s.DEVELOPER_MODE.CONTAINER_STATES.MAXIMIZED},{key:s.ROOT_COMPS.TOPBAR.BUTTONS.REDO,automationId:"top-bar-button-redo",className:"top-bar-button-redo",ref:"redoButton",symbolName:"redo2_v2",MODES:[T.EDITOR],onClick:function(){e.redo(),e.sendBi(p.events.topbar.top_bar_click,{category:"redo"}),e.sendBi(p.events.editor.undo_redo_component_change,{type:"redo",origin:"topbar"})},tooltipData:{text:"TOPBAR_REDO_TOOLTIP_TITLE"},disabled:e.idePaneState===s.DEVELOPER_MODE.CONTAINER_STATES.MAXIMIZED},{key:s.ROOT_COMPS.TOPBAR.BUTTONS.MOBILE,automationId:"top-bar-button-switch-mode",symbolName:e.isMobileEditor?"topBarDesktop":"topBarMobile",className:["top-bar-btn-device","MOBILE"===e.openedDropPanel?"active":""].join(" "),MODES:[T.EDITOR,T.PREVIEW],label:E(e),onClick:function(){e.openedDropPanel===m?e.closeDropPanel(!0):e.openDropPanel(m),e.sendBi(p.events.topbar.top_bar_click,{category:"editor_view_mode",origin:e.isPreviewMode?T.PREVIEW:T.EDITOR})},onMouseEnter:function(){e.openedDropPanel===m&&e.openDropPanel(m)},onMouseLeave:function(){e.closeDropPanel()},tooltipData:b(e),condition:function(){return"old"===e.topBarMobileExposureExperimentValue||r.url.isQA()}},{key:s.ROOT_COMPS.TOPBAR.BUTTONS.DESKTOP_MODE,automationId:"top-bar-button-switch-mode",symbolName:"topBarNewDesktop",className:["top-bar-btn-device desktop",e.isMobileEditor?"":"toggled"].join(" "),MODES:[T.EDITOR,T.PREVIEW],onClick:function(){e.isMobileEditor&&O(e,!1)},tooltipData:{title:e.isMobileEditor?"TOPBAR_DESKTOP_TOOLTIP_TITLE":"TOPBAR_DESKTOP_TITLE_NEW",text:"TOPBAR_DESKTOP_TOOLTIP_BODY"},condition:function(){return"topBarRightSectionToggle"===e.topBarMobileExposureExperimentValue&&!r.url.isQA()}},{key:s.ROOT_COMPS.TOPBAR.BUTTONS.MOBILE_MODE,automationId:"top-bar-button-switch-mode",symbolName:"topBarNewMobile",className:["top-bar-btn-device mobile",e.isMobileEditor?"toggled":""].join(" "),MODES:[T.EDITOR,T.PREVIEW],onClick:function(){e.isMobileEditor||O(e,!0)},tooltipData:{title:e.isMobileEditor?"TOPBAR_MOBILE_TITLE_NEW":"TOPBAR_MOBILE_TOOLTIP_TITLE_NEW",text:"TOPBAR_MOBILE_TOOLTIP_BODY_NEW"},condition:function(){return"topBarRightSectionToggle"===e.topBarMobileExposureExperimentValue&&!r.url.isQA()}},{key:s.ROOT_COMPS.TOPBAR.BUTTONS.WIXSTORES_MIGRATION_UPGRADE_SITE,automationId:"top-bar-button-stores-migration",MODES:[T.EDITOR,T.PREVIEW],className:"top-bar-btn-stores-migration",label:r.translate("TOPBAR_Site_Migration_Upgrade"),onClick:function(){e.closeDropPanel(!0),e.openPanel("wixStore.migration.wixStoreSwitchPopup",{},!0),e.sendBi(p.events.wixstores.WIXSTORES_MIGRATION_UPGRADE_CLICKED,{origin:"top panel"})},onMouseEnter:function(){e.openDropPanel(s.ROOT_COMPS.TOPBAR.DROP_PANELS.WIXSTORES_MIGRATION_UPGRADE_SITE)},onMouseLeave:function(){e.closeDropPanel()},dropPanelData:{title:"TOPBAR_Site_Migration_Upgrade",body:"TOPBAR_Site_Migration_Upgrade_Description",linkText:null,linkAction:null},condition:function(){return e.isSiteInWixStoreTestDrive}},a.defaults(P(e.savingStatus)?{customSymbol:i.createElement(l)}:{symbolName:"topBarSave",symbolClassName:"top-bar-save-symbol"},{key:s.ROOT_COMPS.TOPBAR.BUTTONS.SAVE,automationId:"top-bar-button-save",ref:"saveButton",className:["top-bar-btn-save",e.isSiteInWixStoreTestDrive?"top-bar-edit-mode-last-btn":"",d[e.savingStatus]||""].join(" "),label:r.translate(g(e)),MODES:e.isSiteInWixStoreTestDrive||r.localModeUtils.isLocalModeEnabled()?[T.EDITOR]:[T.EDITOR,T.PREVIEW],onClick:function(){e.save("topbar"),e.closeDropPanel(!0),e.sendBi(p.events.topbar.top_bar_click,{category:"save",origin:e.isPreviewMode?T.PREVIEW:T.EDITOR})},onMouseEnter:function(){S(e)||e.openDropPanel(s.ROOT_COMPS.TOPBAR.DROP_PANELS.SAVE)},onMouseLeave:function(){e.closeDropPanel()},disabled:e.isPublishInProgress||e.isSaveInProgress||e.isBuildInProgress,bubbleStyleOverrides:e.isSiteInWixStoreTestDrive?_:null,dropPanelData:(n=e,n.isFirstSave||n.autosaveDisabledOnDS?{title:"TOPBAR_SAVE_TOOLTIP_TITLE",body:"TOPBAR_SAVE_TOOLTIP_BODY",linkText:null,linkAction:null}:n.shouldShowAutoSaveUI&&n.savingStatus===s.PROGRESS_STATUS.IDLE?{title:n.autosaveEnabled?"Topbar_Site_save_autosave_on_tooltip_title":"Topbar_Site_save_autosave_off_tooltip_title",body:n.autosaveEnabled?"Topbar_Site_save_autosave_on_tooltip_text":"Topbar_Site_save_autosave_off_tooltip_text",keyText:n.isMac?"Topbar_Site_autosave_shortcut_mac":"Topbar_Site_autosave_shortcut",linkText:"TOPBAR_SAVE_AS_SAVE_TOOLTIP_SITE_HISTORY",linkAction:n.openRevisions}:{title:n.autosaveEnabled?"Topbar_Site_save_autosave_on_tooltip_title":"Topbar_Site_save_autosave_off_tooltip_title",body:n.autosaveEnabled?"Topbar_Site_save_autosave_on_tooltip_text":"Topbar_Site_save_autosave_off_tooltip_text",keyText:n.isMac?"Topbar_Site_autosave_shortcut_mac":"Topbar_Site_autosave_shortcut",linkText:"TOPBAR_SAVE_TOOLTIP_LINK",linkAction:n.openRevisions}),tooltipData:S(e)}),{key:s.ROOT_COMPS.TOPBAR.BUTTONS.PREVIEW,automationId:"top-bar-button-preview",symbolName:"topBarPreview",className:"top-bar-button-preview",label:r.translate("TOPBAR_PREVIEW_TOOLTIP_TITLE"),MODES:[T.EDITOR],onClick:function(){e.togglePreview(),e.sendBi(p.events.topbar.top_bar_click,{category:"preview"}),e.sendBi(p.events.preview.PREVIEW_CLICK,{origin:"topbar"})},tooltipData:{title:"TOPBAR_PREVIEW_TOOLTIP_TITLE",text:"TOPBAR_PREVIEW_TOOLTIP_BODY"}},{key:s.ROOT_COMPS.TOPBAR.BUTTONS.PUBLISH,automationId:"top-bar-button-publish",ref:"publishButton",customSymbol:P(e.publishingStatus)?i.createElement(l):null,className:["top-bar-btn-publish","top-bar-edit-mode-last-btn",d[e.publishingStatus]||""].join(" "),label:r.translate("TOPBAR_Site_Publish"),MODES:[T.EDITOR],onClick:function(){e.shouldSaveBeforePublish?e.saveAndPublish("top_bar_publish"):e.publish("top_bar_publish"),e.closeDropPanel(!0),e.sendBi(p.events.topbar.top_bar_click,{category:"publish"}),e.sendBi(p.events.publish.PUBLISH_CLICK,{origin:"topbar"})},onMouseEnter:function(){e.openDropPanel(s.ROOT_COMPS.TOPBAR.DROP_PANELS.PUBLISH)},onMouseLeave:function(){e.closeDropPanel()},disabled:e.isPublishInProgress||e.isSaveInProgress||e.isBuildInProgress||!e.canUserPublish,dropPanelData:(o=e,o.canUserPublish?o.isSitePublished?{title:"TOPBAR_POSTPUBLISH_TOOLTIP_TITLE",body:"TOPBAR_POSTPUBLISH_TOOLTIP_BODY",linkText:"SAVE_PUBLISH_BUTTON_VIEW",linkAction:function(){var e=o.sitePublicUrl;window.open(e)}}:{title:"TOPBAR_PREPUBLISH_TOOLTIP_TITLE",body:"TOPBAR_PREPUBLISH_TOOLTIP_BODY",linkText:null,linkAction:null}:{title:"TOPBAR_SITE_PUBLISH_DISABLED_PROMOTION_TITLE",body:"TOPBAR_SITE_PUBLISH_DISABLED_PROMOTION_TEXT",linkText:"TOPBAR_SITE_PUBLISH_DISABLED_PROMOTION_LINK",linkAction:function(){var e=r.languages.getLocalizedLink(s.HELP_URLS.CONTRIBUTOR_ROLES,"{$lang}");window.open(e)}}),bubbleStyleOverrides:_,condition:function(){return!e.isSiteInWixStoreTestDrive}},{key:s.ROOT_COMPS.TOPBAR.BUTTONS.PUBLISH_RC,automationId:"top-bar-button-publish-rc",ref:"publishRCButton",customSymbol:i.createElement(u.symbol,{name:"arrowDown"}),className:["top-bar-publish-rc",e.openedDropPanel===s.ROOT_COMPS.TOPBAR.DROP_PANELS.CUSTOM.PUBLISH_RC?"active":""].join(" "),MODES:[T.EDITOR],onClick:function(){e.openedDropPanel===s.ROOT_COMPS.TOPBAR.DROP_PANELS.CUSTOM.PUBLISH_RC?e.closeDropPanel(!0):e.openDropPanel(s.ROOT_COMPS.TOPBAR.DROP_PANELS.CUSTOM.PUBLISH_RC),e.sendBi(p.events.publish.PUBLISH_DROPDOWN_CLICKED,{origin:"topbar"})},onMouseEnter:function(){e.openDropPanel(s.ROOT_COMPS.TOPBAR.DROP_PANELS.PUBLISH_RC)},onMouseLeave:function(){e.closeDropPanel()},dropPanelData:{title:"TOPBAR_PUBLISH_RC_TOOLTIP_TITLE",body:"TOPBAR_PUBLISH_RC_TOOLTIP_BODY"},closeOnMouseLeave:!1,disabled:e.isPublishInProgress||e.isSaveInProgress||e.isBuildInProgress||!e.canUserPublish,bubbleStyleOverrides:_,condition:function(){return!e.isSiteInWixStoreTestDrive&&c.isOpen("se_publishRC")&&e.isDeveloperModeEnabled&&e.canUserPublish&&e.isSitePublished}},{key:s.ROOT_COMPS.TOPBAR.BUTTONS.BACK_TO_EDITOR,automationId:"top-bar-button-back-to-editor",className:"top-bar-btn-back-to-editor",label:r.translate(e.isSiteInWixStoreTestDrive?"TOPBAR_EDIT_SITE":"TOPBAR_BACK_TO_EDITOR"),MODES:[T.PREVIEW],fakeLayoutItems:(t=e,t.isSiteInWixStoreTestDrive?[{type:"text",content:r.translate("TOPBAR_PREVIEW_TOOLTIP_TITLE")},{type:"text",content:r.translate(g(t))}]:[{type:"symbol",width:60,className:"fake-preview-item-symbol"},{type:"text",content:r.translate("TOPBAR_PREVIEW_TOOLTIP_TITLE"),className:"fake-preview-item-text"},{type:"text",content:r.translate("TOPBAR_Site_Publish")}]),onClick:function(){e.sendBi(p.events.topbar.top_bar_Preview_Page_Back_to_Editor_click),e.togglePreview(),e.isMobileEditor&&e.sendBi(p.events.mobileEditor.MOBILE_EDITOR_READY),e.sendBi(p.events.topbar.top_bar_Preview_Page_Back_to_Editor_click,{origin:"thumb"})},tooltipData:e.isSiteInWixStoreTestDrive?{title:"TOPBAR_EDIT_SITE",text:"TOPBAR_Edit_Site_Description"}:null}]).flatten().compact().value();var t,o,n},B={vi:i.createElement(l)},h=function(e){if("string"!=typeof e.customSymbol)return e;var t=B[e.customSymbol];return a.defaults({},{customSymbol:t},e)},I=function(o){return function(e,t){return a(e).thru(o).reject(function(e){return e.condition&&!e.condition()}).thru(function(e){return r.overrideUtils.applyOverrides(e,t)}).map(h).value()}};return{mapTopBarPropsToLeftButtons:function(e){return I(o)(e,e.overriddenLeftButtons)},mapTopBarPropsToRightButtons:function(e){return I(n)(e,e.overriddenRightButtons)}}}),define("topBar/menuBar/menuBarListItems/getSiteMenuItems",["lodash","coreBi","constants"],function(t,o,n){"use strict";var i="savePublish.panels.save.saveYourSitePanel",a=n.ROOT_COMPS.TOPBAR.SITE_MENU_ITEMS;return function(e){return[{key:a.SAVE,automationId:"list-item-save",leftTitle:"TOPBAR_Site_Save",rightTitle:"TOPBAR_SITE_SAVE_PROMOTION_TITLE",description:"TOPBAR_SITE_SAVE_PROMOTION_TEXT",symbolName:"menubarSaveSitePromotion_v2",onClick:function(){e.save("top_bar_site_menu"),e.sendBi(o.events.topbar.top_bar_SITE_menu_click,{category:"save"})}},{key:a.PREVIEW,automationId:"list-item-preview",leftTitle:"TOPBAR_PREVIEW_TOOLTIP_TITLE",rightTitle:"TOPBAR_SITE_PREVIEW_PROMOTION_TITLE",description:"TOPBAR_SITE_PREVIEW_PROMOTION_TEXT",symbolName:"menubarPreviewSitePromotion_v2",onClick:function(){e.togglePreview(),e.sendBi(o.events.topbar.top_bar_SITE_menu_click,{category:"preview"}),e.sendBi(o.events.preview.PREVIEW_CLICK,{origin:"menubar"})}},{key:a.FEEDBACK,automationId:"list-item-feedback",leftTitle:"TOPBAR_GetFeedback_Label",rightTitle:"TOPBAR_GetFeedback_Promotion_Title",description:"TOPBAR_GetFeedback_Promotion_Text",symbolName:"menubarfeedbackPromotion_v2",onClick:function(){e.isFirstSave?e.openPanel(i,{title:"TOPBAR_SITE_FEEDBACK_SAVE_FIRST_MSG_TITLE",messageBody:"TOPBAR_SITE_FEEDBACK_SAVE_FIRST_MSG_BODY"},!0):e.openPanel("panels.focusPanels.feedbackPanel"),e.sendBi(o.events.topbar.top_bar_SITE_menu_click,{category:"feedback"}),e.sendBi(o.events.preview.PREVIEW_CLICK,{origin:"menubar"})},getCounter:function(){return e.getFeedbackNewCommentsCounter()},condition:function(){return!((e.getEditorVersionsInfo()||{}).isEligibleForSwitch&&!e.isSavedInCurrentSession&&!e.isTemplate)&&e.isUserOwner}},{key:a.PUBLISH,automationId:"list-item-publish",leftTitle:"TOPBAR_Site_Publish",rightTitle:"TOPBAR_SITE_PUBLISH_PROMOTION_TITLE",description:"TOPBAR_SITE_PUBLISH_PROMOTION_TEXT",symbolName:"menubarPublishSitePromotion_v2",isDisabled:!e.canUserPublish,onClick:function(){e.canUserPublish&&(e.shouldSaveBeforePublish?e.saveAndPublish("top_bar_site_menu_publish"):e.publish("top_bar_site_menu_publish"),e.sendBi(o.events.topbar.top_bar_SITE_menu_click,{category:"publish"}),e.sendBi(o.events.publish.PUBLISH_CLICK,{origin:"menubar"}))}},{key:a.VIEW_SITE,automationId:"list-item-view-site",leftTitle:"TOPBAR_SITE_VIEWSITE",rightTitle:"TOPBAR_SITE_VIEW_SITE_PROMOTION_TITLE",description:"TOPBAR_SITE_VIEW_SITE_PROMOTION_TEXT",symbolName:"menubarViewPublishedPromotion_v2",isDisabled:!e.isSitePublished,onClick:function(){e.isSitePublished&&(window.open(e.sitePublicUrl),e.sendBi(o.events.topbar.top_bar_SITE_menu_click,{category:"view_site"}))}},{isSeparator:!0},{key:a.CREATE_RELEASE_CANDIDATE,automationId:"list-item-create-release-candidate",leftTitle:"TOPBAR_SITE_CREATE_RELEASE_CANDIDATE",rightTitle:"TOPBAR_SITE_CREATE_RELEASE_CANDIDATE_PROMOTION_TITLE",description:"TOPBAR_SITE_CREATE_RELEASE_CANDIDATE_PROMOTION_TEXT",symbolName:"menubarCreateReleaseCandidatePromotion_v2",onClick:function(){e.publishRC("top_bar_site_menu_publishRC"),e.sendBi(o.events.topbar.top_bar_SITE_menu_click,{category:"Create RC"}),e.sendBi(o.events.topbar.start_creating_rc_click,{origin:"top bar"})},condition:function(){return e.canUserPublish&&e.isSitePublished}},{key:a.RELEASE_MANAGER,automationId:"list-item-release-manager",leftTitle:"TOPBAR_SITE_RELEASE_MANAGER",rightTitle:"TOPBAR_SITE_RELEASE_MANAGER_PROMOTION_TITLE",description:"TOPBAR_SITE_RELEASE_MANAGER_PROMOTION_TEXT",symbolName:"menubarReleaseManagerPromotion_v2",condition:function(){return!e.isFirstSave},onClick:function(){e.openReleaseManager(),e.sendBi(o.events.topbar.top_bar_SITE_menu_click,{category:"Release Manager"}),e.sendBi(o.events.publish.publish_rc_goto_release_manager_click,{origin:"top bar"})}},{key:a.GO_TO_SEO_WIZ,automationId:"list-item-go-to-seo-wiz",leftTitle:"TOPBAR_GetTraffic_New_Label",rightTitle:"TOPBAR_GetTraffic_New_Promotion_Title",description:"TOPBAR_GetTraffic_New_Promotion_Text",symbolName:"menubarGetFoundOnGoogle_v2",onClick:function(){e.openWixSEOWiz(),e.sendBi(o.events.topbar.top_bar_SITE_menu_click,{category:"get_traffic"})},condition:function(){return"old"===e.topBarSettingsMenuExperimentValue}},{key:a.ACCESSIBILITY,automationId:"list-item-accessibility",experiment:"se_accessibilityPanel",leftTitle:"TOPBAR_SITE_ACCESSIBILITY",rightTitle:"TOPBAR_SITE_ACCESSIBILITY_PROMOTION_TITLE",description:"TOPBAR_SITE_ACCESSIBILITY_PROMOTION_TEXT",symbolName:"accessibilityTopBar",onClick:function(){e.sendBi(o.events.accessibilityPanel.click_accessbility_in_topbar_menu,{site_id:e.siteId}),e.sendBi(o.events.topbar.top_bar_SITE_menu_click,{category:"accessibility"}),e.openPanel("panels.focusPanels.accessibilityPanel")},condition:function(){return"old"===e.topBarSettingsMenuExperimentValue}},{key:a.CONNECT_DOMAIN,automationId:"list-item-connect-domain",leftTitle:"TOPBAR_SITE_CONNECT_DOMAIN",rightTitle:"TOPBAR_SITE_CONNECT_PROMOTION_TITLE",description:"TOPBAR_SITE_CONNECT_PROMOTION_TEXT",symbolName:"menubarConnectDomainPromotion_v2",onClick:function(){e.isFirstSave?e.save():e.openConnectDomain(n.CONNECT_DOMAIN.FLOWS.TOP_BAR),e.sendBi(o.events.topbar.top_bar_SITE_menu_click,{category:"connect_domain"})},condition:function(){return e.isUserOwner&&!e.isSiteInWixStoreTestDrive&&"old"===e.topBarSettingsMenuExperimentValue}},t.defaults(e.isActivePersonalSaleCampaign?{translatedDescription:e.getPersonalSaleTranslatedLabel("TOPBAR_UPGRADE_POPUP_PERSONAL_SALE_LABEL_DYNAMIC"),illustrationClassName:"illustration-upgrade personal-sale-campaign",image:e.isPersonalSaleExperimentOpen?e.getPersonalSaleCampaignImageUrl("menubarSitePanel"):void 0,symbolName:e.isPersonalSaleExperimentOpen?void 0:e.getPersonalSaleCampaignSymbolName("menubarSitePanel")}:{translatedDescription:null,illustrationClassName:"illustration-upgrade",symbolName:"menubarUpgradePromotionLight_v2",image:null},{key:a.UPGRADE,automationId:"list-item-upgrade",leftTitle:"TOPBAR_Upgrade_Label",rightTitle:"TOPBAR_SITE_UPGRADE_PROMOTION_TITLE",description:"TOPBAR_SITE_UPGRADE_PROMOTION_TEXT",listItemClassName:"list-item-upgrade",onClick:function(){e.isFirstSave?e.openPanel(i,{title:"TOPBAR_SITE_UPGRADE_SAVE_FIRST_MSG_TITLE",messageBody:"TOPBAR_SITE_UPGRADE_SAVE_FIRST_MSG_BODY"},!0):e.upgrade("edhtml_TOP_BAR_SITE_MENU_UPGRADE"),e.sendBi(o.events.topbar.top_bar_SITE_menu_click,{category:"upgrade"})},condition:function(){return e.isUserOwner&&!e.isSiteInWixStoreTestDrive&&"old"===e.topBarSettingsMenuExperimentValue}}),{isSeparator:!0,condition:function(){return"old"===e.topBarSettingsMenuExperimentValue}},t.defaults(e.isMobileEditor?{leftTitle:"Topbar_Site_Desktop_Editor",rightTitle:"TOPBAR_SITE_DESKTOP_PROMOTION_TITLE",description:"TOPBAR_SITE_DESKTOP_PROMOTION_TEXT",symbolName:"menubarSwitchToDesktopPromotion_v2"}:{leftTitle:"Topbar_Site_Mobile_Editor",rightTitle:"TOPBAR_SITE_MOBILE_PROMOTION_TITLE",description:"TOPBAR_SITE_MOBILE_PROMOTION_TEXT",symbolName:"menubarSwitchToMobilePromotion_v2"},{key:a.EDITOR_MODE_SWITCH,automationId:"list-item-mode-switch",onClick:function(){e.setEditorMode(!e.isMobileEditor),e.sendBi(o.events.topbar.top_bar_SITE_menu_click,{category:"editor_mode_switch"})},condition:function(){return"old"===e.topBarSettingsMenuExperimentValue}}),{isSeparator:!0,condition:function(){return"old"===e.topBarSettingsMenuExperimentValue}},{key:a.IMAGE_OPTIMIZATION,automationId:"list-item-image-optimization",leftTitle:"TOPBAR_SITE_IMAGE_QUALITY",rightTitle:"TOPBAR_SITE_IMAGE_QUALITY_PROMOTION_TITLE",description:"TOPBAR_SITE_IMAGE_QUALITY_PROMOTION_TEXT",symbolName:"imageOptimizationPromotion_v2",onClick:function(){e.openPanel("panels.focusPanels.siteImageOptimizationPanel",{panelName:"panels.focusPanels.siteImageOptimizationPanel"}),e.sendBi(o.events.topbar.top_bar_SITE_menu_click,{category:"image_optimization"})},condition:function(){return"old"===e.topBarSettingsMenuExperimentValue}},{key:a.SITE_DASHBOARD,automationId:"list-item-site-dashboard",leftTitle:"TOPBAR_SITE_DASHBOARD",rightTitle:"TOPBAR_SITE_DASHBOARD",description:"TOPBAR_SITE_DASHBOARD_PROMOTION_TEXT",symbolName:"menubarMySitesPromotion_v2",onClick:function(){e.isFirstSave?e.openPanel(i,{title:"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_TITLE",messageBody:"TOPBAR_SITE_DASHBOARD_SAVE_FIRST_MSG_BODY"},!0):e.manage(),e.sendBi(o.events.topbar.top_bar_SITE_menu_click,{category:"site_dashboard"})},condition:function(){return"old"===e.topBarSettingsMenuExperimentValue}},{key:a.SETTINGS,automationId:"list-item-site-manager",leftTitle:"TOPBAR_Settings_Label",rightTitle:"TOPBAR_SITE_SETTINGS_PROMOTION_TITLE",description:"TOPBAR_SITE_SETTINGS_PROMOTION_TEXT",symbolName:"menubarSiteSettingsPromotion_v2",onClick:function(){e.isFirstSave?e.openPanel(i,{title:"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_TITLE",messageBody:"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_BODY"},!0):(e.sendBi(o.events.topbar.top_bar_open_settings_click),e.openSettings()),e.sendBi(o.events.topbar.top_bar_SITE_menu_click,{category:"settings"})},condition:function(){return"old"===e.topBarSettingsMenuExperimentValue}},{key:a.REVISIONS,automationId:"list-item-site-revisions",leftTitle:"TOPBAR_Site_Site_Revisions",rightTitle:"TOPBAR_SITE_HISTORY_PROMOTION_TITLE",description:"TOPBAR_SITE_HISTORY_PROMOTION_TEXT",symbolName:"menubarSiteHistoryPromotion_v2",onClick:function(){e.isFirstSave?e.openPanel(i,{title:"TOPBAR_SITE_HISTORY_SAVE_FIRST_MSG_TITLE",messageBody:"TOPBAR_SITE_HISTORY_SAVE_FIRST_MSG_BODY"},!0):e.openRevisions(),e.setTopBarSiteHistoryUsed(),e.sendBi(o.events.topbar.top_bar_SITE_menu_click,{category:"revisions"})}},{isSeparator:!0},{key:a.DUPLICATE,automationId:"list-item-duplicate",leftTitle:"TOPBAR_Settings_Duplicate_Label",rightTitle:"TOPBAR_Settings_Duplicate_Promotion_Title",description:"TOPBAR_Settings_Duplicate_Promotion_Text",symbolName:"menubarDuplicateSite",onClick:function(){e.isFirstSave?e.openPanel(i,{title:"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_TITLE",messageBody:"TOPBAR_SITE_DASHBOARD_SAVE_FIRST_MSG_BODY"},!0):e.myAccountAction("duplicate"),e.sendBi(o.events.topbar.top_bar_SITE_menu_click,{category:"duplicate"})},condition:function(){return"newA"===e.topBarSettingsMenuExperimentValue}},{key:a.TRANSFER,automationId:"list-item-transfer",leftTitle:"TOPBAR_Settings_TransferSite_Label",rightTitle:"TOPBAR_Settings_TransferSite_Promotion_Title",description:"TOPBAR_Settings_TransferSite_Promotion_Text",symbolName:"menubarTransferSite",onClick:function(){e.isFirstSave?e.openPanel(i,{title:"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_TITLE",messageBody:"TOPBAR_SITE_DASHBOARD_SAVE_FIRST_MSG_BODY"},!0):e.myAccountAction("transfer"),e.sendBi(o.events.topbar.top_bar_SITE_menu_click,{category:"transfer"})},condition:function(){return"newA"===e.topBarSettingsMenuExperimentValue}},{isSeparator:!0,condition:function(){return"newA"===e.topBarSettingsMenuExperimentValue}},{key:a.IMAGE_OPTIMIZATION,automationId:"list-item-image-optimization",leftTitle:"TOPBAR_SITE_IMAGE_QUALITY",rightTitle:"TOPBAR_SITE_IMAGE_QUALITY_PROMOTION_TITLE",description:"TOPBAR_SITE_IMAGE_QUALITY_PROMOTION_TEXT",symbolName:"imageOptimizationPromotion_v2",onClick:function(){e.openPanel("panels.focusPanels.siteImageOptimizationPanel",{panelName:"panels.focusPanels.siteImageOptimizationPanel"}),e.sendBi(o.events.topbar.top_bar_SITE_menu_click,{category:"image_optimization"})},condition:function(){return"newB"===e.topBarSettingsMenuExperimentValue}},{isSeparator:!0,condition:function(){return e.hasSiteBeenADI&&e.canSiteBeRestoredToADI&&"newB"===e.topBarSettingsMenuExperimentValue}},{key:a.BACK_TO_ADI,automationId:"list-item-site-back-to-adi",leftTitle:"TOPBAR_BacktoADI_Label",rightTitle:"TOPBAR_BacktoADI_Promotion_Title",description:"TOPBAR_BacktoADI_Promotion_Text",symbolName:"BackToADITopBar",onClick:function(){e.openPanel("panels.focusPanels.backToADIPanel")},condition:function(){return e.hasSiteBeenADI&&e.canSiteBeRestoredToADI&&("newA"===e.topBarSettingsMenuExperimentValue||"old"===e.topBarSettingsMenuExperimentValue)}},{isSeparator:!0,condition:function(){return e.hasSiteBeenADI&&e.canSiteBeRestoredToADI&&"newB"!==e.topBarSettingsMenuExperimentValue}},{key:a.EXIT,automationId:"list-item-exit",leftTitle:"TOPBAR_Site_Logout",rightTitle:"TOPBAR_SITE_EXIT_PROMOTION_TITLE",description:"TOPBAR_SITE_EXIT_PROMOTION_TEXT",symbolName:"menubarExitEditorPromotion_v2",onClick:function(){e.exitEditor(),e.sendBi(o.events.topbar.top_bar_SITE_menu_click,{category:"logout"})}}]}}),define("topBar/menuBar/menuBarListItems/getSettingsMenuItems",["lodash","coreBi","constants","stateManagement","experiment"],function(t,o,e,n,i){"use strict";var a="savePublish.panels.save.saveYourSitePanel",r=e.ROOT_COMPS.TOPBAR.SETTINGS_MENU_ITEMS;return function(e){return[{key:r.CONNECT_DOMAIN,automationId:"list-item-connect-domain",leftTitle:"TOPBAR_SITE_CONNECT_DOMAIN",rightTitle:"TOPBAR_SITE_CONNECT_PROMOTION_TITLE",description:"TOPBAR_SITE_CONNECT_PROMOTION_TEXT",symbolName:"menubarConnectDomainPromotion_v2",onClick:function(){e.isFirstSave?e.save():e.openSettings("domains"),e.sendBi(o.events.topbar.top_bar_SETTINGS_menu_click,{category:"connect_domain"})},condition:function(){return e.isUserOwner&&!e.isSiteInWixStoreTestDrive}},{key:r.MAILBOX,automationId:"list-item-mailbox",leftTitle:"TOPBAR_Settings_Mailbox_Label",rightTitle:"TOPBAR_Settings_Mailbox_Promotion_Title",description:"TOPBAR_Settings_Mailbox_Promotion_Text",symbolName:"menubarMailboxes",onClick:function(){e.isFirstSave?e.openPanel(a,{title:"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_TITLE",messageBody:"TOPBAR_SITE_DASHBOARD_SAVE_FIRST_MSG_BODY"},!0):e.openSettings("mailboxes"),e.sendBi(o.events.topbar.top_bar_SETTINGS_menu_click,{category:"mailboxes"})}},t.defaults(e.isActivePersonalSaleCampaign?{translatedDescription:e.getPersonalSaleTranslatedLabel("TOPBAR_UPGRADE_POPUP_PERSONAL_SALE_LABEL_DYNAMIC"),illustrationClassName:"illustration-upgrade personal-sale-campaign",image:e.isPersonalSaleExperimentOpen?e.getPersonalSaleCampaignImageUrl("menubarSitePanel"):void 0,symbolName:e.isPersonalSaleExperimentOpen?void 0:e.getPersonalSaleCampaignSymbolName("menubarSitePanel")}:{translatedDescription:null,illustrationClassName:"illustration-upgrade",symbolName:"menubarUpgradePromotionLight_v2",image:null},{key:r.UPGRADE,automationId:"list-item-upgrade",leftTitle:"TOPBAR_Upgrade_Label",rightTitle:"TOPBAR_SITE_UPGRADE_PROMOTION_TITLE",description:"TOPBAR_SITE_UPGRADE_PROMOTION_TEXT",listItemClassName:"list-item-upgrade",onClick:function(){e.isFirstSave?e.openPanel(a,{title:"TOPBAR_SITE_UPGRADE_SAVE_FIRST_MSG_TITLE",messageBody:"TOPBAR_SITE_UPGRADE_SAVE_FIRST_MSG_BODY"},!0):e.isPremium?e.openPremiumSettings("plans"):e.upgrade("edhtml_TOP_BAR_SITE_MENU_UPGRADE"),e.sendBi(o.events.topbar.top_bar_SETTINGS_menu_click,{category:"upgrade"})},condition:function(){return e.isUserOwner&&!e.isSiteInWixStoreTestDrive}}),{isSeparator:!0},{key:r.GO_TO_SEO_WIZ,automationId:"list-item-go-to-seo-wiz",leftTitle:"TOPBAR_GetTraffic_New_Label",rightTitle:"TOPBAR_GetTraffic_New_Promotion_Title",description:"TOPBAR_GetTraffic_New_Promotion_Text",symbolName:"menubarGetFoundOnGoogle_v2",onClick:function(){e.isFirstSave?e.openPanel(a,{title:"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_TITLE",messageBody:"TOPBAR_SITE_DASHBOARD_SAVE_FIRST_MSG_BODY"},!0):e.openWixSEOWiz(),e.sendBi(o.events.topbar.top_bar_SETTINGS_menu_click,{category:"get_traffic"})}},{key:r.FAVICON,automationId:"list-item-favicon",leftTitle:"TOPBAR_Settings_Favicon_Label",rightTitle:"TOPBAR_Settings_Favicon_Promotion_Title",description:"TOPBAR_Settings_Favicon_Promotion_Text",symbolName:"menubarFavicon",onClick:function(){e.isFirstSave?e.openPanel(a,{title:"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_TITLE",messageBody:"TOPBAR_SITE_DASHBOARD_SAVE_FIRST_MSG_BODY"},!0):e.openSettings("favicon"),e.sendBi(o.events.topbar.top_bar_SETTINGS_menu_click,{category:"favicon"})}},{key:r.BUSINESS_INFO,automationId:"list-item-business-info",leftTitle:"TOPBAR_Settings_BusinessInfo_Label",rightTitle:"TOPBAR_Settings_BusinessInfo_Promotion_Title",description:"TOPBAR_Settings_BusinessInfo_Promotion_Text",symbolName:"menubarBusinessInfo",onClick:function(){e.isFirstSave?e.openPanel(a,{title:"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_TITLE",messageBody:"TOPBAR_SITE_DASHBOARD_SAVE_FIRST_MSG_BODY"},!0):e.openSettings("business"),e.sendBi(o.events.topbar.top_bar_SETTINGS_menu_click,{category:"business"})}},{key:r.SOCIAL,automationId:"list-item-social",leftTitle:"TOPBAR_Settings_Social_Label",rightTitle:"TOPBAR_Settings_Social_Promotion_Title",description:"TOPBAR_Settings_Social_Promotion_Text",symbolName:"menubarSocial",onClick:function(){e.isFirstSave?e.openPanel(a,{title:"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_TITLE",messageBody:"TOPBAR_SITE_DASHBOARD_SAVE_FIRST_MSG_BODY"},!0):e.openSettings("social"),e.sendBi(o.events.topbar.top_bar_SETTINGS_menu_click,{category:"social"})}},{key:r.TRACKING_TOOLS,automationId:"list-item-tracking-tools",leftTitle:"TOPBAR_Settings_TrackingTools_Label",rightTitle:"TOPBAR_Settings_TrackingTools_Promotion_Title",description:"TOPBAR_Settings_TrackingTools_Promotion_Text",symbolName:"menubarTrackingAndAnalytics",onClick:function(){e.isFirstSave?e.openPanel(a,{title:"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_TITLE",messageBody:"TOPBAR_SITE_DASHBOARD_SAVE_FIRST_MSG_BODY"},!0):e.openSettings("embeds"),e.sendBi(o.events.topbar.top_bar_SETTINGS_menu_click,{category:"analytics"})}},{key:r.PERMISSIONS,automationId:"list-item-permissions",leftTitle:"TOPBAR_Settings_Permissions_Label",rightTitle:"TOPBAR_Settings_Permissions_Promotion_Title",description:"TOPBAR_Settings_Permissions_Promotion_Text",symbolName:"menubarRolesAndPermissions",onClick:function(){e.isFirstSave?e.openPanel(a,{title:"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_TITLE",messageBody:"TOPBAR_SITE_DASHBOARD_SAVE_FIRST_MSG_BODY"},!0):e.openSettings("authorization"),e.sendBi(o.events.topbar.top_bar_SETTINGS_menu_click,{category:"permissions"})},condition:function(){return"newA"===e.topBarSettingsMenuExperimentValue}},{key:r.ACCESSIBILITY,automationId:"list-item-accessibility",experiment:"se_accessibilityPanel",leftTitle:"TOPBAR_SITE_ACCESSIBILITY",rightTitle:"TOPBAR_SITE_ACCESSIBILITY_PROMOTION_TITLE",description:"TOPBAR_SITE_ACCESSIBILITY_PROMOTION_TEXT",symbolName:"DescriptiveEditorAccessibility",onClick:function(){e.sendBi(o.events.accessibilityPanel.click_accessbility_in_topbar_menu,{site_id:e.siteId}),e.sendBi(o.events.topbar.top_bar_SETTINGS_menu_click,{category:"accessibility"}),e.openPanel("panels.focusPanels.accessibilityPanel")}},{key:r.MOBILE_FRIENDLY,automationId:"list-item-mobile-friendly",leftTitle:"TOPBAR_Settings_Mobile_Friendly_Label",rightTitle:"TOPBAR_Settings_Mobile_Friendly_Promotion_Title",description:"TOPBAR_Settings_Mobile_Friendly_Promotion_Text",symbolName:"mobileFriendlyTopBar",onClick:function(){e.sendBi(o.events.topbar.top_bar_SETTINGS_menu_click,{category:"mobile_friendly"}),e.openPanel("panels.focusPanels.mobileFriendlyPanel")},condition:function(){return"topBarLeftSectionToggle"===e.topBarMobileExposureExperimentValue||"topBarRightSectionToggle"===e.topBarMobileExposureExperimentValue}},{key:r.IMAGE_OPTIMIZATION,automationId:"list-item-image-optimization",leftTitle:"TOPBAR_SITE_IMAGE_QUALITY",rightTitle:"TOPBAR_SITE_IMAGE_QUALITY_PROMOTION_TITLE",description:"TOPBAR_SITE_IMAGE_QUALITY_PROMOTION_TEXT",symbolName:"imageOptimizationPromotion_v2",onClick:function(){e.openPanel("panels.focusPanels.siteImageOptimizationPanel",{panelName:"panels.focusPanels.siteImageOptimizationPanel"}),e.sendBi(o.events.topbar.top_bar_SETTINGS_menu_click,{category:"image_optimization"})},condition:function(){return"newA"===e.topBarSettingsMenuExperimentValue}},{key:r.MULTILINGUAL,automationId:"list-item-multilingual",experiment:"se_multilingual",leftTitle:"TOPBAR_MULTILINGUAL_LABEL",rightTitle:"TOPBAR_MULTILINGUAL_PROMOTION_TITLE",description:"TOPBAR_MULTILINGUAL_PROMOTION_TEXT",symbolName:"menubarMultilingual",onClick:function(){i.isOpen("se_fixMultilingualInstallation")?e.dispatch(n.multilingual.actions.notifyMultilingualAppToOpen()):e.openPanel("multilingual.panels.multilingualManagePanel",{title:"ML_MANAGER_TITLE",subtitle:"ML_MANAGER_SUBTITLE"}),e.sendBi(o.events.topbar.top_bar_SITE_menu_click,{category:"multilingual"})},condition:function(){return!e.isMobileEditor}},{isSeparator:!0},{key:r.PERMISSIONS,automationId:"list-item-permissions",leftTitle:"TOPBAR_Settings_Permissions_Label",rightTitle:"TOPBAR_Settings_Permissions_Promotion_Title",description:"TOPBAR_Settings_Permissions_Promotion_Text",symbolName:"menubarRolesAndPermissions",onClick:function(){e.isFirstSave?e.openPanel(a,{title:"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_TITLE",messageBody:"TOPBAR_SITE_DASHBOARD_SAVE_FIRST_MSG_BODY"},!0):e.openSettings("authorization"),e.sendBi(o.events.topbar.top_bar_SETTINGS_menu_click,{category:"permissions"})},condition:function(){return"newB"===e.topBarSettingsMenuExperimentValue}},{key:r.DUPLICATE,automationId:"list-item-duplicate",leftTitle:"TOPBAR_Settings_Duplicate_Label",rightTitle:"TOPBAR_Settings_Duplicate_Promotion_Title",description:"TOPBAR_Settings_Duplicate_Promotion_Text",symbolName:"menubarDuplicateSite",onClick:function(){e.isFirstSave?e.openPanel(a,{title:"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_TITLE",messageBody:"TOPBAR_SITE_DASHBOARD_SAVE_FIRST_MSG_BODY"},!0):e.myAccountAction("duplicate"),e.sendBi(o.events.topbar.top_bar_SETTINGS_menu_click,{category:"duplicate"})},condition:function(){return"newB"===e.topBarSettingsMenuExperimentValue}},{key:r.TRANSFER,automationId:"list-item-transfer",leftTitle:"TOPBAR_Settings_TransferSite_Label",rightTitle:"TOPBAR_Settings_TransferSite_Promotion_Title",description:"TOPBAR_Settings_TransferSite_Promotion_Text",symbolName:"menubarTransferSite",onClick:function(){e.isFirstSave?e.openPanel(a,{title:"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_TITLE",messageBody:"TOPBAR_SITE_DASHBOARD_SAVE_FIRST_MSG_BODY"},!0):e.myAccountAction("transfer"),e.sendBi(o.events.topbar.top_bar_SETTINGS_menu_click,{category:"transfer"})},condition:function(){return"newB"===e.topBarSettingsMenuExperimentValue}},{key:r.SITE_DASHBOARD,automationId:"list-item-site-dashboard",leftTitle:"TOPBAR_SITE_DASHBOARD",rightTitle:"TOPBAR_SITE_DASHBOARD",description:"TOPBAR_SITE_DASHBOARD_PROMOTION_TEXT",symbolName:"menubarMySitesPromotion_v2",onClick:function(){e.isFirstSave?e.openPanel(a,{title:"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_TITLE",messageBody:"TOPBAR_SITE_DASHBOARD_SAVE_FIRST_MSG_BODY"},!0):e.manage(),e.sendBi(o.events.topbar.top_bar_SETTINGS_menu_click,{category:"site_dashboard"})}}]}}),define("topBar/menuBar/menuBarListItems/getToolsMenuItems",["constants","coreBi"],function(e,t){"use strict";var o=e.ROOT_COMPS.TOPBAR.TOOLS_MENU_ITEMS;return function(e){return[{key:o.TOOLBAR,automationId:"list-item-toolbar",isCheckbox:!0,checkboxValue:e.isToolBarEnabled,leftTitle:"TOPBAR_VIEW_TOOLBAR_TITLE",rightTitle:"TOPBAR_VIEW_TOOLBAR_TITLE",description:"TOPBAR_VIEW_TOOLBAR_BODY",symbolName:"menubarToolbarPromotion_v2",onClick:function(){e.sendBi(t.events.topbar.top_bar_VIEW_menu_click,{category:"toolbar",status:e.isToolBarEnabled?0:1}),e.isToolBarEnabled&&e.sendBi(t.events.toolbar.TOOL_BAR_CLOSE_CLICK,{origin:"tools_top_bar"}),e.toggleToolBar()}},{key:o.RULERS,automationId:"list-item-rulers",isCheckbox:!0,checkboxValue:e.isRulersEnabled,leftTitle:"TOPBAR_VIEW_RULERS1",rightTitle:"TOPBAR_VIEW_RULERS_TITLE1",description:"TOPBAR_VIEW_RULERS_BODY1",symbolName:"menubarRulersPromotion_v2",onClick:function(){e.sendBi(t.events.topbar.top_bar_VIEW_menu_click,{category:"rulers",status:e.isRulersEnabled?0:1,editor_view_mode:e.deviceType}),e.toggleRulers()}},{key:o.GUIDELINES,automationId:"list-item-guidelines",isCheckbox:!0,checkboxValue:e.isGuidelinesEnabled,isDisabled:e.isMobileEditor,leftTitle:"TOPBAR_VIEW_GRIDLINES_TITLE",rightTitle:"TOPBAR_VIEW_GRIDLINES_TITLE",description:"TOPBAR_VIEW_GRIDLINES_BODY",symbolName:"menubarGuidesPromotion_v2",onClick:function(){e.sendBi(t.events.topbar.top_bar_VIEW_menu_click,{category:"guidelines",status:e.isGuidelinesEnabled?0:1}),e.toggleGuidelines()}},{key:o.SNAP,automationId:"list-item-snap",isCheckbox:!0,checkboxValue:e.isSnapToEnabled,leftTitle:"TOPBAR_VIEW_SNAP_TITLE",rightTitle:"TOPBAR_VIEW_SNAP_TITLE",description:"TOPBAR_VIEW_SNAP_BODY",symbolName:"menubarSnapToObjectPromotion_v2",onClick:function(){e.sendBi(t.events.topbar.top_bar_VIEW_menu_click,{category:"snap",status:e.isSnapToEnabled?0:1}),e.toggleSnapTo()}},{key:o.DEVELOPER_MODE_SEPARATOR,isSeparator:!0,isEnabled:e.isDeveloperModeEnabled,isToolsMenu:!0},{key:o.DEVELOPER_MODE_TITLE,automationId:"list-item-developer-mode",isTitleOnly:!0,isEnabled:e.isDeveloperModeEnabled,isChecklist:!1,willClickClosePanel:!e.developerModeFirstTime,leftTitle:"WixCode_Developer_Mode_Title"},{key:o.PROPERTIES_TOOLBAR,automationId:"list-item-properties-toolbar",isCheckbox:!0,checkboxValue:e.isDeveloperToolBarEnabled,isNested:!1,leftTitle:"TOPBAR_VIEW_DEVELOPER_MODE_PROPERTIES_PANEL_TITLE",rightTitle:"TOPBAR_VIEW_DEVELOPER_MODE_PROPERTIES_PANEL_TITLE",description:"TOPBAR_VIEW_DEVELOPER_MODE_PROPERTIES_PANEL_BODY",symbolName:"menuBarDeveloperModeProperties_v2",condition:function(){return e.isDeveloperModeEnabled},onClick:function(){e.sendBi(t.events.topbar.top_bar_VIEW_menu_click,{category:"properties_panel",status:e.isDeveloperToolBarEnabled?0:1}),e.toggleDeveloperToolBar()}},{key:o.HIDDEN_ELEMENTS,automationId:"list-item-hidden-elements",isCheckbox:!0,checkboxValue:e.isDeveloperHiddenComponentsEnabled,isNested:!1,leftTitle:"TOPBAR_VIEW_DEVELOPER_MODE_HIDDEN_ELEMENTS_TITLE",rightTitle:"TOPBAR_VIEW_DEVELOPER_MODE_HIDDEN_ELEMENTS_TITLE",description:"TOPBAR_VIEW_DEVELOPER_MODE_HIDDEN_ELEMENTS_BODY",symbolName:"menuBarDeveloperModeHiddenElements_v2",condition:function(){return e.isDeveloperModeEnabled},onClick:function(){e.sendBi(t.events.topbar.top_bar_VIEW_menu_click,{category:"show_hidden_components",status:e.isDeveloperHiddenComponentsEnabled?0:1}),e.toggleDeveloperHiddenComponents()}}]}}),define("topBar/menuBar/menuBarListItems/getHelpMenuItems",["lodash","util","coreBi","helpIds","experiment","constants"],function(n,a,r,s,e,l){"use strict";var t=l.LIVE_CHAT.WIDGET_ID,o="5a3238e6-ebe9-4aca-a7a2-1c717598e334",p="a06941d9-7683-4ced-bce3-bd2cc3c7d6e9",u="ab2c2a83-5bc0-435e-ab82-f2c1036580a7",c="editor",d="kb_shortcuts",_="seo",T="connect_domain",m=l.ROOT_COMPS.TOPBAR.HELP_MENU_ITEMS,P=l.OVERRIDDEN.EXTERNAL_LINKS;return function(i){return[{key:m.HELP_CHAT,automationId:"list-item-chat-panel",leftTitle:"Topbar_Help_LiveChat_Label",rightTitle:"Topbar_Help_LiveChat_Promotion_Title",description:"Topbar_Help_LiveChat_Promotion_Text",symbolName:"descriptive_Editor_Top Bar_Chat",onClick:function(){n.find(i.openPanels,{name:"panels.chatPanel"})?i.setPanelType("panels.chatPanel",l.PANEL_TYPES.CHAT,!0,!0,!1):i.openPanel("panels.chatPanel",{},!0),i.sendBi(r.events.liveChat.open_widget,{open_method:"click",current_platform:"Editor",lang:"en",module_name:"CHAT",source_name:"1_"+t,referral_url:window.location.href}),i.sendBi(r.events.topbar.top_bar_HELP_menu_click,{category:"help_live_chat"})},condition:function(){return a.chatManager.isAnswerWidgetInitialized()&&!e.isOpen("se_liveChat_no_panel")&&!e.isOpen("se_unifiedChatWidget")},experiment:"se_liveChat"},{key:m.HELP_CENTER,automationId:"list-item-help-center",leftTitle:"TOPBAR_HELP_EDITOR_HELP",rightTitle:"TOPBAR_HELP_CENTER_PROMOTION_TITLE",description:"TOPBAR_HELP_CENTER_PROMOTION_TEXT",symbolName:"menubarHelpCenterPromotion",onClick:function(){var e,t,o,n={panel_name:c,origin:l.BI.HELP.ORIGIN.TOPBAR,learn_more:!1};i.openHelpCenterHome((t=(e=i).isDeveloperModeEnabled?s.HELP_CENTER.PAGE_TYPES.CORVID:s.HELP_CENTER.PAGE_TYPES.DESKTOP,o=e.isDeveloperModeEnabled?s.HELP_CENTER.PAGE_TYPES.CORVID_MOBILE:s.HELP_CENTER.PAGE_TYPES.MOBILE,e.isMobileEditor?o:t),null,n),i.sendBi(r.events.topbar.top_bar_HELP_menu_click,{category:"help_center"})}},{key:m.HELP_KB_SHORTCUTS,automationId:"list-item-kb-shortcuts",leftTitle:"TOPBAR_HELP_KB_SHORTCUTS",rightTitle:"TOPBAR_HELP_QUESTION_PROMOTION_TITLE",description:"TOPBAR_HELP_QUESTION_PROMOTION_TEXT",symbolName:"menubarKeyboardShortcuts",onClick:function(){var e={panel_name:d,origin:l.BI.HELP.ORIGIN.TOPBAR,learn_more:!1};i.openHelpCenter(o,null,e),i.sendBi(r.events.topbar.top_bar_HELP_menu_click,{category:"help_kb_shortcuts"})}},{key:m.HELP_VIDEOS_SEPARATOR,isSeparator:!0},{key:m.HELP_VIDEOS,automationId:"list-item-help-videos",experiment:"se_video_help_top_bar",leftTitle:"TOPBAR_HELP_HOWTO_VIDEOS",rightTitle:"TOPBAR_HELP_HOWTO_VIDEOS_PROMOTION_TITLE",description:"TOPBAR_HELP_HOWTO_VIDEOS_PROMOTION_TEXT",symbolName:"menubarStepByStepVideo",onClick:function(){i.openPanel("panels.focusPanels.howToVideoGalleryPanel"),i.sendBi(r.events.topbar.top_bar_HELP_menu_click,{category:"help_videos"})}},{key:m.HELP_CONNECT_DOMAIN,automationId:"list-item-help-connect-domain",leftTitle:"TOPBAR_HELP_CONNECT_DOMAIN",rightTitle:"TOPBAR_HELP_CONNECT_PROMOTION_TITLE",description:"TOPBAR_HELP_CONNECT_PROMOTION_TEXT",symbolName:"menubarConnectDomain",onClick:function(){var e={panel_name:T,origin:l.BI.HELP.ORIGIN.TOPBAR,learn_more:!1};i.openHelpCenter(p,null,e),i.sendBi(r.events.topbar.top_bar_HELP_menu_click,{category:"help_connect_domain"})}},{key:m.HELP_SEO,automationId:"list-item-help-seo",leftTitle:"TOPBAR_HELP_SEO",rightTitle:"TOPBAR_HELP_SEO_PROMOTION_TITLE",description:"TOPBAR_HELP_SEO_PROMOTION_TEXT",symbolName:"menubarGettingFoundOnlineSeo",onClick:function(){var e={panel_name:_,origin:l.BI.HELP.ORIGIN.TOPBAR,learn_more:!1};i.openHelpCenter(u,null,e),i.sendBi(r.events.topbar.top_bar_HELP_menu_click,{category:"help_seo"})}},{isSeparator:!0},{key:m.HELP_TERMS_OF_USE,automationId:"list-item-terms-of-use",leftTitle:"TOPBAR_HELP_TERMS_OF_USE",rightTitle:"TOPBAR_HELP_TERMS_PROMOTION_TITLE",description:"TOPBAR_HELP_TERMS_PROMOTION_TEXT",symbolName:"menubarTermsOfUse",onClick:function(){var e=n.get(i.overriddenExternalLinks,[P.TERM_OF_USE.KEY,P.TERM_OF_USE.LINK],"about/terms-of-use"),t=""+a.serviceTopology.basePublicUrl+e,o=a.languages.getLocalizedLink(t);window.open(o),i.sendBi(r.events.topbar.top_bar_HELP_menu_click,{category:"terms_of_use"})}},{key:m.HELP_PRIVACY_POLICY,automationId:"list-item-privacy-policy",leftTitle:"TOPBAR_HELP_PRIVACY_POLICY",rightTitle:"TOPBAR_HELP_PRIVACY_PROMOTION_TITLE",description:"TOPBAR_HELP_PRIVACY_PROMOTION_TEXT",symbolName:"menubarPrivacyPolicy",onClick:function(){var e=n.get(i.overriddenExternalLinks,[P.PRIVACY.KEY,P.PRIVACY.LINK],"about/privacy"),t=""+a.serviceTopology.basePublicUrl+e,o=a.languages.getLocalizedLink(t);window.open(o),i.sendBi(r.events.topbar.top_bar_HELP_menu_click,{category:"privacy_policy"})}}]}}),define("topBar/menuBar/menuBarListItemsGetters",["experiment","constants","topBar/menuBar/menuBarListItems/getSiteMenuItems","topBar/menuBar/menuBarListItems/getSettingsMenuItems","topBar/menuBar/menuBarListItems/getToolsMenuItems","topBar/menuBar/menuBarListItems/getHelpMenuItems"],function(e,t,o,n,i,a){"use strict";var r,s=t.ROOT_COMPS.TOPBAR.MENU_BAR_TO_MENU_ITEMS_MAPPER,l=s.SITE,p=s.SETTINGS,u=s.TOOLS,c=s.HELP;return _defineProperty(r={},l,o),_defineProperty(r,p,e.isMultiValueExperimentOpen("se_topBarSettingsMenu")?n:void 0),_defineProperty(r,u,i),_defineProperty(r,c,a),r}),define("topBar/topBarComponent/mapTopBarPropsToMenuBarItems",["lodash","constants","experiment","topBar/menuBar/menuBarListItemsGetters","util"],function(i,e,a,t,r){"use strict";var o=function(e,t,o,n){return i(e).thru(o).reject(function(e){return e.experiment&&!a.isOpen(e.experiment)}).reject(function(e){return e.condition&&!e.condition()}).thru(function(e){return r.overrideUtils.applyOverrides(e,n)}).value()},n=e.ROOT_COMPS.TOPBAR,s=n.MENU_BAR_TO_MENU_ITEMS_MAPPER,l=n.MENU_BAR_ITEMS,p=function(e){return[{key:l.SITE,automationId:"menu-bar-item-site",dropPanelAutomationId:"drop-panel-site",title:"TOPBAR_Site_Label",getCounter:function(){return e.getFeedbackNewCommentsCounter()},getListItems:function(){return o(e,l.SITE,t[s.SITE],e.overriddenSiteMenu)}},{key:l.SETTINGS,automationId:"menu-bar-item-settings",dropPanelAutomationId:"drop-panel-settings",title:"TOPBAR_NewSettings_Label",getListItems:function(){return o(e,l.SETTINGS,t[s.SETTINGS],e.overriddenSettingsMenu)},condition:function(){return a.isMultiValueExperimentOpen("se_topBarSettingsMenu")}},{key:l.TOOLS,automationId:"menu-bar-item-tools",dropPanelAutomationId:"drop-panel-tools",title:"Topbar_Tools_Label",isChecklist:!0,getListItems:function(){return o(e,l.TOOLS,t[s.TOOLS],e.overriddenToolsMenu)}},{key:l.CODE,automationId:"menu-bar-item-code",dropPanelAutomationId:"drop-panel-code",title:a.isOpen("se_corvidContentChange")?"Topbar_Corvid_Label":"Topbar_Code_Label",getOverrides:i.noop,devToolsButtonEnabled:!0},{key:l.HELP,automationId:"menu-bar-item-help",dropPanelAutomationId:"drop-panel-help",title:"TOPBAR_HELP_TOOLTIP_TITLE",getListItems:function(){return o(e,l.HELP,t[s.HELP],e.overriddenHelpMenu)}},{key:l.UPGRADE,automationId:"menu-bar-item-upgrade",title:"TOPBAR_Upgrade_Label",className:"menu-bar-upgrade-item",condition:function(){return e.isUserOwner&&!e.isSiteInWixStoreTestDrive}}]};return function(t){return i(t).thru(p).thru(function(e){return r.overrideUtils.applyOverrides(e,t.overriddenMenus)}).reject(function(e){return e.condition&&!e.condition()}).value()}}),define("topBar/wixLogo/wixLogo",["react","prop-types","util","coreBi","constants","santa-editor-symbols"],function(t,e,o,n,i,a){"use strict";var r=i.ROOT_COMPS.TOPBAR.MODES,s=function(e){return t.createElement("div",{className:"top-bar-left-wix-logo",onClick:function(){e.sendBi(n.events.topbar.top_bar_click,{category:"wix_logo",origin:e.isPreviewMode?r.PREVIEW:r.EDITOR})}},t.createElement(a.symbol,{name:"wixLogo"}))};return s.displayName="WixLogo",s.propTypes={sendBi:e.func.isRequired,isPreviewMode:e.bool.isRequired},o.hoc.renderWhenMutated(s)}),define("topBar/topBarButton/topBarButton.rt",["react","lodash","santa-editor-symbols"],function(o,e,t){"use strict";return function(){return o.createElement.apply(this,["button",{className:this.getCssClasses(),"data-aid":this.props.automationId,onClick:this.onClick,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.props.fakeLayoutItems?e.map(this.props.fakeLayoutItems,function(e,t){return o.createElement("div",{key:t,style:{width:e.width},className:this.getFakeLayoutItemCssClasses(e)},e.content)}.bind(this)):null,!this.props.customSymbolName&&this.props.symbolName?o.createElement(t.symbol,{className:"btn-symbol "+this.props.symbolClassName,key:"symbol-"+this.props.symbolName,name:this.props.symbolName}):null,this.props.customSymbol?o.createElement("div",{key:"customSymbol"},"\n        ",this.props.customSymbol,"\n    "):null,"\n\n    ",this.props.children,"\n\n    ",this.props.label?o.createElement("span",{key:"label",className:"label"},this.props.label):null])}}),define("topBar/topBarButton/topBarButton",["react","reactDOM","prop-types","topBar/topBarButton/topBarButton.rt","experiment"],function(t,n,e,i,o){"use strict";var a=function(e){function o(e){_classCallCheck(this,o);var t=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return t.getCssClasses=function(){return["top-bar-btn",t.props.className,t.props.disabled?"disabled":"",t.props.label?"":"top-bar-symbol-btn",t.props.fakeLayoutItems?"top-bar-fake-layout":""].join(" ")},t.getFakeLayoutItemCssClasses=function(e){return["fake-layout-item","fake-layout-type-"+e.type,e.className?e.className:""].join(" ")},t.onClick=function(e){t.props.disabled||(t.props.onClick(e),n.findDOMNode(t).blur())},t}return _inherits(o,t.Component),_createClass(o,[{key:"render",value:function(){return i.call(this)}}]),o}();return a.displayName="TopBarButton",a.propTypes={label:e.string,automationId:e.string,className:e.string,symbolName:e.string,customSymbol:e.element,symbolClassName:e.string,disabled:e.bool,onMouseEnter:e.func,onMouseLeave:e.func,fakeLayoutItems:e.arrayOf(e.shape({type:e.oneOf(["text","symbol"]),width:e.number,content:e.string}))},o.isOpen("se_multilingual")&&(a.propTypes.flagIconUrl=e.string),a.defaultProps={disabled:!1,className:"",symbolClassName:""},a}),define("topBar/discoveryComponent/discoveryComponentMapper",["lodash","util","wixDiscoveryLoader"],function(o,n,i){"use strict";return{mapStateToProps:function(e){var t=e.editorAPI;return{languageCode:n.languages.getLanguageCode(),metaSiteId:o.invoke(t,"dsRead.generalInfo.getMetaSiteId")||o.get(n,"editorModel.metaSiteId"),editorSessionId:n.editorSessionUtil.editorSessionId,discoveryLoaderComponent:i.default}}}}),define("topBar/discoveryComponent/discoveryComponent.rt",["react","lodash"],function(t,e){"use strict";return function(){return function(){var e=this.props.discoveryLoaderComponent;return t.createElement("div",{},this.props.discoveryLoaderComponent?t.createElement(e,{key:"discoveryLoader",origin:"editor",metaSiteId:this.props.metaSiteId,editorSessionId:this.props.editorSessionId,locale:this.props.languageCode,iconClassName:"btn-symbol",buttonClassName:"top-bar-btn top-bar-small-symbol-btn",buttonActiveClassName:"top-bar-btn-active"}):null)}.apply(this,[])}}),define("topBar/discoveryComponent/discoveryComponent",["react","prop-types","util","topBar/discoveryComponent/discoveryComponentMapper","topBar/discoveryComponent/discoveryComponent.rt"],function(o,e,t,n,i){"use strict";var a=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,o.Component),_createClass(t,[{key:"render",value:function(){return i.call(this)}}]),t}();a.displayName="DiscoveryComponent",a.propTypes={languageCode:e.string.isRequired,metaSiteId:e.string.isRequired,editorSessionId:e.string,discoveryLoaderComponent:e.func};var r=t.hoc.connect(t.hoc.STORES.EDITOR_API,n.mapStateToProps)(a);return r.pure=a,r}),define("topBar/hideToolsButton/hideToolsButton.rt",["react","lodash","experiment","baseUI","santa-editor-symbols"],function(e,t,o,n,i){"use strict";return function(){return e.createElement(n.tooltip,{value:this.props.isHidden?"Toolbars_show_hover_label":"Toolbars_hide_hover_label",key:"hideAllTools"},e.createElement("div",{onClick:function(){this.props.toggleHideTools()}.bind(this),style:{zIndex:this.props.zIndex},className:t({"hide-tools-button":!0,"tools-hidden":this.props.isHidden,"stand-out":this.props.shouldHideToolsBtnBlink}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement(i.symbol,{className:"hide-tools-symbol",name:"hideToolsArrow"})))}}),define("topBar/hideToolsButton/hideToolsButton",["react","prop-types","lodash","util","topBar/hideToolsButton/hideToolsButton.rt"],function(o,e,t,n,i){"use strict";var a=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,o.Component),_createClass(t,[{key:"render",value:function(){return i.call(this)}}]),t}();return a.displyName="HideToolsButton",a.propTypes={isHidden:e.bool.isRequired,toggleHideTools:e.func.isRequired,shouldHideToolsBtnBlink:e.bool.isRequired,zIndex:e.number},n.hoc.renderWhenMutated(a)}),define("topBar/notification/notification",["react","prop-types","util"],function(t,e,o){"use strict";var n=function(e){return t.createElement("div",{className:"top-bar-center-notification"},e.children)};return n.displayName="Notification",n.propTypes={children:e.any},o.hoc.renderWhenMutated(n)}),define("topBar/dropPanel/itemsPropTypes",["prop-types"],function(e){"use strict";return e.arrayOf(e.oneOfType([e.shape({leftTitle:e.string,rightTitle:e.string,description:e.string,onClick:e.func,symbolName:e.string,image:e.string,automationId:e.string,illustrationClassName:e.string,listItemClassName:e.string,isCheckbox:e.oneOf([!0]),willClickClosePanel:e.bool,experiment:e.string,getCounter:e.func,condition:e.func,isDisabled:e.bool,isNested:e.bool,checkBoxValue:e.bool}),e.shape({isSeparator:e.oneOf([!0]).isRequired})])).isRequired}),define("topBar/dropPanel/dropPanelIllustration.rt",["react","lodash","util","santa-editor-symbols","baseUI"],function(t,e,o,n,i){"use strict";return function(){return function(){var e=o.translate;return t.createElement("div",{className:"info-drop-panel-illustration "+this.props.className+(this.props.isDisabled?" disabled-action":""),onClick:function(e){!this.props.isDisabled&&this.props.onClick()}.bind(this,e)},t.createElement("div",{className:"symbol-container-drop-panel-illustration"},this.props.symbolName?t.createElement(n.symbol,{key:"symbol-"+this.props.symbolName,name:this.props.symbolName,className:"symbol-drop-panel-illustration"}):null,this.props.image?t.createElement("img",{key:"image",className:"img-drop-panel-illustration",src:this.props.image}):null),t.createElement("div",{className:"title-info-drop-panel-illustration"},e(this.props.title)),t.createElement("div",{className:"description-drop-panel-illustration"},this.props.translatedDescription||e(this.props.description)))}.apply(this,[])}}),define("topBar/dropPanel/dropPanelIllustration",["react","prop-types","lodash","topBar/dropPanel/dropPanelIllustration.rt"],function(o,e,t,n){"use strict";var i=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,o.Component),_createClass(t,[{key:"render",value:function(){return n.call(this)}}]),t}();return i.displayName="DropPanelIllustration",i.propTypes={title:e.string.isRequired,description:e.string.isRequired,onClick:e.func.isRequired,translateDescription:e.string,symbolName:e.string,image:e.string,className:e.string,isDisabled:e.bool},i.defaultProps={isDisabled:!1,className:""},i}),define("topBar/util/keyboardContextStack",["lodash","util"],function(o,e){"use strict";var n=[],i=e.keyboardShortcuts,a=function(t){return o.reject(n,function(e){return o(t).castArray().includes(e)})};return{pushAndSetContext:function(e){return n.push(i.getContext()),i.setContext(e),e},pushAndSetCustomContext:function(e){n.push(i.getContext());var t=o.uniqueId("DYNAMIC_CONTEXT_");return i.registerContext(t,e),i.setContext(t),t},popAndRestoreLastContext:function(e,t){e===i.getContext()&&i.setContext(n.pop()),n=a(e),t&&i.unregisterContext(e)},hasContext:function(e){return o.includes(n,e)},removeItemsAndRestoreLastContext:function(e){n=a(e),i.setContext(n.pop())}}}),define("topBar/dropPanel/dropPanelList.rt",["react","lodash","util","baseUILib","experiment"],function(a,r,n,s,e){"use strict";return function(){function o(e,t,o,n,i){return function(e,t,o,n){var i=this.getItemCounter(o);return a.createElement("li",{className:r({"drop-panel-list-item":!o.isSeparator&&!o.isTitleOnly,"drop-panel-list-item-title":o.isTitleOnly,"drop-panel-list-separator":o.isSeparator,disabled:o.isDisabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:n+"-item-drop-panel-list","data-aid":o.automationId,onClick:function(e,t,o,n,i){this.onClick(o)}.bind(this,e,t,o,n,i),onMouseEnter:function(e,t,o,n,i){this.onItemHover(n)}.bind(this,e,t,o,n,i)},o.isSeparator||o.isTitleOnly?null:a.createElement("span",{className:this.getTitleContainerCssClassList(o,n),key:"item"},t?a.createElement(s.Checkbox,{key:o.leftTitle+"-checkbox-drop-panel-list",disabled:o.isDisabled,type:"T02",label:o.leftTitle,labelAfterSymbol:!0,value:o.checkboxValue}):null,t?null:a.createElement("label",{key:"label",className:"list-item-label"},i?a.createElement("span",{className:"drop-panel-list-item-counter",key:"counter"},i):null,"\n                ",e(o.leftTitle),"\n            ")),o.isSeparator&&!o.isToolsMenu?a.createElement("hr",{key:"item",className:"drop-panel-menu-bar-separator"}):null,o.isSeparator&&o.isEnabled?a.createElement("hr",{key:"item",className:"drop-panel-menu-bar-separator"}):null,o.isTitleOnly&&o.isEnabled?a.createElement("span",{key:"item",className:"list-item-label"},"\n            ",e(o.leftTitle),"\n        "):null)}.apply(this,[e,t,o,n])}return function(){var e=n.translate,t=this.props.isChecklist;return a.createElement.apply(this,["ul",{className:r({"drop-panel-list":!0,"drop-panel-check-list":this.props.isChecklist&&!this.props.isTitleOnly}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},r.map(this.props.items,o.bind(this,e,t))])}.apply(this,[])}}),define("topBar/dropPanel/dropPanelList",["react","prop-types","lodash","util","topBar/util/keyboardContextStack","topBar/dropPanel/itemsPropTypes","topBar/dropPanel/dropPanelList.rt"],function(t,e,n,a,r,o,i){"use strict";var s=function(e){function o(e){_classCallCheck(this,o);var i=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));i.onClick=function(e){!e.isDisabled&&n.isFunction(e.onClick)&&(e.isCheckbox&&!e.willClickClosePanel||r.removeItemsAndRestoreLastContext([i.customKeyboardContext,a.keyboardShortcuts.CONTEXTS.MENU_BAR]),e.isCheckbox||i.props.closePanel(),e.onClick())},i.onItemHover=function(e){i.props.items[e].isSeparator||i.props.items[e].isTitleOnly||i.props.onItemHover(e)},i.getTitleContainerCssClassList=function(e,t){return["title-item-container-drop-panel-list",e.listItemClassName?e.listItemClassName:"",e.isDisabled?"disabled":"",t===i.props.selectedIndex?"selected":"",e.isNested?"nested":""].join(" ")};var t=function(e){var t=i.props.items,o=i.props.selectedIndex;for(n.isNull(o)&&(o=1===e?t.length-1:0);t[o=(t.length+o+e)%t.length].isSeparator;);return o};return i.getItemCounter=function(e){return e.getCounter&&e.getCounter()},i.getExtendKeyboardContext=function(){return a.keyboardShortcuts.extendContext(a.keyboardShortcuts.CONTEXTS.MENU_BAR,{up:function(e){i.onItemHover(t(-1)),e.preventDefault()},down:function(e){i.onItemHover(t(1)),e.preventDefault()},enter:function(e){var t=i.props,o=t.selectedIndex,n=t.items[o];n&&i.onClick(n),e.preventDefault()}})},i}return _inherits(o,t.Component),_createClass(o,[{key:"componentDidMount",value:function(){this.customKeyboardContext=r.pushAndSetCustomContext(this.getExtendKeyboardContext())}},{key:"componentWillUnmount",value:function(){r.popAndRestoreLastContext(this.customKeyboardContext,!0)}},{key:"render",value:function(){return i.call(this)}}]),o}();return s.displayName="DropPanelList",s.propTypes={items:o,closePanel:e.func.isRequired,selectedIndex:e.number,onItemHover:e.func},s}),define("topBar/dropPanel/dropPanel.rt",["react","lodash","util","baseUILib","topBar/dropPanel/dropPanelIllustration","topBar/dropPanel/dropPanelList"],function(t,e,o,n,i,a){"use strict";return function(){return t.createElement(n.Bubble,{className:"drop-panel-top-bar",onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,arrowAlignment:"top",contentStyle:this.bubbleContentStyle,arrowStyle:this.bubbleArrowStyle,maxWidth:750},function(){var e=this.getSelectedItem();return t.createElement("div",{className:"drop-panel-content","data-aid":this.props.automationId},t.createElement(a,{items:this.props.items,selectedIndex:this.state.selectedIndex,onItemHover:this.onItemHover,isChecklist:this.props.isChecklist,closePanel:this.props.closePanel}),t.createElement(i,{symbolName:e.symbolName,image:e.image,onClick:e.onClick,className:e.illustrationClassName,isDisabled:e.isDisabled,title:e.rightTitle,translatedDescription:e.translatedDescription,description:e.description}))}.apply(this,[]))}}),define("topBar/dropPanel/dropPanel",["react","prop-types","lodash","topBar/dropPanel/itemsPropTypes","topBar/dropPanel/dropPanel.rt"],function(t,e,o,n,i){"use strict";var a={position:"absolute",left:"calc(50% - 8px)",top:"53px"},r={position:"absolute",display:"block",left:"calc(50% - 70px)",paddingLeft:0,top:"60px"},s=function(e){function o(e){_classCallCheck(this,o);var t=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return t.state={selectedIndex:null},t.bubbleContentStyle=r,t.bubbleArrowStyle=a,t.getSelectedItem=function(){return t.props.items[t.state.selectedIndex||0]},t.onItemHover=function(e){return t.setState({selectedIndex:e})},t}return _inherits(o,t.Component),_createClass(o,[{key:"render",value:function(){return i.call(this)}}]),o}();return s.displayName="DropPanel",s.propTypes={items:n,automationId:e.string,isChecklist:e.bool,isTitleOnly:e.bool,onMouseEnter:e.func,onMouseLeave:e.func,closePanel:e.func.isRequired},s.defaultProps={isChecklist:!1},s}),define("topBar/dropPanel/dropPanelAnchor",["react","prop-types"],function(t,e){"use strict";var o=function(e){return t.createElement("div",{style:{position:"relative",height:"100%"}},e.children)};return o.displayName="DropPanelAnchor",o.propTypes={children:e.any},o}),define("topBar/dropPanel/upgradeDropPanel.rt",["react","lodash","util","baseUILib","santa-editor-symbols","topBar/dropPanel/dropPanelIllustration","experiment"],function(t,e,o,n,i,a,r){"use strict";return function(){return t.createElement(n.Bubble,{className:"upgrade-drop-panel-top-bar",onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,arrowAlignment:"top",contentStyle:this.bubbleContentStyle,arrowStyle:this.bubbleArrowStyle,maxWidth:600},function(){var e=o.translate;return t.createElement("div",{className:"drop-panel-content","data-aid":"drop-panel-upgrade"},t.createElement("div",{className:"left-section-container"},t.createElement("div",{className:"text-container"},t.createElement(n.TextLabel,{value:this.getTitle(),shouldTranslate:!1,enableEllipsis:!1,type:"T09"}),t.createElement(n.PromotionalList,{items:this.getListItems,symbol:this.getCheckSymbol})),t.createElement("div",{className:"symbol-container"},this.props.isActivePersonalSaleCampaign?t.createElement("img",{key:"dynamicPromotionalImage",src:this.getPersonalSaleCampaignImageSrc()}):null,this.props.isActivePersonalSaleCampaign?null:t.createElement(i.symbol,{key:"defaultPromotionalImage",name:"menubarUpgradePromotionDark"}))),t.createElement("div",{className:"footer-container"},this.props.isFirstSave?t.createElement("div",{key:"firstSaveFooter",className:"first-save-footer"},t.createElement(n.TextLabel,{className:"comment",value:"TOPBAR_UPGRADE_SAVE_FIRST_TEXT",type:"T07"}),t.createElement(n.Button,{automationId:"upgrade-btn-first-save",className:"btn-md light-purple",onClick:this.onSaveButtonClick},t.createElement("span",{},e("TOPBAR_UPGRADE_BUTTON_SAVE_SITE")))):null,this.props.isFirstSave?null:t.createElement("div",{key:"regularFooter",className:"regular-footer"},t.createElement(n.Button,{automationId:"upgrade-btn-compare-plans",className:"btn-md light-purple",onClick:this.onComparePlansButtonClick},t.createElement("span",{},e("TOPBAR_UPGRADE_FREE_ROW_BUTTON_1"))),t.createElement(n.Button,{automationId:"upgrade-btn-get-yearly-unlimited",className:"btn-md dark-purple",onClick:this.onGetYearlyButtonClick},t.createElement("span",{},this.getOfferButtonText())))))}.apply(this,[]))}}),define("topBar/dropPanel/upgradeDropPanel",["react","prop-types","lodash","util","santa-editor-symbols","coreBi","topBar/dropPanel/upgradeDropPanel.rt"],function(t,e,o,i,n,a,r){"use strict";var s={position:"absolute",right:"calc(50% - 8px)",top:"53px"},l={position:"absolute",display:"block",paddingLeft:"24px",paddingRight:"24px",paddingBottom:"24px",paddingTop:"30px",minWidth:"540px",top:"60px"},p=["TOPBAR_UPGRADE_FREE_US_LINE_1","TOPBAR_UPGRADE_FREE_US_LINE_2","TOPBAR_UPGRADE_FREE_US_LINE_3","TOPBAR_UPGRADE_FREE_US_LINE_4"],u=t.createElement(n.symbol,{name:"check"}),c=function(e){function n(t){_classCallCheck(this,n);var o=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.state={selectedIndex:null},o.bubbleContentStyle=l,o.bubbleArrowStyle=s,o.getListItems=p,o.getCheckSymbol=u,o.getTitle=function(){return t.isActivePersonalSaleCampaign?o.props.getPersonalSaleTranslatedLabel("TOPBAR_UPGRADE_POPUP_PERSONAL_SALE_LABEL_DYNAMIC"):i.translate("TOPBAR_UPGRADE_FREE_US_TITLE")},o.onSaveButtonClick=function(){o.props.save(),o.props.closePanel()},o.onComparePlansButtonClick=function(){o.props.sendBi(a.events.topbar.top_bar_compare_plans_click),o.props.accountUpgrade("edhtml_TOP_BAR_UPGRADE_MENU_COMPARE_PLANS")},o.onGetYearlyButtonClick=function(){var e=t.isActivePersonalSaleCampaign?"edhtml_TOP_BAR_UPGRADE_MENU_PS":"edhtml_TOP_BAR_UPGRADE_MENU_GET_YEARLY_UNLIMITED";o.props.sendBi(a.events.topbar.top_bar_get_yearly_unlimited_click),o.props.accountUpgrade(e)},o.getOfferButtonText=function(){return t.isActivePersonalSaleCampaign?o.props.getPersonalSaleTranslatedLabel("TOPBAR_UPGRADE_POPUP_PERSONAL_SALE_BUTTON_DYNAMIC"):i.translate("TOPBAR_UPGRADE_FREE_ROW_BUTTON_2")},o.getPersonalSaleCampaignSymbol=function(){return o.props.getPersonalSaleCampaignSymbolName("menubarUpgradePanel")},o.getPersonalSaleCampaignImageSrc=function(){var e=o.props.getPersonalSaleCampaignSymbolName("menubarUpgradePanel");return i.media.getMediaUrl("rEditor/topBar/"+e+".png")},o}return _inherits(n,t.Component),_createClass(n,[{key:"componentDidMount",value:function(){this.props.sendBi(a.events.topbar.upgrade_topbar_open,{type:"editor"})}},{key:"render",value:function(){return r.call(this)}}]),n}();return c.displayName="UpgradeDropPanel",c.propTypes={accountUpgrade:e.func.isRequired,save:e.func.isRequired,sendBi:e.func.isRequired,isFirstSave:e.bool.isRequired,getPersonalSaleTranslatedLabel:e.func.isRequired,getPersonalSaleCampaignSymbolName:e.func.isRequired,isActivePersonalSaleCampaign:e.bool.isRequired,closePanel:e.func.isRequired,onMouseEnter:e.func,onMouseLeave:e.func},c}),define("topBar/dropPanel/mobileDropPanel.rt",["react","lodash","util","baseUILib","topBar/dropPanel/dropPanelIllustration"],function(e,t,o,n,i){"use strict";return function(){return e.createElement(n.Bubble,{className:"drop-panel-top-bar drop-panel-mobile",onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,arrowAlignment:"top",contentStyle:this.bubbleContentStyle,arrowStyle:this.bubbleArrowStyle,maxWidth:750},e.createElement("div",{className:"drop-panel-content","data-aid":"drop-panel-switch-mode"},e.createElement("div",{className:"drop-panel-mobile-controls"},e.createElement(n.Composites.RadioButtonsWithIllustration,{},e.createElement(n.RadioButtonsWithIllustration,{value:this.props.isMobileEditor?"mobile":"desktop",options:this.radioOptions,onChange:this.onRadioChange})),e.createElement("div",{className:"drop-panel-mobile-controls-bottom"},e.createElement(n.Divider,{}),e.createElement(n.Composites.ToggleSwitch,{},e.createElement(n.ToggleSwitch,{value:this.props.isMobileOptimized,label:"TOPBAR_MobileDesktop_MobileOptimized",onChange:this.toggleMobileOptimized})))),e.createElement(i,{image:this.getImageSrc(),onClick:t.noop,title:"TOPBAR_MOBILE_PROMOTION_TITLE",description:"TOPBAR_MOBILE_PROMOTION_BODY"})))}}),define("topBar/dropPanel/mobileDropPanel",["react","prop-types","lodash","util","santa-editor-symbols","topBar/util/keyboardContextStack","coreBi","constants","topBar/dropPanel/mobileDropPanel.rt"],function(t,e,a,r,o,n,s,i,l){"use strict";var p=i.ROOT_COMPS.TOPBAR.MODES,u={position:"absolute",right:"calc(50% - 8px)",top:"53px"},c={position:"absolute",display:"block",minHeight:"298px",right:"calc(50% - 70px)",paddingLeft:0,top:"60px"},d=[{text:"TOPBAR_MobileDesktop_Desktopview",image:t.createElement(o.symbol,{name:"desktop_v2"}),value:"desktop"},{text:"TOPBAR_MobileDesktop_MobileView",image:t.createElement(o.symbol,{name:"mobile_v2"}),value:"mobile"}],_=function(e){function i(e){_classCallCheck(this,i);var o=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));o.nextEditorMode=o.props.isMobileEditor?"mobile":"desktop";var t="topBarLeftModeSwitch"===e.topBarMobileExposureExperimentValue?{left:"calc(50% - 70px)",right:""}:null;o.bubbleContentStyle=a.assign({},c,t),o.bubbleArrowStyle=u,o.radioOptions=d;var n=r.browserUtil.getDevicePixelRatio();return o.getImageSrc=function(){return e=2<=n?"mobileDesktopIllustration@x2.png":"mobileDesktopIllustration.png",r.media.getMediaUrl("rEditor/topBar/"+e);var e},o.toggleMobileOptimized=function(){var e=!o.props.isMobileOptimized,t=o.props.isPreviewMode?p.PREVIEW:p.EDITOR;o.props.sendBi(s.events.topbar.mobile_view_mode_toggle,{origin:t,status:e?1:0}),o.props.setMobileOptimizedSite(e)},o.setEditorMode=function(){o.props.setEditorMode("mobile"===o.nextEditorMode);var e=o.props.isPreviewMode?s.events.topbar.top_bar_preview_page_editor_view_mode_click:s.events.topbar.top_bar_editor_view_mode_click;o.props.sendBi(e,{editor_view_mode:o.nextEditorMode}),o.props.sendBi(s.events.topbar.editor_view_mode_switch,{origin:"site_menu",mode:o.nextEditorMode})},o.onRadioChange=function(e){o.nextEditorMode!==e&&(o.nextEditorMode=e),o.props.closePanel()},o.getKeyboardShortcuts=function(){return{esc:function(){o.props.closePanel()},enter:function(e){e.preventDefault()}}},o}return _inherits(i,t.Component),_createClass(i,[{key:"componentDidMount",value:function(){this.customKeyboardContext=n.pushAndSetCustomContext(this.getKeyboardShortcuts())}},{key:"componentWillUnmount",value:function(){n.popAndRestoreLastContext(this.customKeyboardContext,!0);var e=this.props.isMobileEditor&&"desktop"===this.nextEditorMode,t=!this.props.isMobileEditor&&"mobile"===this.nextEditorMode;(e||t)&&this.setEditorMode()}},{key:"render",value:function(){return l.call(this)}}]),i}();return _.displayName="MobileDropPanel",_.propTypes={onMouseEnter:e.func,onMouseLeave:e.func,closePanel:e.func.isRequired,sendBi:e.func.isRequired,setMobileOptimizedSite:e.func.isRequired,setEditorMode:e.func.isRequired,isMobileEditor:e.bool,isPreviewMode:e.bool,topBarMobileExposureExperimentValue:e.string,isMobileOptimized:e.bool},_}),define("topBar/dropPanel/textAndLinkDropPanel.rt",["react","lodash","util","baseUILib"],function(t,e,o,n){"use strict";return function(){return t.createElement(n.Bubble,{className:"drop-panel-top-bar text-and-link-drop-panel-top-bar",onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,arrowAlignment:"top",contentStyle:this.bubbleContentStyle,arrowStyle:this.bubbleArrowStyle,maxWidth:750},function(){var e=o.translate;return t.createElement("div",{className:"drop-panel-content"},t.createElement(n.TextLabel,{className:"drop-panel-title",value:this.props.dropPanelData.title,type:"T03"}),t.createElement(n.RichText,{className:"drop-panel-body"},t.createElement("span",{},e(this.props.dropPanelData.body)),this.props.dropPanelData.keyText?t.createElement("span",{className:"drop-panel-body-autosave-keyText",key:"autosaveTooltipShortcut"},e(this.props.dropPanelData.keyText)):null,this.props.dropPanelData.linkText?t.createElement("a",{key:"link",className:"drop-panel-link",onClick:this.props.dropPanelData.linkAction},e(this.props.dropPanelData.linkText)):null))}.apply(this,[]))}}),define("topBar/dropPanel/textAndLinkDropPanel",["react","prop-types","lodash","topBar/dropPanel/textAndLinkDropPanel.rt"],function(t,e,n,i){"use strict";var a={position:"absolute",right:"calc(50% - 8px)",top:"53px"},r={position:"absolute",display:"block",right:"calc(50% - 120px)",top:"60px"},o=function(e){function o(e){_classCallCheck(this,o);var t=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return t.bubbleContentStyle=n.assign({},r,n.get(e,"bubbleStyleOverrides.content",{})),t.bubbleArrowStyle=a,t}return _inherits(o,t.Component),_createClass(o,[{key:"render",value:function(){return i.call(this)}}]),o}();return o.displayName="TextAndLinkDropPanel",o.propTypes={dropPanelData:e.shape({body:e.string.isRequired,title:e.string,keyText:e.string,linkText:e.string,linkAction:e.func}).isRequired,bubbleStyleOverrides:e.shape({content:e.object,arrow:e.object}),onMouseEnter:e.func,onMouseLeave:e.func},o}),define("topBar/dropPanel/languageRow.rt",["react","lodash","baseUILib","util"],function(o,e,n,i){"use strict";return function(e,t){return o.createElement("div",{className:"languageRow"+(e.isSelected?" languageRowSelected":""),onClick:e.onSelect},o.createElement("div",{className:"languageRowFlag"},o.createElement("div",{className:"flag-icon"},o.createElement("img",{src:e.flagUrl}))),o.createElement("div",{className:"languageRowTextContainer"},o.createElement("div",{},"\n      ",e.languageName,"\n    "),o.createElement("div",{className:"languageRowCode"},"\n      ",e.languageCode,"\n    ")),e.isPrimary?o.createElement("div",{className:"main-language-indicator",key:"mainLangBadge"},"\n    ",i.translate("SiteLanguages_Panel_Label_Main"),"\n  "):null,e.isPrimary?null:o.createElement("div",{className:"languageRowSwitch",onClick:function(e){return e.stopPropagation()},key:"publishToggle"},o.createElement(n.Composites.ToggleSwitch,{className:"languageRowSwitch"},o.createElement(n.Tooltip,{content:i.translate("SiteLanguages_Panel_Show_Language_Tooltip").replace("{{language}}",e.languageName),shouldTranslate:!1,marginRight:60,disabled:e.published},o.createElement(n.ToggleSwitch,{animated:!0,value:e.published,shouldTranslate:!1,label:i.translate(e.published?"SiteLanguages_Panel_Label_Visible":"SiteLanguages_Panel_Label_Hidden"),labelType:"T12",onChange:e.onChange,size:"MEDIUM"})))))}}),define("topBar/dropPanel/languageRow",["prop-types","topBar/dropPanel/languageRow.rt"],function(e,t){"use strict";var o=function(e){return t(e)};return o.protoTypes={isPrimary:e.bool.isRequired,published:e.bool.isRequired,isSelected:e.bool,flagUrl:e.string.isRequired,languageName:e.string.isRequired,languageCode:e.string.isRequired,onSelect:e.func,onChange:e.func},o}),define("topBar/dropPanel/languageDropPanel.rt",["react","lodash","baseUI","baseUILib","util","experiment","topBar/dropPanel/languageRow"],function(n,e,t,i,o,a,r){"use strict";return function(){return n.createElement(i.Bubble,{className:"drop-panel-top-bar drop-panel-language-bubble",arrowAlignment:"top",contentStyle:this.bubbleContentStyle,arrowStyle:this.bubbleArrowStyle,onMouseLeave:this.props.onMouseLeave,maxWidth:750},n.createElement("div",{className:"click-outside-overlay",onClick:this.props.closeHandle}),n.createElement.apply(this,["div",{className:"languages-panel-container",key:"MLTopBarDropDown",onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},a.isOpen("se_multilingualDropPanelToggles")?null:e.map(this.getLanguageList(),function(e,t){var o=this;return n.createElement(i.SortByDragListItemRow,{value:{label:e.name,value:this.getLanguageSubText(e)},key:e.name,contentBefore:this.getFlagIcon(e),contentAfter:this.getLanguageStatus(e),draggable:!1,withDragHandle:!1,isSelected:this.isSelected(e),select:function(){return o.setCurrentLanguage(e)}})}.bind(this)),a.isOpen("se_multilingualDropPanelToggles")?e.map(this.getLanguageList(),function(t,e){var o=this;return n.createElement(r,{key:t.name,isPrimary:this.isPrimaryLanguage(t),isSelected:this.isSelected(t),flagUrl:this.getFlagUrl(t),languageName:t.name,languageCode:this.getLanguageSubText(t),published:!this.isHidden(t),onSelect:function(){return o.setCurrentLanguage(t)},onChange:function(e){return o.updateLanguageStatus(t,e)}})}.bind(this)):null,n.createElement("div",{className:"manage-panel-button"},n.createElement(i.Composites.ButtonLarge,{},n.createElement(i.Button,{onClick:function(){this.onManagePanelButtonClick()}.bind(this)},o.translate("LangMenu_Manager_Button_Manage_Lang"))))]))}}),define("topBar/dropPanel/languageDropPanelMapper",["lodash","util","stateManagement","multilingual","constants","experiment"],function(i,a,r,e,t,o){"use strict";var s=r.editorPlugins.userPreferences.selectors.getSiteUserPreferences,l=t.USER_PREFS.MULTILINGUAL.PUBLISH_SUCCESS_PANEL.DONT_SHOW_AGAIN,p=t.USER_PREFS.MULTILINGUAL.UNPUBLISH_PANEL.DONT_SHOW_AGAIN;return{mapStateToProps:function(e){var t=e.editorAPI,o=e.state,n=e.dsRead,i=n.language;return{currentLanguageCode:i.current.get(),originalLanguage:i.original.get(),translationLanguages:i.get(),isEnabled:i.multilingual.isEnabled(),siteId:n.generalInfo.getSiteId(),didShowPublishSuccessPanel:s(l)(o),didShowUnpublishPanel:s(p)(o),isPreviewMode:t.preview.isInPreviewMode()}},mapDispatchToProps:function(n){return{setCurrentLanguage:function(e){return n(r.multilingual.actions.setCurrentLanguageThunk(e))},startLanguageChange:function(e){return n(r.multilingual.actions.startLanguageChange(e))},updateLanguageStatus:function(e,t){return n(r.multilingual.actions.updateLanguageStatusThunk(e,t))},closeOpenedPanels:function(){return n(r.panels.actions.closeOpenedPanels())},deselectAll:function(){return n(r.selection.actions.clearSelectedComponents())},sendBI:function(e,t,o){return n(r.bi.actions.event(e,i.assign({esi:a.editorModel.editorSessionId,site_id:o},t)))},openUnpublishPanel:function(e){return n(r.panels.actions.updateOrOpenPanel("panels.focusPanels.languageUnpublishPanel",{lang:e},!1))},openPublishSuccessPanel:function(e){return n(r.panels.actions.updateOrOpenPanel("panels.focusPanels.languagePublishSuccessPanel",{languageName:e},!1))},openPanel:function(){return o.isOpen("se_fixMultilingualInstallation")?n(r.multilingual.actions.notifyMultilingualAppToOpen()):n(r.panels.actions.updateOrOpenPanel(e.panelName,e.panelOptions))}}}}}),define("topBar/dropPanel/languageDropPanel",["react","prop-types","lodash","coreBi","util","topBar/dropPanel/languageDropPanel.rt","topBar/dropPanel/languageDropPanelMapper","coreMultilingual","constants","baseUILib","santa-editor-symbols"],function(t,e,n,i,a,r,o,s,l,p,u){"use strict";var c=l.MULTILINGUAL,d=c.LANGUAGE_STATUSES,_=c.keyboardContextKey,T={position:"absolute",right:"calc(50% - 8px)",top:"53px"},m={position:"absolute",display:"block",top:"60px",padding:0,overflowY:"auto",maxHeight:"calc(100vh - 68px)"},P=function(e){function o(e){_classCallCheck(this,o);var t=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return t.bubbleContentStyle=m,t.bubbleArrowStyle=T,t}return _inherits(o,t.Component),_createClass(o,[{key:"componentDidMount",value:function(){this.registerKeyboardShortcuts(),this.lastKeyboardContext=a.keyboardShortcuts.getContext(),a.keyboardShortcuts.getContext(_)}},{key:"componentWillUnmount",value:function(){a.keyboardShortcuts.setContext(this.lastKeyboardContext)}},{key:"setCurrentLanguage",value:function(e){e.languageCode!==this.props.currentLanguageCode&&(this.props.closeOpenedPanels(),this.props.deselectAll(),this.props.isPreviewMode?this.props.setCurrentLanguage(e.languageCode):this.props.startLanguageChange(e.languageCode),this.props.sendBI(i.events.multilingual.top_bar_drop_panel_choose_lang,{lang:e.languageCode,is_primary:e.languageCode===this.props.originalLanguage.languageCode},this.props.siteId))}},{key:"updateLanguageStatus",value:function(e,t){var o=this,n={lang:e.languageCode,origin:"editor_language_drop_panel"};t?(this.props.sendBI(i.events.multilingual.top_bar_drop_panel_publish_lang,n,this.props.siteId),this.props.updateLanguageStatus(e.code,d.ACTIVE).then(function(){o.props.didShowPublishSuccessPanel||o.props.openPublishSuccessPanel(e.name)})):this.props.didShowUnpublishPanel?(this.props.sendBI(i.events.multilingual.top_bar_drop_panel_unpublish_lang,n,this.props.siteId),this.props.updateLanguageStatus(e.code,d.INACTIVE)):this.props.openUnpublishPanel(e)}},{key:"getLanguageList",value:function(){return n.concat(this.props.originalLanguage,this.props.translationLanguages)}},{key:"getFlagUrl",value:function(e){return s.utils.getFlagIconUrl(a.serviceTopology.scriptsLocationMap["linguist-flags"],s.flagCountryIconType.circle,e.countryCode)}},{key:"isHidden",value:function(e){return e.status!==d.ACTIVE}},{key:"isSelected",value:function(e){return e.languageCode===this.props.currentLanguageCode}},{key:"isPrimaryLanguage",value:function(e){return e.languageCode===this.props.originalLanguage.languageCode}},{key:"onManagePanelButtonClick",value:function(){this.props.openPanel(),this.props.sendBI(i.events.multilingual.manage_languages,{source:"manage_languages_top_bar_drop_menu"},this.props.siteId)}},{key:"registerKeyboardShortcuts",value:function(){var e=this,t={esc:function(){e.props.closeHandle()}};a.keyboardShortcuts.registerContext(_,t)}},{key:"getFlagIcon",value:function(e){return t.createElement("div",{className:"flag-icon"},t.createElement("img",{src:this.getFlagUrl(e),alt:""}))}},{key:"getLanguageStatus",value:function(e){return this.isHidden(e)?t.createElement(p.Tooltip,{content:"LangMenu_Manager_Panel_Activate_Tooltip",key:"lang-status-tooltip"},t.createElement(u.symbol,{name:"quickActionsHide",className:"language-status"})):this.isPrimaryLanguage(e)?t.createElement("div",{className:"main-language-indicator"},a.translate("SiteLanguages_Panel_Label_Main")):null}},{key:"getLanguageSubText",value:function(e){return e.code.toUpperCase()}},{key:"render",value:function(){return r.call(this)}}]),o}();P.displayName="editorLanguagePanel",P.propTypes={currentLanguageCode:e.string,originalLanguage:e.object,translationLanguages:e.arrayOf(e.object),isEnabled:e.bool.isRequired,isPreviewMode:e.bool.isRequired,didShowPublishSuccessPanel:e.bool,didShowUnpublishPanel:e.bool,siteId:e.string.isRequired,setCurrentLanguage:e.func.isRequired,startLanguageChange:e.func.isRequired,closeOpenedPanels:e.func.isRequired,deselectAll:e.func.isRequired,sendBI:e.func.isRequired,openPanel:e.func.isRequired,closeHandle:e.func,onMouseLeave:e.func},P.defaultProps={closeHandle:n.noop};var b=a.hoc.connect(a.hoc.STORES.EDITOR_API,o.mapStateToProps,o.mapDispatchToProps)(P);return b.pure=P,b}),define("topBar/dropPanel/dynamicDropPanel.rt",["react","lodash","util","baseUILib"],function(e,t,o,n){"use strict";return function(){return e.createElement(n.Bubble,{className:"dynamic-drop-panel-top-bar",onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,arrowAlignment:"top",contentStyle:this.bubbleContentStyle,arrowStyle:this.bubbleArrowStyle,maxWidth:750},this.props.panelPath?e.createElement(o.lazyComponent,{moduleName:this.props.panelPath,key:this.props.panelPath}):null)}}),define("topBar/dropPanel/dynamicDropPanel",["react","prop-types","lodash","topBar/dropPanel/dynamicDropPanel.rt"],function(t,e,n,i){"use strict";var a={position:"absolute",right:"calc(50% - 8px)",top:"53px"},r={position:"absolute",display:"block",right:"calc(50% - 120px)",top:"60px"},o=function(e){function o(e){_classCallCheck(this,o);var t=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return t.bubbleContentStyle=n.defaults({},n.get(e,"bubbleStyleOverrides.content"),r),t.bubbleArrowStyle=n.defaults({},n.get(e,"bubbleStyleOverrides.arrow"),a),t}return _inherits(o,t.Component),_createClass(o,[{key:"render",value:function(){return i.call(this)}}]),o}();return o.displayName="DynamicDropPanel",o.propTypes={panelPath:e.string.isRequired,bubbleStyleOverrides:e.shape({content:e.object,arrow:e.object}),onMouseEnter:e.func,onMouseLeave:e.func},o}),define("topBar/dropPanel/codeDropPanel.rt",["react","lodash","util","baseUILib","santa-editor-symbols","topBar/dropPanel/dropPanelIllustration"],function(i,t,a,r,s,e){"use strict";return function(){return i.createElement(r.Bubble,{className:"code-drop-panel-top-bar",onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,arrowAlignment:"top",contentStyle:this.bubbleContentStyle,arrowStyle:this.bubbleArrowStyle,maxWidth:600},function(){var e=a.translate;return i.createElement("div",{className:"drop-panel-content","data-aid":"drop-panel-code"},i.createElement("div",{className:"header-container"},i.createElement(r.TextLabel,{value:this.getTitle(),shouldTranslate:!1,enableEllipsis:!1,type:"T09"})),i.createElement("div",{className:"middle-container"},i.createElement("div",{className:"text-container"},i.createElement(r.TextLabel,{className:"subtitle",value:this.getSubTitle(),type:"T06",shouldTranslate:!1}),this.props.isDeveloperModeEnabled?null:i.createElement(r.PromotionalList,{key:"title-dev-mode-disabled",items:this.getOffListItems,symbol:this.getCheckSymbol}),this.props.isDeveloperModeEnabled?i.createElement.apply(this,["div",{className:"text-link-list",key:"title-dev-mode-enabled"},t.map(this.getCodeOnListItems(),function(e,t,o){var n=this;return i.createElement("div",{className:"text-link-list-item",key:"item"+o},i.createElement("div",{className:"link-symbol-container",onClick:function(){return n.navigateToLink(t)}},i.createElement(s.symbol,{key:"link_icon",name:"link_icon"})),i.createElement("div",{className:"text-link"},i.createElement(r.RichText,{type:"T02"},i.createElement("a",{onClick:function(){return n.navigateToLink(t)}},a.translate(t.text)))))}.bind(this,e))]):null),i.createElement("div",{className:"symbol-container"},i.createElement(s.symbol,{key:"dynamicPromotionalImage",name:this.getExposureSymbolName()}))),this.props.devToolsButtonEnabled?i.createElement("div",{className:"footer-container",key:"dev-tools-button-enabled"},i.createElement("div",{key:"regularFooter",className:"regular-footer"},i.createElement(r.Button,{automationId:"code-btn-code-on",className:this.getButtonClass(),onClick:this.devToolsButtonClick},i.createElement("span",{},this.getButtonText())))):null)}.apply(this,[]))}}),define("topBar/dropPanel/codeDropPanel",["react","prop-types","lodash","constants","util","santa-editor-symbols","coreBi","topBar/dropPanel/codeDropPanel.rt","wixData"],function(t,e,o,i,a,n,r,s,l){"use strict";var p={position:"absolute",right:"calc(50% - 8px)",top:"53px"},u={position:"absolute",display:"block",paddingLeft:"24px",paddingRight:"24px",paddingBottom:"24px",paddingTop:"24px",minWidth:"516px",minHeight:"225px",top:"60px"},c=["WixCode_DeveloperTools_BuildDatabase_Line","WixCode_DeveloperTools_RepeatLayout_Line","WixCode_DeveloperTools_CustomInput_Line","WixCode_DeveloperTools_Behavior_Line"],d=[{item_name:"Documentation",url:a.translate("Wixcode_Exposure_Link_Resources"),text:"WixCode_TreeView_FileTree_QuickActions_Documentation"},{item_name:"API Reference",url:a.translate("Wixcode_Exposure_Link_API_Reference"),text:"WixCode_TreeView_FileTree_QuickActions_API_Reference"},{item_name:"Forum",url:a.translate("Wixcode_Exposure_Link_Forum"),text:"WixCode_TreeView_FileTree_QuickActions_Forum"}],_=t.createElement(n.symbol,{name:"check"}),T=a.translate("WixCode_AdvancedCapabilities_Title"),m=a.translate("WixCode_Resources_Documentation_Line"),P=a.translate("WixCode_DeveloperTools_On_Line"),b=a.translate("WixCode_DeveloperTools_Off_Button"),E=a.translate("WixCode_DeveloperTools_On_Button"),g=function(e){function n(t){_classCallCheck(this,n);var o=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.state={selectedIndex:null},o.bubbleContentStyle=u,o.bubbleArrowStyle=p,o.getOffListItems=c,o.getCodeOnListItems=function(){return o.props.overrides[i.ROOT_COMPS.TOPBAR.CODE_MENU_ITEMS.CODE_ON_LIST_ITEMS]||d},o.getCheckSymbol=_,o.getTitle=function(){return o.props.overrides[i.ROOT_COMPS.TOPBAR.CODE_MENU_ITEMS.CODE_HEADER]||T},o.getSubTitle=function(){return o.props.overrides[i.ROOT_COMPS.TOPBAR.CODE_MENU_ITEMS.CODE_SUB_HEADER]||(o.props.isDeveloperModeEnabled?m:P)},o.getButtonClass=function(){return o.props.isDeveloperModeEnabled?"btn-confirm-secondary":"btn-confirm-primary"},o.getExposureSymbolName=function(){return o.props.overrides[i.ROOT_COMPS.TOPBAR.CODE_MENU_ITEMS.CODE_SYMBOL]||"exposeCodeMenuBar"},o.navigateToLink=function(e){t.sendBi(r.events.topbar.top_bar_WIXCODE_resources_clicked,{esi:a.editorModel.editorSessionId,item_name:e.item_name}),window.open(e.url)},o.devToolsButtonClick=function(){t.sendBi(r.events.topbar.top_bar_CODE_menu_click,null,function(e){return{category:"dev_mode",origin:"manual",status:!o.props.isDeveloperModeEnabled,is_data_on:l.isDataModeOn(e)}}),a.fedopsLogger.interactionStarted(a.fedopsLogger.INTERACTIONS.CODE_TOP_BAR_TOGGLE),t.toggleDeveloperMode()},o.getButtonText=function(){return o.props.isDeveloperModeEnabled?b:E},o}return _inherits(n,t.Component),_createClass(n,[{key:"render",value:function(){return s.call(this)}}]),n}();return g.displayName="CodeDropPanel",g.propTypes={sendBi:e.func.isRequired,isDeveloperModeEnabled:e.bool.isRequired,toggleDeveloperMode:e.func.isRequired,devToolsButtonEnabled:e.bool.isRequired,onMouseEnter:e.func,onMouseLeave:e.func,overrides:e.object},g.defaultProps={overrides:{}},g}),define("topBar/dropPanel/codeDropPanelCorvid.rt",["react","lodash","util","baseUILib","santa-editor-symbols","topBar/dropPanel/dropPanelIllustration"],function(i,o,a,r,s,e){"use strict";return function(){return i.createElement(r.Bubble,{className:"corvid-drop-panel-top-bar",onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,arrowAlignment:"top",contentStyle:this.bubbleContentStyle,arrowStyle:this.bubbleArrowStyle,maxWidth:600},function(){var e=this,t=a.translate;return i.createElement("div",{className:"drop-panel-content","data-aid":"drop-panel-code"},i.createElement("div",{className:"header-container"},i.createElement(r.TextLabel,{value:this.getTitle(),shouldTranslate:!1,enableEllipsis:!1,type:"T09"})),i.createElement("div",{className:"middle-container"},i.createElement("div",{className:"text-container"},i.createElement(r.TextLabel,{className:"subtitle",value:this.getSubTitle(),type:"T07",shouldTranslate:!1}),this.props.isDeveloperModeEnabled?null:i.createElement(r.PromotionalList,{key:"title-dev-mode-disabled",items:this.getOffListItems,symbol:this.getCheckSymbol}),this.props.isDeveloperModeEnabled?i.createElement.apply(this,["div",{className:"text-link-list",key:"title-dev-mode-enabled"},o.map(this.getCodeOnListItems(),function(e,t,o){var n=this;return i.createElement("div",{className:"text-link-list-item",key:"item"+o},i.createElement("div",{className:"link-symbol-container",onClick:function(){return n.navigateToLink(t)}},i.createElement(s.symbol,{key:"link_icon",name:"link_icon"})),i.createElement("div",{className:"text-link"},i.createElement(r.RichText,{type:"T02"},i.createElement("a",{onClick:function(){return n.navigateToLink(t)}},a.translate(t.text)))))}.bind(this,t))]):null),i.createElement("div",{className:"symbol-container"},i.createElement(s.symbol,{key:"dynamicPromotionalImage",name:this.getExposureSymbolName()}))),this.props.devToolsButtonEnabled?i.createElement("div",{className:"footer-container",key:"dev-tools-button-enabled"},i.createElement("div",{key:"regularFooter",className:"regular-footer"},i.createElement(r.Button,{automationId:"code-btn-code-on",className:this.getButtonClass(),onClick:this.devToolsButtonClick},i.createElement("span",{},this.getButtonText()))),this.props.isDeveloperModeEnabled?i.createElement("div",{key:"enabledFooter",className:"enabled-footer"},i.createElement(r.Divider,{className:"footer-divider",long:!0}),i.createElement("div",{key:"enabledTextContainer",className:"enabled-text-container"},i.createElement(r.TextLabel,{className:"enabled-footer-text",value:"Corvid_DropMenu_Teamwork_Text",type:"T02"}),i.createElement(r.RichText,{className:"enabled-footer-link",type:"T02"},i.createElement("a",{onClick:function(){return e.navigateToLink({url:a.translate("Corvid_DropMenu_Teamwork_URL")})}},a.translate("Corvid_DropMenu_Teamwork_Link"))))):null):null)}.apply(this,[]))}}),define("topBar/dropPanel/codeDropPanelCorvid",["react","prop-types","lodash","constants","util","santa-editor-symbols","coreBi","topBar/dropPanel/codeDropPanelCorvid.rt","wixData"],function(t,e,o,i,a,n,r,s,l){"use strict";var p={position:"absolute",right:"calc(50% - 8px)",top:"53px"},u={position:"absolute",display:"block",padding:"0",minWidth:"516px",minHeight:"225px",top:"60px"},c=["Corvid_DropMenu_Bullet1","Corvid_DropMenu_Bullet2","Corvid_DropMenu_Bullet3","Corvid_DropMenu_Bullet4"],d=[{item_name:"API Reference",url:a.translate("Corvid_DropMenu_API_URL"),text:"Corvid_DropMenu_API_Label"},{item_name:"Articles",url:a.translate("Corvid_DropMenu_Articles_URL"),text:"Corvid_DropMenu_Articles_Label"},{item_name:"Video Tutorials",url:a.translate("Corvid_DropMenu_Videos_URL"),text:"Corvid_DropMenu_Videos_Label"},{item_name:"Forum",url:a.translate("Corvid_DropMenu_Forum_URL"),text:"Corvid_DropMenu_Forum_Label"}],_=t.createElement(n.symbol,{name:"check"}),T=a.translate("Corvid_DropMenu_Title"),m=a.translate("Corvid_Resources_Documentation_Line"),P=a.translate("Corvid_DropMenu_Subtitle"),b=a.translate("Corvid_DropMenu_Off_Button"),E=a.translate("Corvid_DropMenu_On_Button"),g=function(e){function n(t){_classCallCheck(this,n);var o=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return o.state={selectedIndex:null},o.bubbleContentStyle=u,o.bubbleArrowStyle=p,o.getOffListItems=c,o.getCodeOnListItems=function(){return o.props.overrides[i.ROOT_COMPS.TOPBAR.CODE_MENU_ITEMS.CODE_ON_LIST_ITEMS]||d},o.getCheckSymbol=_,o.getTitle=function(){return o.props.overrides[i.ROOT_COMPS.TOPBAR.CODE_MENU_ITEMS.CODE_HEADER]||T},o.getSubTitle=function(){return o.props.overrides[i.ROOT_COMPS.TOPBAR.CODE_MENU_ITEMS.CODE_SUB_HEADER]||(o.props.isDeveloperModeEnabled?m:P)},o.getButtonClass=function(){return o.props.isDeveloperModeEnabled?"btn-confirm-secondary":"btn-confirm-primary"},o.getExposureSymbolName=function(){return o.props.overrides[i.ROOT_COMPS.TOPBAR.CODE_MENU_ITEMS.CODE_SYMBOL]||"Descriptive_Wix code_Corvid"},o.navigateToLink=function(e){t.sendBi(r.events.topbar.top_bar_WIXCODE_resources_clicked,{esi:a.editorModel.editorSessionId,item_name:e.item_name}),window.open(e.url)},o.devToolsButtonClick=function(){t.sendBi(r.events.topbar.top_bar_CODE_menu_click,null,function(e){return{category:"dev_mode",origin:"manual",status:!o.props.isDeveloperModeEnabled,is_data_on:l.isDataModeOn(e)}}),a.fedopsLogger.interactionStarted(a.fedopsLogger.INTERACTIONS.CODE_TOP_BAR_TOGGLE),t.toggleDeveloperMode()},o.getButtonText=function(){return o.props.isDeveloperModeEnabled?b:E},o}return _inherits(n,t.Component),_createClass(n,[{key:"render",value:function(){return s.call(this)}}]),n}();return g.displayName="CodeDropPanelCorvid",g.propTypes={sendBi:e.func.isRequired,isDeveloperModeEnabled:e.bool.isRequired,toggleDeveloperMode:e.func.isRequired,devToolsButtonEnabled:e.bool.isRequired,onMouseEnter:e.func,onMouseLeave:e.func,overrides:e.object},g.defaultProps={overrides:{}},g}),define("topBar/dropPanel/dealerUpgradeDropPanel.rt",["react","lodash","baseUILib","util","topBar/topBarComponent/topBarData"],function(t,o,n,i,e){"use strict";return function(){return function(){var e=this.props.dealerViewer;return t.createElement(n.Bubble,{onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,arrowAlignment:"top",contentStyle:this.bubbleContentStyle,arrowStyle:this.bubbleArrowStyle},this.props.dealerViewer?t.createElement(e,o.assign({},{key:"dealerViewer",bannerPosition:this.props.isFirstSave?i.dealerUtils.bannerPositions.SITE_NOT_SAVED:i.dealerUtils.bannerPositions.SITE_SAVED,onDisplay:this.onDealerLoadSuccess,onError:this.onDealerError},this.getDealerViewerProps())):null)}.apply(this,[])}}),define("topBar/dropPanel/dealerUpgradeDropPanel",["react","prop-types","lodash","util","coreBi","topBar/dropPanel/dealerUpgradeDropPanel.rt"],function(t,e,n,i,a,r){"use strict";var s={position:"absolute",right:"calc(50% - 8px)",top:"53px"},l={position:"absolute",display:"block",maxWidth:"none",padding:"0",top:"60px"},o=function(e){function o(e){_classCallCheck(this,o);var t=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return t.bubbleContentStyle=l,t.bubbleArrowStyle=s,t.dealerLoadSuccess=!1,t.onDealerLoadSuccess=function(){i.dealerUtils.clearDealerRenderSuccessTimeout(t.renderTimeout),t.props.sendBi(a.events.dealer.dealer_upgrade_topbar_on_view),t.dealerLoadSuccess=!0},t.getDealerViewerProps=function(){return n.assign({},i.dealerUtils.getDealerViewerBaseProps(),{metasiteGuid:t.props.metaSiteId})},t.onDealerError=function(e){return t.props.fallbackToDefaultUpgradePanel(n.get(e,"errorType",""))},t}return _inherits(o,t.Component),_createClass(o,[{key:"componentDidMount",value:function(){this.props.sendBi(a.events.topbar.upgrade_topbar_open,{type:"dealer"}),this.dealerLoadSuccess||(this.renderTimeout=i.dealerUtils.createDealerRenderSuccessTimeout(this.props.fallbackToDefaultUpgradePanel))}},{key:"componentWillUnmount",value:function(){i.dealerUtils.clearDealerRenderSuccessTimeout(this.renderTimeout)}},{key:"render",value:function(){return r.call(this)}}]),o}();return o.displayName="DealerUpgradeDropPanel",o.propTypes={onMouseEnter:e.func.isRequired,onMouseLeave:e.func.isRequired,fallbackToDefaultUpgradePanel:e.func.isRequired,isFirstSave:e.bool.isRequired,dealerViewer:e.func.isRequired,sendBi:e.func.isRequired,metaSiteId:e.string.isRequired},o}),define("topBar/menuBar/item.rt",["react","lodash"],function(t,e){"use strict";return function(){return function(){var e=this.getCounter();return t.createElement("div",{className:this.getItemCssClasses(),"data-aid":this.props.automationId,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},e?t.createElement("div",{key:"counter",className:"top-bar-menu-bar-item-counter"},e):null,"\n    ",this.props.title,"\n")}.apply(this,[])}}),define("topBar/menuBar/item",["react","prop-types","lodash","topBar/menuBar/item.rt"],function(t,e,o,n){"use strict";var i=function(e){function o(e){_classCallCheck(this,o);var t=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return t.getCounter=function(){return t.props.getCounter&&t.props.getCounter()},t.getItemCssClasses=function(){return["top-bar-menu-bar-item",t.props.className,t.props.isActive?"active":""].join(" ")},t}return _inherits(o,t.Component),_createClass(o,[{key:"render",value:function(){return n.call(this)}}]),o}();return i.displayName="MenuBarItem",i.propTypes={title:e.string.isRequired,className:e.string,automationId:e.string,getCounter:e.func,isActive:e.bool,onMouseEnter:e.func,onMouseLeave:e.func},i.defaultProps={className:"",isActive:!1},i}),define("topBar/menuBar/menuBar.rt",["react","lodash","topBar/dropPanel/upgradeDropPanel","topBar/dropPanel/codeDropPanel","topBar/dropPanel/codeDropPanelCorvid","topBar/dropPanel/dealerUpgradeDropPanel","topBar/dropPanel/dropPanelAnchor","topBar/dropPanel/textAndLinkDropPanel","topBar/dropPanel/dropPanel","topBar/menuBar/item","experiment","uiAnimations","util"],function(a,i,r,s,l,p,u,c,d,_,T,m,P){"use strict";return function(){function n(e,t){var o=this.props.openedDropPanel===e.key&&"UPGRADE"===e.key;return a.createElement(u,{key:e.key},a.createElement(_,{title:P.translate(e.title),getCounter:e.getCounter,automationId:e.automationId,isActive:this.getActiveItemIndex()===t,onMouseEnter:function(e,t,o){this.onMouseEnter(e.key)}.bind(this,e,t,o),onMouseLeave:function(e,t,o){this.onMouseLeave()}.bind(this,e,t,o),className:e.className}),a.createElement.apply(this,[m.topBarMenuPanelAnimation,{outAnimationDuration:this.props.delayedFadeOut?.2:0},this.props.openedDropPanel===e.key&&"UPGRADE"!==e.key&&"CODE"!==e.key?a.createElement(d,{key:e.key+"DropPanel",automationId:e.dropPanelAutomationId,onMouseEnter:function(e,t,o){this.props.openDropPanel(e.key)}.bind(this,e,t,o),onMouseLeave:function(e,t,o){this.props.closeDropPanel()}.bind(this,e,t,o),isChecklist:e.isChecklist,closePanel:function(){this.props.closeDropPanel(!0)}.bind(this),items:e.getListItems()}):null,o&&!this.props.isUsingExternalUpgradeData?a.createElement(r,{key:"UpgradeDropPanel",save:this.props.save,isFirstSave:this.props.isFirstSave,sendBi:this.props.sendBi,accountUpgrade:this.props.accountUpgrade,getPersonalSaleTranslatedLabel:this.props.getPersonalSaleTranslatedLabel,getPersonalSaleCampaignSymbolName:this.props.getPersonalSaleCampaignSymbolName,isActivePersonalSaleCampaign:this.props.isActivePersonalSaleCampaign,closePanel:function(){this.props.closeDropPanel(!0)}.bind(this),onMouseEnter:function(e,t,o){this.props.openDropPanel(e.key)}.bind(this,e,t,o),onMouseLeave:function(e,t,o){this.props.closeDropPanel()}.bind(this,e,t,o)}):null,T.isOpen("se_corvidContentChange")||this.props.openedDropPanel!==e.key||"CODE"!==e.key?null:a.createElement(s,{key:"CodeDropPanel",sendBi:this.props.sendBi,toggleDeveloperMode:this.props.toggleDeveloperMode,isDeveloperModeEnabled:this.props.isDeveloperModeEnabled,onMouseEnter:function(e,t,o){this.props.openDropPanel(e.key)}.bind(this,e,t,o),onMouseLeave:function(e,t,o){this.props.closeDropPanel()}.bind(this,e,t,o),overrides:e.getOverrides(),devToolsButtonEnabled:e.devToolsButtonEnabled}),T.isOpen("se_corvidContentChange")&&this.props.openedDropPanel===e.key&&"CODE"===e.key?a.createElement(l,{key:"CorvidDropPanel",sendBi:this.props.sendBi,toggleDeveloperMode:this.props.toggleDeveloperMode,isDeveloperModeEnabled:this.props.isDeveloperModeEnabled,onMouseEnter:function(e,t,o){this.props.openDropPanel(e.key)}.bind(this,e,t,o),onMouseLeave:function(e,t,o){this.props.closeDropPanel()}.bind(this,e,t,o),overrides:e.getOverrides(),devToolsButtonEnabled:e.devToolsButtonEnabled}):null,o&&this.props.isUsingExternalUpgradeData?a.createElement(p,{key:"UpgradeDropPanel",onMouseEnter:function(e,t,o){this.props.openDropPanel(e.key)}.bind(this,e,t,o),onMouseLeave:function(e,t,o){this.props.closeDropPanel()}.bind(this,e,t,o),dealerViewer:this.props.dealerViewer,metaSiteId:this.props.metaSiteId,sendBi:this.props.sendBi,fallbackToDefaultUpgradePanel:this.props.fallbackToDefaultUpgradePanel,isFirstSave:this.props.isFirstSave}):null,this.props.backToAdiTooltipVisibility&&this.props.shouldShowADITooltip&&i.includes(this.props.textAndLinkDropPanelKeys,e.key)?i.map(this.props.customDropPanelItems,function(e,t,o,n,i){return[e.key===n.targetButtonKey?a.createElement(c,{key:e.key+"DropPanel",bubbleStyleOverrides:n.bubbleStyleOverrides,dropPanelData:n.dropPanelData}):null]}.bind(this,e,t,o)):null,i.map(this.props.customDropPanelItems,function(e,t,o,n,i){return[n.key===this.props.openedDropPanel&&n.targetButtonKey===e.key?a.createElement(c,{key:e.key+"DropPanel",bubbleStyleOverrides:n.bubbleStyleOverrides,dropPanelData:n.dropPanelData}):null]}.bind(this,e,t,o))]))}return a.createElement.apply(this,["div",{className:"top-bar-menu-bar-wrapper","data-aid":"top-bar-menu-bar"},i.map(this.props.menuBarItems,function(e,t,o){return n.apply(this,[e,t])}.bind(this))])}}),define("topBar/menuBar/menuBar",["react","prop-types","lodash","util","topBar/topBarComponent/topBarData","topBar/util/keyboardContextStack","topBar/menuBar/menuBar.rt"],function(t,e,l,p,o,u,n){"use strict";var c=o.KEYBOARD_ACCESSIBLE_DROP_PANELS,i=function(e){function o(e){_classCallCheck(this,o);var r=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));r.state={hoveredItem:null};var t=function(e){var t,o,n,i,a=(t=e,o=r.getActiveItemIndex(),n=c.length,i=-1===o?null:(n+o+t)%n,l.isNumber(i)?r.props.menuBarItems[i].key:null);a&&r.props.openDropPanel(a)};return r.closePanelImmediately=function(e){return r.props.closeDropPanel(!0,e)},r.getActiveItemIndex=function(){return l.findIndex(r.props.menuBarItems,["key",r.props.openedDropPanel||r.state.hoveredItem])},r.registerKeyboardContext=function(){var e={esc:function(){if(null!==r.props.openedDropPanel){r.props.closeDropPanel(!0)}},left:function(){return t(-1)},right:function(){return t(1)}};p.keyboardShortcuts.registerContext(p.keyboardShortcuts.CONTEXTS.MENU_BAR,e)},r.onMouseEnter=function(e){window.clearTimeout(r.openDropPanelTimer),r.setState({hoveredItem:e}),r.props.openedDropPanel?r.props.openDropPanel(e):r.openDropPanelTimer=window.setTimeout(function(){return r.props.openDropPanel(r.state.hoveredItem)},300)},r.onMouseLeave=function(){r.props.closeDropPanel(),r.setState({hoveredItem:null})},r}return _inherits(o,t.Component),_createClass(o,[{key:"componentDidMount",value:function(){this.registerKeyboardContext()}},{key:"componentWillReceiveProps",value:function(e){if(this.props.openedDropPanel!==e.openedDropPanel){var t=p.keyboardShortcuts.CONTEXTS.MENU_BAR,o=p.keyboardShortcuts.getContext(),n=null!==e.openedDropPanel,i=o===t,a=l.includes(c,e.openedDropPanel),r=u.hasContext(t),s=n&&a;!s||i||r?s||!i&&!r||u.popAndRestoreLastContext(t):u.pushAndSetContext(t)}}},{key:"componentWillUnmount",value:function(){u.popAndRestoreLastContext(p.keyboardShortcuts.CONTEXTS.MENU_BAR),p.keyboardShortcuts.unregisterContext(p.keyboardShortcuts.CONTEXTS.MENU_BAR)}},{key:"render",value:function(){return n.call(this)}}]),o}();return i.displayName="MenuBar",i.propTypes={menuBarItems:e.arrayOf(e.object).isRequired,openDropPanel:e.func.isRequired,closeDropPanel:e.func.isRequired,isUsingExternalUpgradeData:e.bool.isRequired,fallbackToDefaultUpgradePanel:e.func.isRequired,dealerViewer:e.func,delayedFadeOut:e.bool,openedDropPanel:e.string,isFirstSave:e.bool,sendBi:e.func.isRequired,save:e.func.isRequired,accountUpgrade:e.func.isRequired,toggleDeveloperMode:e.func.isRequired,isDeveloperModeEnabled:e.bool,isActivePersonalSaleCampaign:e.bool.isRequired,getPersonalSaleTranslatedLabel:e.func.isRequired,getPersonalSaleCampaignSymbolName:e.func.isRequired,customDropPanelItems:e.arrayOf(e.object).isRequired,isSiteFromOnBoarding:e.bool.isRequired,metaSiteId:e.string},i}),define("topBar/topBarBanner/topBarBanner.rt",["react","lodash","baseUILib","util"],function(e,t,o,n){"use strict";return function(){return e.createElement("div",{className:"top-bar-banner"},e.createElement(o.Composites.Banner,{key:"topBarBanner"},e.createElement(o.SectionDivider,{},e.createElement(o.TextLabel,{value:this.props.title,shouldTranslate:!0}))))}}),define("topBar/topBarBanner/topBarBanner",["react","prop-types","lodash","topBar/topBarBanner/topBarBanner.rt"],function(o,e,t,n){"use strict";var i=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,o.Component),_createClass(t,[{key:"render",value:function(){return n.call(this)}}]),t}();return i.displayName="TopBarBanner",i.propTypes={title:e.string},i}),define("topBar/topBarComponent/topBar.rt",["react","lodash","topBar/wixLogo/wixLogo","topBar/topBarButton/topBarButton","topBar/discoveryComponent/discoveryComponent","topBar/hideToolsButton/hideToolsButton","topBar/notification/notification","topBar/dropPanel/dropPanel","topBar/dropPanel/dropPanelAnchor","topBar/dropPanel/upgradeDropPanel","topBar/dropPanel/mobileDropPanel","topBar/dropPanel/textAndLinkDropPanel","topBar/dropPanel/languageDropPanel","topBar/dropPanel/dynamicDropPanel","topBar/menuBar/menuBar","topBar/topBarBanner/topBarBanner","uiAnimations","baseUILib","constants","util","experiment","pages"],function(a,r,e,s,o,i,l,t,p,n,u,c,d,_,T,m,P,b,E,g,S,O){"use strict";return function(){function n(e,t){var o=E.ROOT_COMPS.TOPBAR.BUTTONS.MOBILE;return a.createElement(p,{key:"button"+e.key},a.createElement(b.Tooltip,{disabled:this.isButtonTooltipDisabled(e),marginBottom:6,maxWidth:220,content:this.getTopBarButtonTooltipContent(e)},a.createElement(s,{className:e.className,automationId:e.automationId,label:e.label,onClick:e.onClick,setEditorMode:this.props.setEditorMode,fakeLayoutItems:e.fakeLayoutItems,onMouseEnter:function(e,t,o){this.onTopBarButtonMouseEnter(e)}.bind(this,e,t,o),onMouseLeave:e.onMouseLeave,disabled:e.disabled,ref:e.ref,customSymbol:e.customSymbol,symbolName:e.symbolName,symbolClassName:e.symbolClassName})),a.createElement.apply(this,[P.topBarMenuPanelAnimation,{outAnimationDuration:this.state.delayedFadeOut?.2:0},this.props.openedDropPanel===e.key&&e.key===o?a.createElement(u,{key:e.key+"DropPanel",isMobileOptimized:this.props.isMobileOptimized,setMobileOptimizedSite:this.props.setMobileOptimizedSite,isPreviewMode:this.props.isPreviewMode,setEditorMode:this.props.setEditorMode,isMobileEditor:this.props.isMobileEditor,topBarMobileExposureExperimentValue:this.props.topBarMobileExposureExperimentValue,sendBi:this.props.sendBi,onMouseEnter:function(e,t,o){this.openDropPanel(e.key)}.bind(this,e,t,o),onMouseLeave:function(e,t,o){this.closeDropPanel()}.bind(this,e,t,o),closePanel:function(){this.closeDropPanel(!0)}.bind(this)}):null,this.props.openedDropPanel===e.key&&r.includes(this.textAndLinkDropPanelKeys,e.key)?a.createElement(c,{key:e.key+"DropPanel",dropPanelData:e.dropPanelData,bubbleStyleOverrides:e.bubbleStyleOverrides,onMouseEnter:function(e,t,o){this.openDropPanel(e.key)}.bind(this,e,t,o),onMouseLeave:function(e,t,o){this.closeDropPanel()}.bind(this,e,t,o)}):null,r.map(this.getCustomDropPanelItems(),function(e,t,o,n,i){return[this.props.openedDropPanel===n.key&&e.key===n.targetButtonKey?a.createElement(c,{key:n.key,bubbleStyleOverrides:n.bubbleStyleOverrides,dropPanelData:n.dropPanelData,onMouseLeave:function(e,t,o,n,i){this.closeDropPanel()}.bind(this,e,t,o,n,i)}):null]}.bind(this,e,t,o))]))}function t(e,t,o){return a.createElement(p,{key:"button"+t.key},a.createElement(b.Tooltip,{disabled:this.isButtonTooltipDisabled(t),marginBottom:6,maxWidth:220,content:this.getTopBarButtonTooltipContent(t)},a.createElement(s,{className:t.extraClassName?t.className+" "+t.extraClassName:t.className,automationId:t.automationId,label:t.label,onClick:t.onClick,setEditorMode:this.props.setEditorMode,fakeLayoutItems:t.fakeLayoutItems,onMouseEnter:function(e,t,o){this.onTopBarButtonMouseEnter(t)}.bind(this,e,t,o),onMouseLeave:t.onMouseLeave,disabled:t.disabled,ref:t.ref,customSymbol:t.customSymbol,symbolName:t.symbolName,symbolClassName:t.symbolClassName})),a.createElement.apply(this,[P.topBarMenuPanelAnimation,{outAnimationDuration:this.state.delayedFadeOut?.2:0},this.props.openedDropPanel===t.key&&t.key===e?a.createElement(u,{key:t.key+"DropPanel",isMobileOptimized:this.props.isMobileOptimized,setMobileOptimizedSite:this.props.setMobileOptimizedSite,isPreviewMode:this.props.isPreviewMode,setEditorMode:this.props.setEditorMode,isMobileEditor:this.props.isMobileEditor,topBarMobileExposureExperimentValue:this.props.topBarMobileExposureExperimentValue,sendBi:this.props.sendBi,onMouseEnter:function(e,t,o){this.openDropPanel(t.key)}.bind(this,e,t,o),onMouseLeave:function(e,t,o){this.closeDropPanel()}.bind(this,e,t,o),closePanel:function(){this.closeDropPanel(!0)}.bind(this)}):null,this.props.openedDropPanel===t.key&&r.includes(this.textAndLinkDropPanelKeys,t.key)?a.createElement(c,{key:t.key+"DropPanel",dropPanelData:t.dropPanelData,bubbleStyleOverrides:t.bubbleStyleOverrides,onMouseEnter:function(e,t,o){this.openDropPanel(t.key)}.bind(this,e,t,o),onMouseLeave:function(e,t,o){this.closeSiteCustomDropPanel()}.bind(this,e,t,o)}):null,r.map(this.getCustomDropPanelItems(),function(e,t,o,n,i){return[this.props.openedDropPanel===n.key&&t.key===n.targetButtonKey&&n.dropPanelData?a.createElement(c,{key:n.key,bubbleStyleOverrides:n.bubbleStyleOverrides,dropPanelData:n.dropPanelData,onMouseLeave:function(e,t,o,n,i){this.closeSiteCustomDropPanel()}.bind(this,e,t,o,n,i)}):null,this.props.openedDropPanel===n.key&&t.key===n.targetButtonKey&&n.dynamicPanelPath?a.createElement(_,{panelPath:n.dynamicPanelPath,key:n.key+"DynamicDropPanel",bubbleStyleOverrides:n.bubbleStyleOverrides,onMouseEnter:function(e,t,o,n,i){this.openDropPanel(n.key)}.bind(this,e,t,o,n,i),onMouseLeave:function(e,t,o,n,i){this.closeSiteCustomDropPanel()}.bind(this,e,t,o,n,i)}):null]}.bind(this,e,t,o))]))}return a.createElement("div",{className:r({"top-bar-wrapper":!0,"with-top-bar-banner":this.props.showTopBarBanner&&!this.props.isHidden,"is-hidden":this.props.isHidden,"is-hidden-completely":this.props.areToolsHiddenAndStagePositionMaintained}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},a.createElement("div",{className:"main-top-bar top-bar-lang-"+this.getResponsivenessClassSuffix(),onContextMenu:this.props.onContextMenu},a.createElement.apply(this,["div",{className:"top-bar-left-section"},a.createElement(e,{sendBi:this.props.sendBi,isPreviewMode:this.props.isPreviewMode}),S.isOpen("se_multilingual")&&this.shouldShowFlag()?function(){var e,t,o,n=E.ROOT_COMPS.TOPBAR.DROP_PANELS.LANGUAGE_DROP_PANEL,i=this.getLanguageDropDownButtonProps();return a.createElement("div",{style:{position:"relative",height:"100%",zIndex:"1"},key:"languageDropPanelAnchor"},a.createElement(b.Tooltip,{marginBottom:6,closeOnMouseClick:!0,content:this.getTopBarButtonTooltipContent({tooltipData:{title:"SiteLanguages_Tooltip_Title",text:"SiteLanguages_Tooltip_Text"}})},a.createElement(s,(e={className:"language-selector-top-bar-button",key:"languageDropDownButton",onClick:this.openLanguagesDropdown},t=i,o=r.assign({},e,t),e.hasOwnProperty("style")&&(o.style=r.defaults(o.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(o.className=t.className+" "+e.className),o),function(e,t){var o=this.getFlagUrl(this.props.currentLanguageCode);return a.createElement("div",{className:"flag-icon"},o?a.createElement("img",{key:"top-bar-flag-icon",src:o,alt:this.props.currentLanguageCode}):null)}.apply(this,[n,i]))),a.createElement(P.topBarMenuPanelAnimation,{key:"languageDropPanelAnimation",outAnimationDuration:this.state.delayedFadeOut?.2:0,inAnimationDuration:0},this.props.openedDropPanel===n?a.createElement(d,{key:"languageDropPanel",onMouseLeave:this.closeDropPanel.bind(this,!1),onMouseEnter:this.stopDropPanelTimer,closeHandle:this.closeDropPanel.bind(this,!0)}):null))}.apply(this,[]):null,r.get(this.props,"overriddenQuickNavigation.isHidden")||this.props.isPreviewMode?null:a.createElement(O.quickNavigation,{key:"quickNavigation",forceOpenEventCounter:this.props.forceOpenPagesQuickNavigationEventCounter,currentPageId:this.props.currentPageId}),r.map(this.getTopBarLeftButtons(),function(e,t,o){return n.apply(this,[e,t])}.bind(this)),this.props.isPreviewMode?null:a.createElement(T,{key:"menuBarWrapper",backToAdiTooltipVisibility:this.props.getBackToAdiTooltipVisibility,shouldShowADITooltip:this.props.shouldShowADITooltip,menuBarItems:this.getMenuBarItems(),openDropPanel:this.openDropPanel,closeDropPanel:this.closeDropPanel,closeSiteCustomDropPanel:this.closeSiteCustomDropPanel,delayedFadeOut:this.state.delayedFadeOut,openedDropPanel:this.props.openedDropPanel,isFirstSave:this.props.isFirstSave,sendBi:this.props.sendBi,save:this.props.save,accountUpgrade:this.props.accountUpgrade,toggleDeveloperMode:this.props.toggleDeveloperMode,isDeveloperModeEnabled:this.props.isDeveloperModeEnabled,dealerViewer:r.get(this.props,["wixReactDealerViewer","DealerViewer"]),fallbackToDefaultUpgradePanel:this.fallbackToDefaultUpgradePanel,metaSiteId:this.props.metaSiteId,isUsingExternalUpgradeData:this.isUsingExternalUpgradeData(),getPersonalSaleTranslatedLabel:this.getPersonalSaleTranslatedLabel,getPersonalSaleCampaignSymbolName:this.getPersonalSaleCampaignSymbolName,customDropPanelItems:this.getCustomDropPanelItems(),isSiteFromOnBoarding:this.props.isSiteFromOnBoarding,textAndLinkDropPanelKeys:this.textAndLinkDropPanelKeys,isActivePersonalSaleCampaign:this.props.isActivePersonalSaleCampaign,isMobileOptimized:this.props.isMobileOptimized,setMobileOptimizedSite:this.props.setMobileOptimizedSite})]),a.createElement("div",{className:"top-bar-center-section"},this.props.isPreviewMode?a.createElement(l,{key:"notification"},this.getNotification(),"\n            "):null),function(){var e=E.ROOT_COMPS.TOPBAR.BUTTONS.MOBILE;return a.createElement.apply(this,["div",{className:"top-bar-right-section"},this.props.isDiscoveryExperimentOpen?a.createElement(o,{key:"discovery"}):null,r.map(this.getTopBarRightButtons(),t.bind(this,e))])}.apply(this,[]),this.shouldShowTopBarBanner()?a.createElement(m,{key:"top-bar-banner",title:this.props.topBarBannerTitle}):null),this.props.isPreviewMode||this.props.isMobileEditor||this.props.isImageCropOn?null:a.createElement(i,{isHidden:this.props.isHidden,key:"hideAllTools",toggleHideTools:this.props.toggleHideTools,shouldHideToolsBtnBlink:this.props.shouldHideToolsBtnBlink}))}}),define("topBar/topBarComponent/topBar",["react","prop-types","util","lodash","baseUILib","constants","higherOrderComponents","topBar/topBarComponent/topBarMapper","topBar/topBarComponent/mapTopBarPropsToCustomDropPanels","topBar/topBarComponent/mapTopBarPropsToButtons","topBar/topBarComponent/mapTopBarPropsToMenuBarItems","topBar/topBarComponent/topBarData","topBar/topBarComponent/topBar.rt","coreMultilingual","coreBi","experiment"],function(n,e,i,p,a,t,o,r,s,l,u,c,d,_,T,m){"use strict";var P=i.hoc,b=P.connect,E=P.STORES.EDITOR_API,g=t.ROOT_COMPS.TOPBAR,S=g.MODES,O=g.MENU_BAR_ITEMS,B=g.BUTTONS,h=g.DROP_PANELS,I=c.TEXT_AND_LINK_DROP_PANEL_KEYS,f=c.RESPONSIVENESS_CLASS_SUFFIXES,v=_.utils.getFlagIconUrl(i.serviceTopology.scriptsLocationMap["linguist-flags"],_.flagCountryIconType.circle),R=l.mapTopBarPropsToLeftButtons,y=l.mapTopBarPropsToRightButtons,A=T.events.topbar.top_bar_click,D=function(e){return n.createElement("span",{},[i.translate("mobile_preview_notification_text1")," ",n.createElement("a",{onClick:e.onClick},i.translate("mobile_preview_notification_link"))," ",i.translate("mobile_preview_notification_text2")])};D.displayName="MobileNonOptimizedNotification",D.propTypes={onClick:e.func.isRequired};var C=function(e){function o(t){_classCallCheck(this,o);var l=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,t));return l.state={delayedFadeOut:!0,hasDealerLoaded:!1},l.wasDealerSingleAttemptExecuted=!1,l.hasUserSeenDefaultUpgradePanel=!1,l.textAndLinkDropPanelKeys=I,l.openDropPanel=function(e){if(l.props.getBackToAdiTooltipVisibility&&t.closeBackToAdiTooltip(),e===O.UPGRADE&&!l.isUsingExternalUpgradeData()&&(l.hasUserSeenDefaultUpgradePanel=!0,!l.props.isDealerCssLoaded)){l.sendContentPresentedByDealerBI({isUsingDealer:!1,stage:"prefetch",description:"dealer not ready when user tried to open upgrade panel"})}window.clearTimeout(l.dropPanelTimer),l.props.openedDropPanel!==e&&(l.setState({delayedFadeOut:!1}),l.props.openDropPanel(e))},l.closeDropPanel=function(e){window.clearTimeout(l.dropPanelTimer),e?(l.setState({delayedFadeOut:!1}),l.props.closeDropPanel()):(l.setState({delayedFadeOut:!0}),l.dropPanelTimer=window.setTimeout(l.props.closeDropPanel,500))},l.getTopBarLeftButtons=function(){var t=l.props.isPreviewMode?S.PREVIEW:S.EDITOR,e=p.defaults({openDropPanel:function(e){return l.openDropPanel(e)},closeDropPanel:l.closeDropPanel},l.props);return p(e).thru(R).filter(function(e){return p.includes(e.MODES,t)}).value()},l.stopDropPanelTimer=function(){window.clearTimeout(l.dropPanelTimer),l.setState({delayedFadeOut:!1})},l.getTopBarRightButtons=function(){var o,n,i,t=l.props.isPreviewMode?S.PREVIEW:S.EDITOR,e=p.defaults({openDropPanel:function(e){return l.openDropPanel(e)},closeDropPanel:l.closeDropPanel},l.props),a=p(e,!0).thru(y).filter(function(e){return p.includes(e.MODES,t)}).value();if(l.props.isSiteInWixStoreTestDrive&&t===S.EDITOR){var r=p.findIndex(a,["key",B.SAVE]),s=p.findIndex(a,["key",B.PREVIEW]);return o=a,n=r,i=s,p.map(o,function(e,t){return n===t?o[i]:i===t?o[n]:e})}return a},l.getMenuBarItems=function(){return u(p.assign({closeDropPanel:l.closeDropPanel,getPersonalSaleTranslatedLabel:l.getPersonalSaleTranslatedLabel,getPersonalSaleCampaignSymbolName:l.getPersonalSaleCampaignSymbolName,getPersonalSaleCampaignImageUrl:l.getPersonalSaleCampaignImageUrl},l.props))},l.getCustomDropPanelItems=function(){return s(l.props)},l.isUsingExternalUpgradeData=function(){return l.state.hasDealerLoaded&&l.props.isDealerCssLoaded&&!l.hasUserSeenDefaultUpgradePanel},l.getNotification=function(){return l.props.isMobileEditor&&!l.props.isMobileOptimized?n.createElement(D,{onClick:function(){l.props.togglePreview(),l.props.waitForChangesApplied(function(){l.props.collapseMobileMenu(),l.props.openMobileElementsPanel()})}}):i.translate("Topbar_PREVIEW_TITLE")},l.getTopBarButtonTooltipContent=function(e){if(e.tooltipData){var t=n.createElement(a.TextLabel,{value:e.tooltipData.text,enableEllipsis:!1});if(!e.tooltipData.title)return t;var o=n.createElement(a.TextLabel,{type:"T03",value:e.tooltipData.title,enableEllipsis:!1});return n.createElement("div",{className:"top-bar-tooltip-content-wrapper"},o,t)}},l.isCustomDropPanelActiveOnTargetButton=function(e){var t=l.getCustomDropPanelItems(l.props),o=p.find(t,["key",l.props.openedDropPanel]);return o&&o.targetButtonKey===e.key},l.getPersonalSaleTranslatedLabel=function(e){return p.template(i.translate(e))({discount:l.props.personalSaleCampaignDiscountValue})},l.getPersonalSaleCampaignSymbolName=function(e){return e+"_"+l.props.personalSaleCampaignDiscountValue},l.getPersonalSaleCampaignImageUrl=function(e){return i.media.getMediaUrl("rEditor/topBar/"+l.getPersonalSaleCampaignSymbolName(e)+".png")},l.onTopBarButtonMouseEnter=function(e){var t=l.isCustomDropPanelActiveOnTargetButton(e),o=l.props.openedDropPanel===B.MOBILE,n=l.props.openedDropPanel===h.CUSTOM.PUBLISH_RC;t||n||(o||l.closeDropPanel(!0),p.isFunction(e.onMouseEnter)&&e.onMouseEnter()),l.lastOpenedDropPanel=null},l.isButtonTooltipDisabled=function(e){var t=l.isCustomDropPanelActiveOnTargetButton(e),o=B.MOBILE;return!e.tooltipData||l.props.openedDropPanel===o||l.lastOpenedDropPanel===o||t},l.getResponsivenessClassSuffix=function(){return f[i.languages.getLanguageCode()]||"large"},l.sendContentPresentedByDealerBI=function(e){var t=e.isUsingDealer,o=e.description,n=e.stage;l.props.sendBi(T.events.dealer.content_presented_by_dealer,{description:t?"":o,content_presented_by_dealer:t,stage:n,category:"upgrade",panel_name:"top_bar_upgrade"})},l.fallbackToDefaultUpgradePanel=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"unknown";if(l.state.hasDealerLoaded&&l.props.openedDropPanel===O.UPGRADE){l.setState({hasDealerLoaded:!1});var t={isUsingDealer:!1,stage:"render",description:"dealer after pre fetch "+e+" error"};l.sendContentPresentedByDealerBI(t)}},l.loadDealerAsset=function(e){i.dealerUtils.loadDealerAsset(l.wixDealerClientApi,e,null,t.metaSiteId).then(function(e){var t=void 0;if(l.props.openedDropPanel===O.UPGRADE)t={isUsingDealer:!1,stage:"prefetch",description:"load asset response received when user have upgrade panel open"};else{var o=Boolean(p.invoke(e,"assetExist"));l.setState({hasDealerLoaded:o}),t={isUsingDealer:o,stage:"prefetch",description:o?"":"banner data pre fetch asset does not exist error"}}l.sendContentPresentedByDealerBI(t)}).catch(function(e){var t={isUsingDealer:!1,stage:"prefetch",description:"banner data pre fetch "+p.get(e,"message","unknown")+" error"};l.sendContentPresentedByDealerBI(t)})},m.isOpen("se_multilingual")&&(l.getLanguageDropDownButtonProps=function(){return{className:"top-bar-button-language",automationId:"top-bar-button-language",ref:"languageDropDownButton"}},l.openLanguagesDropdown=function(){l.props.closeAllPanels(),l.openDropPanel(h.LANGUAGE_DROP_PANEL),l.props.sendBi(A,{origin:"editor",category:"multilingual"})}),l.showBackToAdiTooltip=function(){l.props.hasSeenBackToAdiTooltip||(l.props.showBackToAdiTooltip(),l.props.sendBi(T.events.backToADIFromEditor.goingBackToWixADITooltipOpened,{esi:i.editorModel.editorSessionId,site_id:l.props.siteId}))},l.closeSiteCustomDropPanel=function(){l.props.closeBackToAdiTooltip(),l.props.sendBi(T.events.backToADIFromEditor.goingBackToWixADITooltipOpened,{esi:i.editorModel.editorSessionId,site_id:l.props.siteId}),l.closeDropPanel()},l}return _inherits(o,n.Component),_createClass(o,[{key:"componentWillReceiveProps",value:function(e){if(!this.wasDealerSingleAttemptExecuted&&!this.hasUserSeenDefaultUpgradePanel&&p.get(e.wixDealerClientApi,"DealerAssetsLoader")&&e.metaSiteId){this.wasDealerSingleAttemptExecuted=!0;var t=e.isFirstSave?i.dealerUtils.bannerPositions.SITE_NOT_SAVED:i.dealerUtils.bannerPositions.SITE_SAVED;this.wixDealerClientApi=e.wixDealerClientApi,this.loadDealerAsset(t)}this.props.didPassWelcomeToEditorPanel&&this.showBackToAdiTooltip()}},{key:"componentDidUpdate",value:function(e){this.lastOpenedDropPanel=e.openedDropPanel,m.isOpen("se_fixMultilingualInstallation")&&e.tpaMlState!==this.props.tpaMlState&&this.props.onMultilingualUpdated()}},{key:"shouldShowFlag",value:function(){var e=this.props.translationLanguages&&this.props.translationLanguages.length;return this.props.isMultilingualSite&&e}},{key:"getFlagUrl",value:function(e){var t=this.props.originalLanguage,o=this.props.translationLanguages,n=[].concat(t,o).filter(p.identity).reduce(function(e,t){return p.assign(e,_defineProperty({},t.languageCode,t))},{})[e];if(n)return v(n.countryCode)}},{key:"shouldShowTopBarBanner",value:function(){return this.props.showTopBarBanner&&!this.props.isHidden}},{key:"render",value:function(){return d.call(this)}}]),o}();C.displayName="TopBar",C.propTypes={openPanel:e.func.isRequired,openPanels:e.arrayOf(e.object).isRequired,openHelpCenter:e.func.isRequired,currentPageId:e.string.isRequired,isMobileEditor:e.bool.isRequired,setEditorMode:e.func.isRequired,isPreviewMode:e.bool.isRequired,undo:e.func.isRequired,redo:e.func.isRequired,save:e.func.isRequired,upgrade:e.func.isRequired,saveAndPublish:e.func.isRequired,sendBi:e.func.isRequired,togglePreview:e.func.isRequired,togglePreviewSimple:e.func.isRequired,toggleHideTools:e.func.isRequired,enterZoomMode:e.func.isRequired,isHidden:e.bool.isRequired,shouldHideToolsBtnBlink:e.bool.isRequired,areToolsHiddenAndStagePositionMaintained:e.bool.isRequired,idePaneState:e.string.isRequired,isPublishInProgress:e.bool.isRequired,isBuildInProgress:e.bool.isRequired,isSaveInProgress:e.bool.isRequired,isFirstSave:e.bool.isRequired,isSiteFromOnBoarding:e.bool.isRequired,isSitePublished:e.bool.isRequired,siteId:e.string,metaSiteId:e.string,sitePublicUrl:e.string.isRequired,canUserPublish:e.bool.isRequired,savingStatus:e.string,publishingStatus:e.string,isMobileOptimized:e.bool,isSavedInCurrentSession:e.bool,getEditorVersionsInfo:e.func.isRequired,deviceType:e.string,isToolBarEnabled:e.bool.isRequired,isRulersEnabled:e.bool.isRequired,isGuidelinesEnabled:e.bool.isRequired,isDeveloperModeEnabled:e.bool.isRequired,isSnapToEnabled:e.bool.isRequired,isDeveloperToolBarEnabled:e.bool.isRequired,isDeveloperHiddenComponentsEnabled:e.bool.isRequired,toggleToolBar:e.func.isRequired,toggleRulers:e.func.isRequired,toggleGuidelines:e.func.isRequired,toggleSnapTo:e.func.isRequired,toggleDeveloperMode:e.func.isRequired,toggleDeveloperToolBar:e.func.isRequired,topBarSettingsMenuExperimentValue:e.string.isRequired,isDiscoveryExperimentOpen:e.bool.isRequired,isTemplate:e.bool,isUserOwner:e.bool,openWixSEOWiz:e.func.isRequired,manage:e.func.isRequired,openSettings:e.func.isRequired,openRevisions:e.func.isRequired,openReleaseManager:e.func.isRequired,myAccountAction:e.func.isRequired,openPremiumSettings:e.func.isRequired,exitEditor:e.func.isRequired,accountUpgrade:e.func.isRequired,isActivePersonalSaleCampaign:e.bool.isRequired,personalSaleCampaignAssetPath:e.string.isRequired,personalSaleCampaignDiscountValue:e.number,isSiteInWixStoreTestDrive:e.bool,setMobileOptimizedSite:e.func.isRequired,developerModeFirstTime:e.bool.isRequired,closeAllPanels:e.func.isRequired,openDropPanel:e.func.isRequired,closeDropPanel:e.func.isRequired,openedDropPanel:e.string,openMobileElementsPanel:e.func.isRequired,waitForChangesApplied:e.func,collapseMobileMenu:e.func.isRequired,autosaveDisabledOnDS:e.bool,autosaveEnabled:e.bool,shouldShowAutoSaveUI:e.bool,forceOpenPagesQuickNavigationEventCounter:e.number.isRequired,getFeedbackNewCommentsCounter:e.func.isRequired,overriddenMenus:e.arrayOf(e.object),overriddenSiteMenu:e.arrayOf(e.object),overriddenSettingsMenu:e.arrayOf(e.object),overriddenToolsMenu:e.arrayOf(e.object),overriddenHelpMenu:e.arrayOf(e.object),overriddenButtons:e.arrayOf(e.object),overriddenCustomDropPanels:e.arrayOf(e.object),closeSiteCustomDropPanel:e.func,toggleRightSection:e.func,isWidgetPublicAPISectionOpen:e.bool,wixReactDealerViewer:e.object,wixDealerClientApi:e.object,isDealerCssLoaded:e.bool,isImageCropOn:e.bool,showTopBarBanner:e.bool,topBarBannerTitle:e.string,closeBackToAdiTooltip:e.func,showBackToAdiTooltip:e.func,getBackToAdiTooltipVisibility:e.bool,hasSeenBackToAdiTooltip:e.bool,didPassWelcomeToEditorPanel:e.bool,shouldShowADITooltip:e.bool},m.isOpen("se_multilingual")&&(C.propTypes.isMultilingualSite=e.bool.isRequired,C.propTypes.currentLanguageCode=e.string,C.propTypes.originalLanguage=e.object,C.propTypes.translationLanguages=e.arrayOf(e.object),C.propTypes.supportedLanguages=e.arrayOf(e.object),C.propTypes.loadSupportedLanguages=e.func,m.isOpen("se_fixMultilingualInstallation")&&(C.propTypes.tpaMlState=e.object,C.propTypes.onMultilingualUpdated=e.func)),C.propTypes.closeBackToAdiTooltip=e.func,C.propTypes.showBackToAdiTooltip=e.func,C.propTypes.getBackToAdiTooltipVisibility=e.bool,C.propTypes.hasSeenBackToAdiTooltip=e.bool,C.propTypes.didPassWelcomeToEditorPanel=e.bool,m.isOpen("se_publishNotAlwaysSaving")&&(C.propTypes.publish=e.func.isRequired);var M=r.mapStateToProps,L=r.mapDispatchToProps,k=p.flow(b(E,M,L),o.noUpdateOnMouseMove)(C);return k.pure=C,k}),define("topBar/dropPanel/publishRC.rt",["react","lodash","util","baseUILib","santa-editor-symbols"],function(e,t,o,n,i){"use strict";return function(){return e.createElement("div",{className:"publish-rc-drop-panel"},e.createElement("div",{className:"container"},e.createElement(i.symbol,{className:"icon",name:"dropPanel_publish"}),e.createElement("div",{className:"content"},e.createElement(n.TextLabel,{key:"publishLabel",className:"label",type:"T18",value:"Release_Manager_Dropdown_Publish_Title"}),e.createElement(n.RichText,{key:"publishText",className:"text"},e.createElement("p",{},"\n               ",o.translate("Release_Manager_Dropdown_Publish_Text"),"\n            ")),e.createElement(n.Button,{automationId:"publishButton",key:"publishButton",className:"button",onClick:function(){this.publish()}.bind(this)},"\n            ",o.translate("Release_Manager_Dropdown_Publish_Button"),"\n          \n      "))),e.createElement(n.Divider,{className:"divider"}),e.createElement("div",{className:"container"},e.createElement(i.symbol,{className:"icon",name:"dropPanel_rc"}),e.createElement("div",{className:"content"},e.createElement(n.TextLabel,{key:"rcLabel",className:"label",type:"T18",value:"Release_Manager_Dropdown_Create_RC_Title"}),e.createElement(n.RichText,{key:"rcText",className:"text"},e.createElement("p",{},"\n               ",o.translate("Release_Manager_Dropdown_Create_RC_Text"),"\n            ")),e.createElement(n.Button,{key:"rcButton",automationId:"rcButton",className:"btn-confirm-secondary",onClick:function(){this.publishRC()}.bind(this),'"':!0},"\n            ",o.translate("Release_Manager_Dropdown_Create_RC_Button"),"\n          \n      "))))}}),define("topBar/dropPanel/publishRC",["react","lodash","util","prop-types","stateManagement","coreBi","experiment","topBar/dropPanel/publishRC.rt"],function(o,l,e,t,p,n,u,i){"use strict";var a=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,o.Component),_createClass(t,[{key:"publish",value:function(){this.props.canUserPublish&&(this.props.shouldSaveBeforePublish?this.props.saveAndPublish("top_bar_publishRC_dropdown_publish"):this.props.publish("top_bar_publishRC_dropdown_publish"),this.props.sendBI(n.events.publish.PUBLISH_ALL,{origin:"publish"}))}},{key:"publishRC",value:function(){this.props.publishRC("top_bar_publishRC_dropdown"),this.props.sendBI(n.events.topbar.start_creating_rc_click,{origin:"publish"})}},{key:"render",value:function(){return i.call(this)}}]),t}();a.displayName="PublishRCDropPanel",a.propTypes={publishText:t.string,publishLabel:t.string,shouldTranslate:t.bool};var r=e.hoc.connect(e.hoc.STORES.EDITOR_API,function(e){var o=e.editorAPI,t=o.publishManager.publishRC,n=o.publishManager.publish,i=o.publishManager.saveAndPublish,a=o.savePublish.canUserPublish,r=l.invoke(o,"dsRead.generalInfo.isFirstSave")||!1,s=p.savePublish.selectors;return{publish:n,publishRC:t,canUserPublish:a,saveAndPublish:i,shouldSaveBeforePublish:r||s.getOverridingSaveAndPublish(o.store.getState())||!u.isOpen("se_publishNotAlwaysSaving"),sendBI:function(e,t){return o.bi.event(e,t)}}})(a);return r.pure=a,r}),define("topBar",["topBar/topBarComponent/topBar","topBar/dropPanel/publishRC"],function(e,t){"use strict";return{topBar:e,dropPanels:{publishRC:t}}});
//# sourceMappingURL=topBar.min.js.map