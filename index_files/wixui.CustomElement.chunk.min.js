(("undefined"!=typeof self?self:this).webpackJsonp_wix_ui_santa=("undefined"!=typeof self?self:this).webpackJsonp_wix_ui_santa||[]).push([[45],{1033:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomElement=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),i=_interopRequireDefault(n(0)),s=n(12),a=n(35),p=_interopRequireDefault(n(1034));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(e){function LiveSiteCustomElement(e){_classCallCheck(this,LiveSiteCustomElement);var t=_possibleConstructorReturn(this,(LiveSiteCustomElement.__proto__||Object.getPrototypeOf(LiveSiteCustomElement)).call(this,e));return t.registeredEvents={},e.isInSeo?_possibleConstructorReturn(t):(t.props.externalScriptLoader.loadExternalScript(e.compData.url),t)}return _inherits(LiveSiteCustomElement,i.default.Component),r(LiveSiteCustomElement,[{key:"render",value:function render(){var e=this,t=Object.assign(this.props.getRequiredProps(),this.props.compData.attributes||{},{ref:function ref(t){return e.compRef=t},suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:""}});return this.props.isInSeo&&(t.dangerouslySetInnerHTML={__html:this.props.compData.seoMarkup}),t.style&&t.style.height&&(t.style["min-height"]=t.style.height,delete t.style.height),i.default.createElement(this.props.compData.tagName,t)}},{key:"componentDidUpdate",value:function componentDidUpdate(){var e=this;Object.values(this.props.compActions||{}).filter(function(t){var n=t.name;return!e.registeredEvents[n]}).forEach(function(t){var n=t.name,o=t.sourceId,r=t.type;e.compRef.addEventListener(n,function(t){return e.props.handleAction({name:n,sourceId:o,type:r},{data:t.detail})}),e.registeredEvents[n]=!0})}}]),LiveSiteCustomElement}(),c=t.CustomElement=function(e){function CustomElement(){return _classCallCheck(this,CustomElement),_possibleConstructorReturn(this,(CustomElement.__proto__||Object.getPrototypeOf(CustomElement)).apply(this,arguments))}return _inherits(CustomElement,s.SantaComponent),r(CustomElement,[{key:"render",value:function render(){return this.props.isPreviewMode?i.default.createElement(p.default,o({},this.props,{getRequiredProps:this.getRequiredProps})):i.default.createElement(u,o({},this.props,{getRequiredProps:this.getRequiredProps}))}}]),CustomElement}();c.displayName=a.COMP_NAME,c.propTypes={id:s.santaTypesDefinitions.Component.id,styleId:s.santaTypesDefinitions.Component.styleId,style:s.santaTypesDefinitions.Component.style,compData:s.santaTypesDefinitions.Component.compData.isRequired,compProp:s.santaTypesDefinitions.Component.compProp.isRequired,isInSeo:s.santaTypesDefinitions.isInSeo.isRequired,isPreviewMode:s.santaTypesDefinitions.isPreviewMode,compActions:s.santaTypesDefinitions.Component.compActions,handleAction:s.santaTypesDefinitions.Behaviors.handleAction,externalScriptLoader:s.santaTypesDefinitions.SiteAspects.externalScriptLoader.isRequired,scriptsLocationMap:s.santaTypesDefinitions.ServiceTopology.scriptsLocationMap.isRequired},u.propTypes=c.propTypes},1034:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),r=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0)),i=n(12);var s=function(e){function CustomElement(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CustomElement);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(CustomElement.__proto__||Object.getPrototypeOf(CustomElement)).call(this,e));return t.state={iframe:null},t.iframeSrc=e.scriptsLocationMap["wix-ui-santa"]+"/customElementIframe/index.html",t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(CustomElement,i.SantaComponent),o(CustomElement,[{key:"render",value:function render(){return r.default.createElement("div",this.props.getRequiredProps(),r.default.createElement("iframe",{src:this.iframeSrc,id:this.props.id+"-iframe",style:{width:"100%",height:"100%"}}))}},{key:"componentDidMount",value:function componentDidMount(){var e=this,t=document.getElementById(this.props.id+"-iframe");window.onmessage=function(t){"iframe_web_component_trigger_event"===t.data.type&&e.props.handleAction(t.data.event,{data:t.data.data})},t.onload=function(){t.contentWindow.postMessage({type:"load",tagName:e.props.compData.tagName,attributes:e.props.compData.attributes,compActions:e.props.compActions,style:{width:e.props.style.width,height:e.props.style.height},url:e.props.compData.url,viewerCssUrl:e.props.scriptsLocationMap.santa+"/static/css/viewer.css"},"*")},this.setState({iframe:t})}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.state.iframe&&this.state.iframe.contentWindow.postMessage({type:"reload"},"*")}}]),CustomElement}();t.default=s},35:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.COMP_TYPE="wixui.CustomElementComponent",t.COMP_NAME="CustomElement"},566:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1033),r=n(35);t.default={componentType:r.COMP_TYPE,santaComponent:o.CustomElement}}}]);
//# sourceMappingURL=wixui.CustomElement.chunk.min.js.map